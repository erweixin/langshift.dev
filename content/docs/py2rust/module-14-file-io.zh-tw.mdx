---
title: "模組 14: 文件 I/O 和標準庫 - 文件操作"
description: "學習 Rust 的文件輸入/輸出、路徑操作、命令行參數和環境變量,與 Python 的方法進行比較。"
---

# 模組 14: 文件 I/O 和標準庫 - 文件操作

在本模組中,你將學習 Rust 如何處理文件 I/O 和系統交互,以及這與 Python 的方法的比較。

## 學習目標

完成本模組後,你將能夠:
- 在 Rust 中讀寫文件
- 操作文件系統路徑
- 處理命令行參數
- 使用環境變量
- 有效地使用 Rust 的標準庫

## 讀取文件

<UniversalEditor compare={true} title="讀取整個文件">
```python !! py
# Python: 簡單文件讀取
with open('file.txt', 'r') as f:
    content = f.read()
    print(content)
```

```rust !! rs
// Rust: 讀取整個文件
use std::fs;

fn main() {
    match fs::read_to_string("file.txt") {
        Ok(content) => println!("{}", content),
        Err(e) => eprintln!("錯誤: {}", e),
    }
}
```
</UniversalEditor>

## 寫入文件

<UniversalEditor compare={true} title="寫入文件">
```python !! py
# Python: 寫入文件
with open('output.txt', 'w') as f:
    f.write("Hello, World!\n")
```

```rust !! rs
// Rust: 寫入文件
use std::fs::File;
use std::io::Write;

fn write_file() -> std::io::Result<()> {
    let mut file = File::create("output.txt")?;
    file.write_all(b"Hello, World!\n")?;
    Ok(())
}
```
</UniversalEditor>

## 路徑操作

<UniversalEditor compare={true} title="路徑操作">
```python !! py
# Python: pathlib
from pathlib import Path

path = Path("data") / "files" / "example.txt"
print(path.parent)
```

```rust !! rs
// Rust: std::path::Path
use std::path::Path;

fn path_operations() {
    let path = Path::new("data/files/example.txt");
    println!("父目錄: {:?}", path.parent());
}
```
</UniversalEditor>

## 命令行參數

<UniversalEditor compare={true} title="命令行參數">
```python !! py
# Python: sys.argv
import sys

filename = sys.argv[1]
print(f"處理: {filename}")
```

```rust !! rs
// Rust: std::env::args
use std::env;

fn main() {
    let args: Vec<String> = env::args().collect();
    let filename = &args[1];
    println!("處理: {}", filename);
}
```
</UniversalEditor>

## 總結

- **文件 I/O** 使用 `std::fs` 和 `std::io`
- **路徑** 使用 `std::path` 進行跨平台支持
- **Rust 的方法**比 Python 的更冗長但更安全

## 下一模組

在最後一個模組中,我們將探索**線程和並發**。
