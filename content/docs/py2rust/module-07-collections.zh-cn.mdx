---
title: "æ¨¡å— 7ï¼šé›†åˆä¸æ•°æ®ç»“æ„"
description: "é€šè¿‡ä¸ Python å†…ç½®é›†åˆå¯¹æ¯”ï¼ŒæŒæ¡ Rust çš„é›†åˆç±»å‹ï¼ŒåŒ…æ‹¬ Vecã€Stringã€HashMap å’Œè¿­ä»£å™¨"
---

# æ¨¡å— 7ï¼šé›†åˆä¸æ•°æ®ç»“æ„

æ¬¢è¿æ¥åˆ°æ¨¡å— 7ï¼åœ¨æœ¬æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ Rust çš„é›†åˆç±»å‹ï¼Œä»¥åŠå®ƒä»¬ä¸ Python å†…ç½®é›†åˆçš„å¯¹æ¯”ã€‚ç†è§£è¿™äº›å·®å¼‚å¯¹äºç¼–å†™åœ°é“çš„ Rust ä»£ç è‡³å…³é‡è¦ã€‚

## å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æ¨¡å—åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- ä½¿ç”¨ Rust çš„ `Vec<T>` ç±»å‹ï¼Œå¹¶ä¸ Python çš„ `list` è¿›è¡Œå¯¹æ¯”
- åŒºåˆ† `String` å’Œ `&str` ç±»å‹
- ä½¿ç”¨ `HashMap<K, V>` è¿›è¡Œé”®å€¼å­˜å‚¨
- åˆ©ç”¨ Rust å¼ºå¤§çš„è¿­ä»£å™¨ç³»ç»Ÿ
- ä¸ºä½ çš„ç”¨ä¾‹é€‰æ‹©åˆé€‚çš„é›†åˆ

## 7.1 `Vec<T>` vs Python çš„ list

### Python åˆ—è¡¨ï¼šçµæ´»ä¸”åŠ¨æ€

åœ¨ Python ä¸­ï¼Œåˆ—è¡¨æ˜¯åŠ¨æ€ç±»å‹çš„ï¼Œå¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹ï¼š

```python
# Python - åŠ¨æ€ç±»å‹
numbers = [1, 2, 3, 4, 5]
mixed = [1, "hello", 3.14, True]

# è¿½åŠ å’Œåˆ é™¤
numbers.append(6)
numbers.pop()  # åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 

# åˆ—è¡¨æ¨å¯¼å¼
squares = [x**2 for x in range(10)]
```

### Rust `Vec<T>`ï¼šç±»å‹å®‰å…¨ä¸”è¿ç»­

Rust çš„ `Vec<T>` æ˜¯å…·æœ‰è¿ç»­å†…å­˜çš„å¯å¢é•¿æ•°ç»„ç±»å‹ï¼š

<UniversalEditor compare={true} title="å‘é‡åˆ›å»ºå’Œæ“ä½œ">
```python !! py
# Python - åŠ¨æ€åˆ—è¡¨
numbers = [1, 2, 3, 4, 5]
numbers.append(6)

# åˆ—è¡¨æ¨å¯¼å¼
squares = [x**2 for x in range(10)]
print(squares)  # [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# æ··åˆç±»å‹ï¼ˆPython ä¸­å…è®¸ï¼‰
mixed = [1, "hello", 3.14]
```

```rust !! rs
// Rust - ç±»å‹åŒ–å‘é‡
let mut numbers: Vec<i32> = vec![1, 2, 3, 4, 5];
numbers.push(6);

// è¿­ä»£å™¨ç­‰ä»·äºåˆ—è¡¨æ¨å¯¼å¼
let squares: Vec<i32> = (0..10).map(|x| x * x).collect();
println!("{:?}", squares); // [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

// æ··åˆç±»å‹ï¼Ÿä½¿ç”¨æšä¸¾æˆ– trait å¯¹è±¡ï¼
#[derive(Debug)]
enum Mixed {
    Int(i32),
    String(String),
    Float(f64),
}

let mixed: Vec<Mixed> = vec![
    Mixed::Int(1),
    Mixed::String(String::from("hello")),
    Mixed::Float(3.14),
];
println!("{:?}", mixed);
```
</UniversalEditor>

### ä¸»è¦å·®å¼‚

1. **ç±»å‹å®‰å…¨**ï¼šRust å‘é‡æ˜¯åŒæ„çš„ï¼ˆç›¸åŒç±»å‹ `T`ï¼‰
2. **å†…å­˜å¸ƒå±€**ï¼šåƒ Python åˆ—è¡¨ä¸€æ ·çš„è¿ç»­å†…å­˜
3. **å®¹é‡ç®¡ç†**ï¼šRust å‘é‡å…·æœ‰æ˜¾å¼çš„å®¹é‡æ§åˆ¶

<UniversalEditor compare={true} title="å®¹é‡ç®¡ç†">
```python !! py
# Python - è‡ªåŠ¨å†…å­˜ç®¡ç†
numbers = []
for i in range(1000):
    numbers.append(i)
# Python è‡ªåŠ¨å¤„ç†æ‰€æœ‰å†…å­˜åˆ†é…
```

```rust !! rs
// Rust - æ˜¾å¼å®¹é‡æ§åˆ¶
let mut numbers = Vec::with_capacity(1000);
for i in 0..1000 {
    numbers.push(i);
}
// é¢„åˆ†é…å®¹é‡æ¯”é‡å¤é‡æ–°åˆ†é…æ›´é«˜æ•ˆ

// æ£€æŸ¥å®¹é‡å’Œé•¿åº¦
println!("Capacity: {}, Length: {}", numbers.capacity(), numbers.len());

// å¦‚æœéœ€è¦ï¼Œæ”¶ç¼©ä»¥é€‚åº”
numbers.shrink_to_fit();
```
</UniversalEditor>

## 7.2 String vs &strï¼šå­—ç¬¦ä¸²ç±»å‹ç³»ç»Ÿ

å¯¹äº Python å¼€å‘è€…æ¥è¯´ï¼Œæœ€ä»¤äººå›°æƒ‘çš„æ–¹é¢ä¹‹ä¸€æ˜¯ Rust çš„å­—ç¬¦ä¸²ç±»å‹ã€‚

### å­—ç¬¦ä¸²ç±»å‹æ¦‚è¿°

<UniversalEditor compare={true} title="å­—ç¬¦ä¸²ç±»å‹å¯¹æ¯”">
```python !! py
# Python - åªæœ‰ä¸€ç§å­—ç¬¦ä¸²ç±»å‹
s1 = "Hello"
s2 = s1  # å¼•ç”¨ï¼Œä¸å¤åˆ¶
s3 = s1 + " World"  # æ–°å­—ç¬¦ä¸²

# å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„
# s1[0] = 'h'  # é”™è¯¯ï¼
```

```rust !! rs
// Rust - ä¸¤ç§ä¸»è¦å­—ç¬¦ä¸²ç±»å‹
// String: æ‹¥æœ‰çš„ã€å¯å¢é•¿çš„ã€å †åˆ†é…çš„
let mut s1: String = String::from("Hello");
s1.push_str(" World");

// &str: å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œä¸å¯å˜è§†å›¾
let s2: &str = "Hello";
let s3: &str = &s1[0..5];  // String çš„åˆ‡ç‰‡

// &str ä¸èƒ½è¢«ä¿®æ”¹
// s2.push('!');  // é”™è¯¯ï¼

// String åˆ° &strï¼ˆå»‰ä»·è½¬æ¢ï¼‰
let s4: &str = &s1;
```
</UniversalEditor>

### å­—ç¬¦ä¸²åˆ›å»ºæ–¹æ³•

<UniversalEditor compare={true} title="åˆ›å»ºå­—ç¬¦ä¸²">
```python !! py
# Python - å­—ç¬¦ä¸²åˆ›å»º
s1 = "Hello"
s2 = str(42)
s3 = f"Number: {42}"
s4 = " ".join(["Hello", "World"])
```

```rust !! rs
// Rust - å¤šç§åˆ›å»ºå­—ç¬¦ä¸²çš„æ–¹å¼
let s1: String = String::from("Hello");
let s2: String = "World".to_string();
let s3: String = format!("Number: {}", 42);
let s4: String = vec!["Hello", "World"].join(" ");

// ä»å­—ç¬¦åˆ›å»º
let s5: String = ['H', 'e', 'l', 'l', 'o'].iter().collect();

// å¸¦å®¹é‡
let mut s6 = String::with_capacity(10);
s6.push_str("Hello");
```
</UniversalEditor>

### å­—ç¬¦ä¸²æ“ä½œ

<UniversalEditor compare={true} title="å­—ç¬¦ä¸²æ“ä½œ">
```python !! py
# Python - å­—ç¬¦ä¸²æ“ä½œ
text = "Hello, World!"

# é•¿åº¦ï¼ˆå­—ç¬¦ï¼‰
print(len(text))  # 13

# åˆ‡ç‰‡ï¼ˆå­—èŠ‚ï¼Œä¸æ˜¯å­—ç¬¦ï¼ï¼‰
print(text[0:5])  # "Hello"

# åˆ†å‰²
words = text.split(", ")
print(list(words))  # ['Hello', 'World!']

# å»é™¤ç©ºæ ¼
trimmed = "  hello  ".strip()
```

```rust !! rs
// Rust - å­—ç¬¦ä¸²æ“ä½œ
let text = String::from("Hello, World!");

// é•¿åº¦ï¼ˆå­—èŠ‚ï¼Œä¸æ˜¯å­—ç¬¦ï¼ï¼‰
println!("Length: {}", text.len());  // 13 å­—èŠ‚

// å­—ç¬¦è®¡æ•°ï¼ˆä¸ len() ä¸åŒï¼‰
println!("Chars: {}", text.chars().count());  // 13 å­—ç¬¦

// åˆ‡ç‰‡ï¼ˆå¿…é¡»åœ¨æœ‰æ•ˆçš„ UTF-8 è¾¹ç•Œä¸Šï¼‰
let hello = &text[0..5];  // "Hello"

// åˆ†å‰²
let words: Vec<&str> = text.split(", ").collect();
println!("{:?}", words);  // ["Hello", "World!"]

// å»é™¤ç©ºæ ¼
let trimmed = "  hello  ".trim();
println!("{}", trimmed);  // "hello"

// å­—ç¬¦è¿­ä»£
for c in text.chars() {
    println!("{}", c);
}
```
</UniversalEditor>

### å¸¸è§é™·é˜±ï¼šUTF-8 ç¼–ç 

<UniversalEditor compare={true} title="UTF-8 å¤„ç†">
```python !! py
# Python - è‡ªåŠ¨å¤„ç† Unicode
emoji = "Hello ğŸ˜Š"
print(len(emoji))  # 8ï¼ˆå­—ç¬¦ï¼‰
print(emoji[6])    # ğŸ˜Š
```

```rust !! rs
// Rust - éœ€è¦ UTF-8 æ„è¯†
let emoji = String::from("Hello ğŸ˜Š");

// å­—èŠ‚é•¿åº¦ vs å­—ç¬¦è®¡æ•°
println!("Bytes: {}", emoji.len());      // 10 å­—èŠ‚ï¼ˆğŸ˜Š æ˜¯ 4 å­—èŠ‚ï¼‰
println!("Chars: {}", emoji.chars().count());  // 8 å­—ç¬¦

// ä¸èƒ½é€šè¿‡ä½ç½®ç´¢å¼•ï¼ˆå¯èƒ½åˆ†å‰²å¤šå­—èŠ‚å­—ç¬¦ï¼‰
// let c = emoji[6];  // ææ…Œï¼ä¸åœ¨å­—ç¬¦è¾¹ç•Œä¸Š

// è·å–ç¬¬ n ä¸ªå­—ç¬¦çš„æ­£ç¡®æ–¹æ³•
let c = emoji.chars().nth(6).unwrap();
println!("{}", c);  // ğŸ˜Š
```
</UniversalEditor>

## 7.3 `HashMap<K, V>`

### Python å­—å…¸ vs Rust HashMap

<UniversalEditor compare={true} title="HashMap åŸºç¡€">
```python !! py
# Python - å­—å…¸
scores = {
    "Alice": 95,
    "Bob": 87,
    "Charlie": 92,
}

# ä½¿ç”¨é»˜è®¤å€¼è®¿é—®
print(scores.get("David", 0))  # 0

# æ·»åŠ /æ›´æ–°
scores["David"] = 88

# æ£€æŸ¥å­˜åœ¨æ€§
if "Alice" in scores:
    print(f"Alice scored {scores['Alice']}")
```

```rust !! rs
// Rust - HashMap
use std::collections::HashMap;

let mut scores: HashMap<&str, i32> = HashMap::new();

// æ’å…¥
scores.insert("Alice", 95);
scores.insert("Bob", 87);
scores.insert("Charlie", 92);

// ä½¿ç”¨é»˜è®¤å€¼è®¿é—®
println!("{:?}", scores.get("David").unwrap_or(&0));  // 0

// æ·»åŠ /æ›´æ–°
scores.insert("David", 88);

// æ£€æŸ¥å­˜åœ¨æ€§
if let Some(score) = scores.get("Alice") {
    println!("Alice scored {}", score);
}

// Entry API ç”¨äºæ¡ä»¶æ’å…¥
scores.entry("Eve").or_insert(90);
```
</UniversalEditor>

### HashMap æ‰€æœ‰æƒ

<UniversalEditor compare={true} title="HashMap å’Œæ‰€æœ‰æƒ">
```python !! py
# Python - å¼•ç”¨è‡ªç„¶å·¥ä½œ
key = "name"
data = {key: "Alice"}  # å·¥ä½œæ­£å¸¸
```

```rust !! rs
// Rust - æ‰€æœ‰æƒå¾ˆé‡è¦
use std::collections::HashMap;

let key = String::from("name");
let mut map: HashMap<String, String> = HashMap::new();

// é”™è¯¯ï¼škey è¢«ç§»åŠ¨äº†
// map.insert(key, "Alice");

// è§£å†³æ–¹æ¡ˆï¼šå…‹éš† key
map.insert(key.clone(), "Alice");
println!("{}", key);  // ä»ç„¶å¯è®¿é—®

// æˆ–ä½¿ç”¨å¼•ç”¨
let key_ref = &key;
map.insert(key_ref.clone(), "Bob");
```
</UniversalEditor>

### HashMap è¿­ä»£

<UniversalEditor compare={true} title="è¿­ä»£ HashMap">
```python !! py
# Python - å­—å…¸è¿­ä»£
scores = {"Alice": 95, "Bob": 87}

# é”®
for name in scores.keys():
    print(name)

# å€¼
for score in scores.values():
    print(score)

# ä¸¤è€…
for name, score in scores.items():
    print(f"{name}: {score}")
```

```rust !! rs
// Rust - HashMap è¿­ä»£
use std::collections::HashMap;

let scores = HashMap::from([
    ("Alice", 95),
    ("Bob", 87),
]);

// é”®
for name in scores.keys() {
    println!("{}", name);
}

// å€¼
for score in scores.values() {
    println!("{}", score);
}

// ä¸¤è€…
for (name, score) in &scores {
    println!("{}: {}", name, score);
}
```
</UniversalEditor>

## 7.4 è¿­ä»£å™¨ï¼šæƒ°æ€§å’Œå¼ºå¤§

Rust çš„è¿­ä»£å™¨ç³»ç»Ÿæ¯” Python çš„æ›´å¼ºå¤§å’Œæ˜¾å¼ã€‚

### è¿­ä»£å™¨åŸºç¡€

<UniversalEditor compare={true} title="åˆ›å»ºè¿­ä»£å™¨">
```python !! py
# Python - è¿­ä»£å™¨æ— å¤„ä¸åœ¨
numbers = [1, 2, 3, 4, 5]

# è¿­ä»£å™¨ï¼ˆéšå¼ï¼‰
for n in numbers:
    print(n)

# æ˜¾å¼è¿­ä»£å™¨
it = iter(numbers)
print(next(it))  # 1
print(next(it))  # 2

# åˆ—è¡¨æ¨å¯¼å¼ï¼ˆæ€¥åˆ‡ï¼‰
squares = [x**2 for x in numbers]
```

```rust !! rs
// Rust - æ˜¾å¼è¿­ä»£å™¨ç±»å‹
let numbers = vec![1, 2, 3, 4, 5];

// for å¾ªç¯éšå¼ä½¿ç”¨è¿­ä»£å™¨
for n in &numbers {
    println!("{}", n);
}

// æ˜¾å¼è¿­ä»£å™¨
let mut it = numbers.iter();
println!("{:?}", it.next());  // Some(1)
println!("{:?}", it.next());  // Some(2)

// collect() æ˜¯æ€¥åˆ‡çš„ï¼Œåƒåˆ—è¡¨æ¨å¯¼å¼
let squares: Vec<i32> = numbers.iter().map(|x| x * x).collect();
println!("{:?}", squares);
```
</UniversalEditor>

### è¿­ä»£å™¨é“¾

<UniversalEditor compare={true} title="é“¾å¼è¿­ä»£å™¨æ–¹æ³•">
```python !! py
# Python - ä½¿ç”¨ç”Ÿæˆå™¨çš„æ–¹æ³•é“¾
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# å¤šä¸ªæ“ä½œ
result = [
    x * 2
    for x in numbers
    if x % 2 == 0
]
print(result)  # [4, 8, 12, 16, 20]

# ä½¿ç”¨ filter å’Œ mapï¼ˆä½¿ç”¨ç”Ÿæˆå™¨ï¼‰
result2 = list(
    map(lambda x: x * 2,
        filter(lambda x: x % 2 == 0, numbers))
)
```

```rust !! rs
// Rust - æµç•…çš„è¿­ä»£å™¨é“¾
let numbers = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// æ–¹æ³•çš„æµç•…é“¾
let result: Vec<i32> = numbers
    .iter()
    .filter(|&&x| x % 2 == 0)  // ä¿ç•™å¶æ•°
    .map(|x| x * 2)            // åŠ å€
    .collect();
println!("{:?}", result);  // [4, 8, 12, 16, 20]

// æƒ°æ€§ï¼šç›´åˆ° collect() æ‰ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…
let chain = numbers.iter()
    .filter(|&&x| x % 2 == 0)
    .map(|x| x * 2);
// è¿˜æ²¡æœ‰è®¡ç®—ï¼
let result: Vec<i32> = chain.collect();  // ç°åœ¨è¿è¡Œ
```
</UniversalEditor>

### è¿­ä»£å™¨æ¶ˆè´¹

<UniversalEditor compare={true} title="æ¶ˆè´¹è¿­ä»£å™¨">
```python !! py
# Python - æ¶ˆè´¹è¿­ä»£å™¨
numbers = [1, 2, 3, 4, 5]

# æ±‚å’Œ
total = sum(numbers)  # 15

# Any/All
has_even = any(n % 2 == 0 for n in numbers)  # True
all_positive = all(n > 0 for n in numbers)   # True

# æŸ¥æ‰¾
first_even = next((n for n in numbers if n % 2 == 0), None)
print(first_even)  # 2
```

```rust !! rs
// Rust - æ¶ˆè´¹è¿­ä»£å™¨
let numbers = vec![1, 2, 3, 4, 5];

// æ±‚å’Œ
let total: i32 = numbers.iter().sum();  // 15

// Any/All
let has_even = numbers.iter().any(|&x| x % 2 == 0);  // true
let all_positive = numbers.iter().all(|&x| x > 0);   // true

// æŸ¥æ‰¾
let first_even = numbers.iter().find(|&&x| x % 2 == 0);
println!("{:?}", first_even);  // Some(2)

// Foldï¼ˆåƒ reduceï¼‰
let sum = numbers.iter().fold(0, |acc, &x| acc + x);
println!("{}", sum);  // 15
```
</UniversalEditor>

### IntoIteratorï¼šä¸åŒçš„è¿­ä»£ç±»å‹

<UniversalEditor compare={true} title="Iteratorã€IntoIterator å’Œ IterMut">
```python !! py
# Python - ä¸åŒçš„è¿­ä»£æ¨¡å¼
numbers = [1, 2, 3]

# è¯»å–å…ƒç´ 
for n in numbers:
    print(n)

# ä¿®æ”¹å…ƒç´ ï¼ˆå°±åœ°ï¼‰
for i in range(len(numbers)):
    numbers[i] *= 2
```

```rust !! rs
// Rust - ä¸‰ç§è¿­ä»£ç±»å‹
let numbers = vec![1, 2, 3];

// iter() - å€Ÿç”¨çš„å…ƒç´ ï¼ˆåªè¯»ï¼‰
for n in numbers.iter() {
    println!("{}", n);
}

// into_iter() - æ‹¥æœ‰çš„å…ƒç´ ï¼ˆæ¶ˆè€—å‘é‡ï¼‰
for n in numbers.into_iter() {
    println!("{}", n);
}
// numbers ä¸å†å¯ç”¨ï¼

// iter_mut() - å¯å˜å€Ÿç”¨ï¼ˆå°±åœ°ä¿®æ”¹ï¼‰
let mut numbers = vec![1, 2, 3];
for n in numbers.iter_mut() {
    *n *= 2;
}
println!("{:?}", numbers);  // [2, 4, 6]
```
</UniversalEditor>

## 7.5 æ€§èƒ½æ¯”è¾ƒ

è®©æˆ‘ä»¬æ¯”è¾ƒè¿™äº›é›†åˆçš„æ€§èƒ½ç‰¹å¾ã€‚

<UniversalEditor compare={true} title="æ€§èƒ½ç‰¹å¾">
```python !! py
# Python - æ€§èƒ½è€ƒè™‘
# åˆ—è¡¨è¿½åŠ ï¼šO(1) æ‘Šé”€
# åˆ—è¡¨è®¿é—®ï¼šO(1)
# åˆ—è¡¨åœ¨å¼€å¤´æ’å…¥ï¼šO(n)

# å­—å…¸æŸ¥æ‰¾ï¼šO(1) å¹³å‡
# å­—å…¸æ’å…¥ï¼šO(1) å¹³å‡

# å¾ªç¯ä¸­çš„å­—ç¬¦ä¸²è¿æ¥ï¼šå¦‚æœåšé”™æ˜¯ O(nÂ²)
# ï¼ˆä½¿ç”¨ ''.join() å®ç° O(n)ï¼‰
```

```rust !! rs
// Rust - æ€§èƒ½ç‰¹å¾
// Vec push: O(1) æ‘Šé”€
// Vec è®¿é—®: O(1)
// Vec åœ¨å¼€å¤´æ’å…¥: O(n)

// HashMap æŸ¥æ‰¾: O(1) å¹³å‡
// HashMap æ’å…¥: O(1) å¹³å‡

// å­—ç¬¦ä¸²è¿æ¥ï¼šä½¿ç”¨ with_capacity() æé«˜æ•ˆç‡
let mut result = String::with_capacity(100);
for i in 0..10 {
    result.push_str(&format!("Number {}", i));
}
// æ¯”é‡å¤çš„å­—ç¬¦ä¸²è¿æ¥å¿«å¾—å¤š
```
</UniversalEditor>

## 7.6 é€‰æ‹©åˆé€‚çš„é›†åˆ

<UniversalEditor compare={true} title="é›†åˆé€‰æ‹©æŒ‡å—">
```python !! py
# Python - é›†åˆé€‰æ‹©
# list: æœ‰åºåºåˆ—ï¼ŒåŠ¨æ€å¤§å°
# dict: é”®å€¼æ˜ å°„ï¼Œå¿«é€ŸæŸ¥æ‰¾
# set: å”¯ä¸€å…ƒç´ ï¼Œå¿«é€Ÿæˆå‘˜æµ‹è¯•
# tuple: ä¸å¯å˜åºåˆ—
# frozenset: ä¸å¯å˜é›†åˆ
```

```rust !! rs
// Rust - é›†åˆé€‰æ‹©
// Vec<T>: åºåˆ—çš„é»˜è®¤é€‰æ‹©
// [T; N]: å›ºå®šå¤§å°æ•°ç»„ï¼ˆç¼–è¯‘æ—¶å·²çŸ¥ï¼‰
// String: æ‹¥æœ‰çš„ã€å¯å¢é•¿çš„å­—ç¬¦ä¸²
// &str: å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆString çš„è§†å›¾ï¼‰
// HashMap<K, V>: é”®å€¼æ˜ å°„ï¼ˆé»˜è®¤ï¼‰
// BTreeMap<K, V>: æœ‰åºé”®å€¼æ˜ å°„
// HashSet<T>: å”¯ä¸€å…ƒç´ ï¼Œå¿«é€Ÿæˆå‘˜æµ‹è¯•
// BTreeSet<T>: æœ‰åºå”¯ä¸€å…ƒç´ 
// VecDeque<T>: åŒç«¯é˜Ÿåˆ—
// LinkedList<T>: åŒå‘é“¾è¡¨ï¼ˆå¾ˆå°‘éœ€è¦ï¼ï¼‰
```
</UniversalEditor>

## å¸¸è§é™·é˜±

### é™·é˜± 1ï¼šå­—ç¬¦ä¸²ç´¢å¼•

```rust
// ä¸è¦ï¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œç´¢å¼•
let s = String::from("hello");
// let c = s[0];  // ææ…Œï¼

// åº”è¯¥ï¼šä½¿ç”¨ chars() æˆ– bytes()
let c = s.chars().next().unwrap();
```

### é™·é˜± 2ï¼šå¿˜è®°å…‹éš†

```rust
// ä¸è¦ï¼šæ„å¤–åœ°å°†å€¼ç§»åŠ¨åˆ° HashMap
use std::collections::HashMap;

let name = String::from("Alice");
let mut map = HashMap::new();
map.insert(name, 95);
// println!("{}", name);  // é”™è¯¯ï¼šname è¢«ç§»åŠ¨äº†ï¼

// åº”è¯¥ï¼šéœ€è¦æ—¶å…‹éš†
let name = String::from("Alice");
map.insert(name.clone(), 95);
println!("{}", name);  // å·¥ä½œï¼
```

### é™·é˜± 3ï¼šä¸å¿…è¦çš„ collect

```rust
// ä¸è¦ï¼šä¸å¿…è¦åœ°æ”¶é›†
let result: Vec<i32> = numbers.iter()
    .map(|x| x * 2)
    .collect();
let sum: i32 = result.iter().sum();

// åº”è¯¥ï¼šé“¾æ¥æ“ä½œ
let sum: i32 = numbers.iter()
    .map(|x| x * 2)
    .sum();
```

## æœ€ä½³å®è·µ

1. å½“ä½ çŸ¥é“å¤§å°æ—¶ï¼Œ**é¢„åˆ†é…å®¹é‡**
2. ä½¿ç”¨ `String::with_capacity()` **æ„å»ºå­—ç¬¦ä¸²**
3. **åˆ©ç”¨è¿­ä»£å™¨é“¾** è€Œä¸æ˜¯ä¸­é—´é›†åˆ
4. **ä½¿ç”¨ `&str` ä½œä¸ºå‡½æ•°å‚æ•°**ï¼ˆæ›´çµæ´»ï¼‰
5. **ä¼˜å…ˆé€‰æ‹© `Vec` è€Œä¸æ˜¯ `LinkedList`**ï¼ˆæ›´å¥½çš„ç¼“å­˜å±€éƒ¨æ€§ï¼‰
6. **ä½¿ç”¨ `entry()` API** è¿›è¡Œæ¡ä»¶ HashMap æ“ä½œ

## æ€»ç»“

åœ¨æœ¬æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬æ¶µç›–äº†ï¼š

- **`Vec<T>`**ï¼šç±»å‹å®‰å…¨ã€å¯å¢é•¿çš„æ•°ç»„ï¼Œå…·æœ‰å®¹é‡æ§åˆ¶
- **String vs &str**ï¼šæ‹¥æœ‰çš„å­—ç¬¦ä¸² vs å­—ç¬¦ä¸²åˆ‡ç‰‡
- **`HashMap<K, V>`**ï¼šå…·æœ‰æ‰€æœ‰æƒè¯­ä¹‰çš„é”®å€¼å­˜å‚¨
- **è¿­ä»£å™¨**ï¼šæƒ°æ€§ã€å¯ç»„åˆä¸”å¼ºå¤§

å…³é”®è¦ç‚¹ï¼š
- Rust çš„é›†åˆæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå¹¶ä¸”æ˜¾å¼å¤„ç†æ‰€æœ‰æƒ
- å­—ç¬¦ä¸²ç±»å‹éœ€è¦ç†è§£ UTF-8 ç¼–ç 
- è¿­ä»£å™¨æ˜¯æƒ°æ€§ä¸”å¯é“¾å¼çš„ï¼Œç”¨äºé«˜æ•ˆçš„æ•°æ®å¤„ç†
- æ ¹æ®ä½ çš„æ€§èƒ½éœ€æ±‚é€‰æ‹©é›†åˆ

## ç»ƒä¹ 

åˆ›å»ºä¸€ä¸ªè¯é¢‘è®¡æ•°å™¨ï¼Œå®ƒï¼š
1. è¯»å–æ–‡æœ¬å¹¶åˆ†å‰²æˆå•è¯
2. ä½¿ç”¨ HashMap è®¡ç®—å•è¯å‡ºç°æ¬¡æ•°
3. è¿”å›å‰ 5 ä¸ªæœ€å¸¸è§çš„å•è¯
4. æ­£ç¡®å¤„ç† Unicode æ–‡æœ¬

<details>
<summary>æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ</summary>

```rust
use std::collections::HashMap;

fn word_frequency(text: &str) -> Vec<(String, usize)> {
    let mut freq = HashMap::new();

    // åˆ†å‰²ç©ºæ ¼å¹¶è®¡æ•°
    for word in text.split_whitespace() {
        // æ¸…ç†å•è¯ï¼šåˆ é™¤æ ‡ç‚¹ç¬¦å·ï¼Œå°å†™
        let cleaned = word
            .to_lowercase()
            .chars()
            .filter(|c| c.is_alphabetic())
            .collect::<String>();

        if !cleaned.is_empty() {
            *freq.entry(cleaned).or_insert(0) += 1;
        }
    }

    // è½¬æ¢ä¸ºå‘é‡å¹¶æ’åº
    let mut counts: Vec<(String, usize)> = freq.into_iter().collect();
    counts.sort_by(|a, b| b.1.cmp(&a.1));  // æŒ‰è®¡æ•°é™åº

    counts
}

fn main() {
    let text = "Hello world hello RUST world rust World";
    let top_words = word_frequency(text);

    for (word, count) in top_words.iter().take(5) {
        println!("{}: {}", word, count);
    }
}
```

</details>

æ¥ä¸‹æ¥ï¼š**æ¨¡å— 8 - æšä¸¾å’Œæ¨¡å¼åŒ¹é…**ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ Rust å¼ºå¤§çš„æšä¸¾ç³»ç»Ÿå’Œæ¨¡å¼åŒ¹é…åŠŸèƒ½ï¼
