---
title: "æ¨¡çµ„ 7ï¼šé›†åˆèˆ‡è³‡æ–™çµæ§‹"
description: "é€éèˆ‡ Python å…§å»ºé›†åˆå°æ¯”ï¼ŒæŒæ¡ Rust çš„é›†åˆå‹åˆ¥ï¼ŒåŒ…æ‹¬ Vecã€Stringã€HashMap å’Œè¿­ä»£å™¨"
---

# æ¨¡çµ„ 7ï¼šé›†åˆèˆ‡è³‡æ–™çµæ§‹

æ­¡è¿ä¾†åˆ°æ¨¡çµ„ 7ï¼åœ¨æœ¬æ¨¡çµ„ä¸­ï¼Œæˆ‘å€‘å°‡æ¢ç´¢ Rust çš„é›†åˆå‹åˆ¥ï¼Œä»¥åŠå®ƒå€‘èˆ‡ Python å…§å»ºé›†åˆçš„å°æ¯”ã€‚ç†è§£é€™äº›å·®ç•°å°æ–¼ç·¨å¯«åœ°é“çš„ Rust ç¨‹å¼ç¢¼è‡³é—œé‡è¦ã€‚

## å­¸ç¿’ç›®æ¨™

å®Œæˆæœ¬æ¨¡çµ„å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š
- ä½¿ç”¨ Rust çš„ `Vec<T>` å‹åˆ¥ï¼Œä¸¦èˆ‡ Python çš„ `list` é€²è¡Œå°æ¯”
- å€åˆ† `String` å’Œ `&str` å‹åˆ¥
- ä½¿ç”¨ `HashMap<K, V>` é€²è¡Œéµå€¼å„²å­˜
- åˆ©ç”¨ Rust å¼·å¤§çš„è¿­ä»£å™¨ç³»çµ±
- ç‚ºä½ çš„ç”¨ä¾‹é¸æ“‡åˆé©çš„é›†åˆ

## 7.1 `Vec<T>` vs Python çš„ list

### Python åˆ—è¡¨ï¼šéˆæ´»ä¸”å‹•æ…‹

åœ¨ Python ä¸­ï¼Œåˆ—è¡¨æ˜¯å‹•æ…‹å‹åˆ¥çš„ï¼Œå¯ä»¥å„²å­˜ä»»ä½•å‹åˆ¥ï¼š

```python
# Python - å‹•æ…‹å‹åˆ¥
numbers = [1, 2, 3, 4, 5]
mixed = [1, "hello", 3.14, True]

# è¿½åŠ å’Œåˆªé™¤
numbers.append(6)
numbers.pop()  # åˆªé™¤ä¸¦è¿”å›æœ€å¾Œä¸€å€‹å…ƒç´ 

# åˆ—è¡¨æ¨å°å¼
squares = [x**2 for x in range(10)]
```

### Rust `Vec<T>`ï¼šå‹åˆ¥å®‰å…¨ä¸”é€£çºŒ

Rust çš„ `Vec<T>` æ˜¯å…·æœ‰é€£çºŒè¨˜æ†¶é«”çš„å¯å¢é•·é™£åˆ—å‹åˆ¥ï¼š

<UniversalEditor compare={true} title="å‘é‡å»ºç«‹å’Œæ“ä½œ">
```python !! py
# Python - å‹•æ…‹åˆ—è¡¨
numbers = [1, 2, 3, 4, 5]
numbers.append(6)

# åˆ—è¡¨æ¨å°å¼
squares = [x**2 for x in range(10)]
print(squares)  # [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# æ··åˆå‹åˆ¥ï¼ˆPython ä¸­å…è¨±ï¼‰
mixed = [1, "hello", 3.14]
```

```rust !! rs
// Rust - å‹åˆ¥åŒ–å‘é‡
let mut numbers: Vec<i32> = vec![1, 2, 3, 4, 5];
numbers.push(6);

// è¿­ä»£å™¨ç­‰åƒ¹æ–¼åˆ—è¡¨æ¨å°å¼
let squares: Vec<i32> = (0..10).map(|x| x * x).collect();
println!("{:?}", squares); // [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

// æ··åˆå‹åˆ¥ï¼Ÿä½¿ç”¨æšèˆ‰æˆ– trait ç‰©ä»¶ï¼
#[derive(Debug)]
enum Mixed {
    Int(i32),
    String(String),
    Float(f64),
}

let mixed: Vec<Mixed> = vec![
    Mixed::Int(1),
    Mixed::String(String::from("hello")),
    Mixed::Float(3.14),
];
println!("{:?}", mixed);
```
</UniversalEditor>

### ä¸»è¦å·®ç•°

1. **å‹åˆ¥å®‰å…¨**ï¼šRust å‘é‡æ˜¯åŒæ§‹çš„ï¼ˆç›¸åŒå‹åˆ¥ `T`ï¼‰
2. **è¨˜æ†¶é«”ä½ˆå±€**ï¼šåƒ Python åˆ—è¡¨ä¸€æ¨£çš„é€£çºŒè¨˜æ†¶é«”
3. **å®¹é‡ç®¡ç†**ï¼šRust å‘é‡å…·æœ‰é¡¯å¼çš„å®¹é‡æ§åˆ¶

<UniversalEditor compare={true} title="å®¹é‡ç®¡ç†">
```python !! py
# Python - è‡ªå‹•è¨˜æ†¶é«”ç®¡ç†
numbers = []
for i in range(1000):
    numbers.append(i)
# Python è‡ªå‹•è™•ç†æ‰€æœ‰è¨˜æ†¶é«”åˆ†é…
```

```rust !! rs
// Rust - é¡¯å¼å®¹é‡æ§åˆ¶
let mut numbers = Vec::with_capacity(1000);
for i in 0..1000 {
    numbers.push(i);
}
// é åˆ†é…å®¹é‡æ¯”é‡è¤‡é‡æ–°åˆ†é…æ›´é«˜æ•ˆ

// æª¢æŸ¥å®¹é‡å’Œé•·åº¦
println!("Capacity: {}, Length: {}", numbers.capacity(), numbers.len());

// å¦‚æœéœ€è¦ï¼Œæ”¶ç¸®ä»¥é©æ‡‰
numbers.shrink_to_fit();
```
</UniversalEditor>

## 7.2 String vs &strï¼šå­—ä¸²å‹åˆ¥ç³»çµ±

å°æ–¼ Python é–‹ç™¼è€…ä¾†èªªï¼Œæœ€ä»¤äººå›°æƒ‘çš„æ–¹é¢ä¹‹ä¸€æ˜¯ Rust çš„å­—ä¸²å‹åˆ¥ã€‚

### å­—ä¸²å‹åˆ¥æ¦‚è¿°

<UniversalEditor compare={true} title="å­—ä¸²å‹åˆ¥å°æ¯”">
```python !! py
# Python - åªæœ‰ä¸€ç¨®å­—ä¸²å‹åˆ¥
s1 = "Hello"
s2 = s1  # å¼•ç”¨ï¼Œä¸è¤‡è£½
s3 = s1 + " World"  # æ–°å­—ä¸²

# å­—ä¸²æ˜¯ä¸å¯è®Šçš„
# s1[0] = 'h'  # éŒ¯èª¤ï¼
```

```rust !! rs
// Rust - å…©ç¨®ä¸»è¦å­—ä¸²å‹åˆ¥
// String: æ“æœ‰çš„ã€å¯å¢é•·çš„ã€å †åˆ†é…çš„
let mut s1: String = String::from("Hello");
s1.push_str(" World");

// &str: å­—ä¸²åˆ‡ç‰‡ï¼Œä¸å¯è®Šæª¢è¦–
let s2: &str = "Hello";
let s3: &str = &s1[0..5];  // String çš„åˆ‡ç‰‡

// &str ä¸èƒ½è¢«ä¿®æ”¹
// s2.push('!');  // éŒ¯èª¤ï¼

// String åˆ° &strï¼ˆå»‰åƒ¹è½‰æ›ï¼‰
let s4: &str = &s1;
```
</UniversalEditor>

### å­—ä¸²å»ºç«‹æ–¹æ³•

<UniversalEditor compare={true} title="å»ºç«‹å­—ä¸²">
```python !! py
# Python - å­—ä¸²å»ºç«‹
s1 = "Hello"
s2 = str(42)
s3 = f"Number: {42}"
s4 = " ".join(["Hello", "World"])
```

```rust !! rs
// Rust - å¤šç¨®å»ºç«‹å­—ä¸²çš„æ–¹å¼
let s1: String = String::from("Hello");
let s2: String = "World".to_string();
let s3: String = format!("Number: {}", 42);
let s4: String = vec!["Hello", "World"].join(" ");

// å¾å­—å…ƒå»ºç«‹
let s5: String = ['H', 'e', 'l', 'l', 'o'].iter().collect();

// å¸¶å®¹é‡
let mut s6 = String::with_capacity(10);
s6.push_str("Hello");
```
</UniversalEditor>

### å­—ä¸²æ“ä½œ

<UniversalEditor compare={true} title="å­—ä¸²æ“ä½œ">
```python !! py
# Python - å­—ä¸²æ“ä½œ
text = "Hello, World!"

# é•·åº¦ï¼ˆå­—å…ƒï¼‰
print(len(text))  # 13

# åˆ‡ç‰‡ï¼ˆä½å…ƒçµ„ï¼Œä¸æ˜¯å­—å…ƒï¼ï¼‰
print(text[0:5])  # "Hello"

# åˆ†å‰²
words = text.split(", ")
print(list(words))  # ['Hello', 'World!']

# å»é™¤ç©ºæ ¼
trimmed = "  hello  ".strip()
```

```rust !! rs
// Rust - å­—ä¸²æ“ä½œ
let text = String::from("Hello, World!");

// é•·åº¦ï¼ˆä½å…ƒçµ„ï¼Œä¸æ˜¯å­—å…ƒï¼ï¼‰
println!("Length: {}", text.len());  // 13 ä½å…ƒçµ„

// å­—å…ƒè¨ˆæ•¸ï¼ˆèˆ‡ len() ä¸åŒï¼‰
println!("Chars: {}", text.chars().count());  // 13 å­—å…ƒ

// åˆ‡ç‰‡ï¼ˆå¿…é ˆåœ¨æœ‰æ•ˆçš„ UTF-8 é‚Šç•Œä¸Šï¼‰
let hello = &text[0..5];  // "Hello"

// åˆ†å‰²
let words: Vec<&str> = text.split(", ").collect();
println!("{:?}", words);  // ["Hello", "World!"]

// å»é™¤ç©ºæ ¼
let trimmed = "  hello  ".trim();
println!("{}", trimmed);  // "hello"

// å­—å…ƒè¿­ä»£
for c in text.chars() {
    println!("{}", c);
}
```
</UniversalEditor>

### å¸¸è¦‹é™·é˜±ï¼šUTF-8 ç·¨ç¢¼

<UniversalEditor compare={true} title="UTF-8 è™•ç†">
```python !! py
# Python - è‡ªå‹•è™•ç† Unicode
emoji = "Hello ğŸ˜Š"
print(len(emoji))  # 8ï¼ˆå­—å…ƒï¼‰
print(emoji[6])    # ğŸ˜Š
```

```rust !! rs
// Rust - éœ€è¦ UTF-8 æ„è­˜
let emoji = String::from("Hello ğŸ˜Š");

// ä½å…ƒçµ„é•·åº¦ vs å­—å…ƒè¨ˆæ•¸
println!("Bytes: {}", emoji.len());      // 10 ä½å…ƒçµ„ï¼ˆğŸ˜Š æ˜¯ 4 ä½å…ƒçµ„ï¼‰
println!("Chars: {}", emoji.chars().count());  // 8 å­—å…ƒ

// ä¸èƒ½é€šéä½ç½®ç´¢å¼•ï¼ˆå¯èƒ½åˆ†å‰²å¤šä½å…ƒçµ„å­—å…ƒï¼‰
// let c = emoji[6];  // ææ…Œï¼ä¸åœ¨å­—å…ƒé‚Šç•Œä¸Š

// å–å¾—ç¬¬ n å€‹å­—å…ƒçš„æ­£ç¢ºæ–¹æ³•
let c = emoji.chars().nth(6).unwrap();
println!("{}", c);  // ğŸ˜Š
```
</UniversalEditor>

## 7.3 `HashMap<K, V>`

### Python å­—å…¸ vs Rust HashMap

<UniversalEditor compare={true} title="HashMap åŸºç¤">
```python !! py
# Python - å­—å…¸
scores = {
    "Alice": 95,
    "Bob": 87,
    "Charlie": 92,
}

# ä½¿ç”¨é è¨­å€¼å­˜å–
print(scores.get("David", 0))  # 0

# æ–°å¢/æ›´æ–°
scores["David"] = 88

# æª¢æŸ¥å­˜åœ¨æ€§
if "Alice" in scores:
    print(f"Alice scored {scores['Alice']}")
```

```rust !! rs
// Rust - HashMap
use std::collections::HashMap;

let mut scores: HashMap<&str, i32> = HashMap::new();

// æ’å…¥
scores.insert("Alice", 95);
scores.insert("Bob", 87);
scores.insert("Charlie", 92);

// ä½¿ç”¨é è¨­å€¼å­˜å–
println!("{:?}", scores.get("David").unwrap_or(&0));  // 0

// æ–°å¢/æ›´æ–°
scores.insert("David", 88);

// æª¢æŸ¥å­˜åœ¨æ€§
if let Some(score) = scores.get("Alice") {
    println!("Alice scored {}", score);
}

// Entry API ç”¨æ–¼æ¢ä»¶æ’å…¥
scores.entry("Eve").or_insert(90);
```
</UniversalEditor>

### HashMap æ‰€æœ‰æƒ

<UniversalEditor compare={true} title="HashMap å’Œæ‰€æœ‰æ¬Š">
```python !! py
# Python - å¼•ç”¨è‡ªç„¶å·¥ä½œ
key = "name"
data = {key: "Alice"}  # å·¥ä½œæ­£å¸¸
```

```rust !! rs
// Rust - æ‰€æœ‰æ¬Šå¾ˆé‡è¦
use std::collections::HashMap;

let key = String::from("name");
let mut map: HashMap<String, String> = HashMap::new();

// éŒ¯èª¤ï¼škey è¢«ç§»å‹•äº†
// map.insert(key, "Alice");

// è§£æ±ºæ–¹æ¡ˆï¼šè¤‡è£½ key
map.insert(key.clone(), "Alice");
println!("{}", key);  // ä»ç„¶å¯å­˜å–

// æˆ–ä½¿ç”¨å¼•ç”¨
let key_ref = &key;
map.insert(key_ref.clone(), "Bob");
```
</UniversalEditor>

### HashMap è¿­ä»£

<UniversalEditor compare={true} title="è¿­ä»£ HashMap">
```python !! py
# Python - å­—å…¸è¿­ä»£
scores = {"Alice": 95, "Bob": 87}

# éµ
for name in scores.keys():
    print(name)

# å€¼
for score in scores.values():
    print(score)

# ä¸¤è€…
for name, score in scores.items():
    print(f"{name}: {score}")
```

```rust !! rs
// Rust - HashMap è¿­ä»£
use std::collections::HashMap;

let scores = HashMap::from([
    ("Alice", 95),
    ("Bob", 87),
]);

// éµ
for name in scores.keys() {
    println!("{}", name);
}

// å€¼
for score in scores.values() {
    println!("{}", score);
}

// ä¸¤è€…
for (name, score) in &scores {
    println!("{}: {}", name, score);
}
```
</UniversalEditor>

## 7.4 è¿­ä»£å™¨ï¼šæƒ°æ€§å’Œå¼·å¤§

Rust çš„è¿­ä»£å™¨ç³»çµ±æ¯” Python çš„æ›´å¼·å¤§å’Œé¡¯å¼ã€‚

### è¿­ä»£å™¨åŸºç¤

<UniversalEditor compare={true} title="å»ºç«‹è¿­ä»£å™¨">
```python !! py
# Python - è¿­ä»£å™¨ç„¡è™•ä¸åœ¨
numbers = [1, 2, 3, 4, 5]

# è¿­ä»£å™¨ï¼ˆéš±å¼ï¼‰
for n in numbers:
    print(n)

# é¡¯å¼è¿­ä»£å™¨
it = iter(numbers)
print(next(it))  # 1
print(next(it))  # 2

# åˆ—è¡¨æ¨å°å¼ï¼ˆæ€¥åˆ‡ï¼‰
squares = [x**2 for x in numbers]
```

```rust !! rs
// Rust - é¡¯å¼è¿­ä»£å™¨å‹åˆ¥
let numbers = vec![1, 2, 3, 4, 5];

// for è¿´åœˆéš±å¼ä½¿ç”¨è¿­ä»£å™¨
for n in &numbers {
    println!("{}", n);
}

// é¡¯å¼è¿­ä»£å™¨
let mut it = numbers.iter();
println!("{:?}", it.next());  // Some(1)
println!("{:?}", it.next());  // Some(2)

// collect() æ˜¯æ€¥åˆ‡çš„ï¼Œåƒåˆ—è¡¨æ¨å°å¼
let squares: Vec<i32> = numbers.iter().map(|x| x * x).collect();
println!("{:?}", squares);
```
</UniversalEditor>

### è¿­ä»£å™¨éˆ

<UniversalEditor compare={true} title="éˆå¼è¿­ä»£å™¨æ–¹æ³•">
```python !! py
# Python - ä½¿ç”¨ç”Ÿæˆå™¨çš„æ–¹æ³•éˆ
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# å¤šå€‹æ“ä½œ
result = [
    x * 2
    for x in numbers
    if x % 2 == 0
]
print(result)  # [4, 8, 12, 16, 20]

# ä½¿ç”¨ filter å’Œ mapï¼ˆä½¿ç”¨ç”Ÿæˆå™¨ï¼‰
result2 = list(
    map(lambda x: x * 2,
        filter(lambda x: x % 2 == 0, numbers))
)
```

```rust !! rs
// Rust - æµæš¢çš„è¿­ä»£å™¨éˆ
let numbers = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// æ–¹æ³•çš„æµæš¢éˆ
let result: Vec<i32> = numbers
    .iter()
    .filter(|&&x| x % 2 == 0)  // ä¿ç•™å¶æ•¸
    .map(|x| x * 2)            // åŠ å€
    .collect();
println!("{:?}", result);  // [4, 8, 12, 16, 20]

// æƒ°æ€§ï¼šç›´åˆ° collect() æ‰æœƒç™¼ç”Ÿä»»ä½•äº‹æƒ…
let chain = numbers.iter()
    .filter(|&&x| x % 2 == 0)
    .map(|x| x * 2);
// é‚„æ²’æœ‰è¨ˆç®—ï¼
let result: Vec<i32> = chain.collect();  // ç¾åœ¨åŸ·è¡Œ
```
</UniversalEditor>

### è¿­ä»£å™¨æ¶ˆè²»

<UniversalEditor compare={true} title="æ¶ˆè²»è¿­ä»£å™¨">
```python !! py
# Python - æ¶ˆè²»è¿­ä»£å™¨
numbers = [1, 2, 3, 4, 5]

# æ±‚å’Œ
total = sum(numbers)  # 15

# Any/All
has_even = any(n % 2 == 0 for n in numbers)  # True
all_positive = all(n > 0 for n in numbers)   # True

# æŸ¥æ‰¾
first_even = next((n for n in numbers if n % 2 == 0), None)
print(first_even)  # 2
```

```rust !! rs
// Rust - æ¶ˆè²»è¿­ä»£å™¨
let numbers = vec![1, 2, 3, 4, 5];

// æ±‚å’Œ
let total: i32 = numbers.iter().sum();  // 15

// Any/All
let has_even = numbers.iter().any(|&x| x % 2 == 0);  // true
let all_positive = numbers.iter().all(|&x| x > 0);   // true

// æŸ¥æ‰¾
let first_even = numbers.iter().find(|&&x| x % 2 == 0);
println!("{:?}", first_even);  // Some(2)

// Foldï¼ˆåƒ reduceï¼‰
let sum = numbers.iter().fold(0, |acc, &x| acc + x);
println!("{}", sum);  // 15
```
</UniversalEditor>

### IntoIteratorï¼šä¸åŒçš„è¿­ä»£å‹åˆ¥

<UniversalEditor compare={true} title="Iteratorã€IntoIterator å’Œ IterMut">
```python !! py
# Python - ä¸åŒçš„è¿­ä»£æ¨¡å¼
numbers = [1, 2, 3]

# è®€å–å…ƒç´ 
for n in numbers:
    print(n)

# ä¿®æ”¹å…ƒç´ ï¼ˆå°±åœ°ï¼‰
for i in range(len(numbers)):
    numbers[i] *= 2
```

```rust !! rs
// Rust - ä¸‰ç¨®è¿­ä»£å‹åˆ¥
let numbers = vec![1, 2, 3];

// iter() - å€Ÿç”¨çš„å…ƒç´ ï¼ˆå”¯è®€ï¼‰
for n in numbers.iter() {
    println!("{}", n);
}

// into_iter() - æ“æœ‰çš„å…ƒç´ ï¼ˆæ¶ˆè€—å‘é‡ï¼‰
for n in numbers.into_iter() {
    println!("{}", n);
}
// numbers ä¸å†å¯ç”¨ï¼

// iter_mut() - å¯è®Šå€Ÿç”¨ï¼ˆå°±åœ°ä¿®æ”¹ï¼‰
let mut numbers = vec![1, 2, 3];
for n in numbers.iter_mut() {
    *n *= 2;
}
println!("{:?}", numbers);  // [2, 4, 6]
```
</UniversalEditor>

## 7.5 æ•ˆèƒ½æ¯”è¼ƒ

è®“æˆ‘å€‘æ¯”è¼ƒé€™äº›é›†åˆçš„æ•ˆèƒ½ç‰¹å¾µã€‚

<UniversalEditor compare={true} title="æ•ˆèƒ½ç‰¹å¾µ">
```python !! py
# Python - æ•ˆèƒ½è€ƒæ…®
# åˆ—è¡¨è¿½åŠ ï¼šO(1) æ”¤éŠ·
# åˆ—è¡¨å­˜å–ï¼šO(1)
# åˆ—è¡¨åœ¨é–‹é ­æ’å…¥ï¼šO(n)

# å­—å…¸æŸ¥æ‰¾ï¼šO(1) å¹³å‡
# å­—å…¸æ’å…¥ï¼šO(1) å¹³å‡

# è¿´åœˆä¸­çš„å­—ä¸²é€£æ¥ï¼šå¦‚æœåšéŒ¯æ˜¯ O(nÂ²)
# ï¼ˆä½¿ç”¨ ''.join() å¯¦ç¾ O(n)ï¼‰
```

```rust !! rs
// Rust - æ•ˆèƒ½ç‰¹å¾µ
// Vec push: O(1) æ”¤éŠ·
// Vec å­˜å–: O(1)
// Vec åœ¨é–‹é ­æ’å…¥: O(n)

// HashMap æŸ¥æ‰¾: O(1) å¹³å‡
// HashMap æ’å…¥: O(1) å¹³å‡

// å­—ä¸²é€£æ¥ï¼šä½¿ç”¨ with_capacity() æé«˜æ•ˆç‡
let mut result = String::with_capacity(100);
for i in 0..10 {
    result.push_str(&format!("Number {}", i));
}
// æ¯”é‡è¤‡çš„å­—ä¸²é€£æ¥å¿«å¾—å¤š
```
</UniversalEditor>

## 7.6 é¸æ“‡åˆé©çš„é›†åˆ

<UniversalEditor compare={true} title="é›†åˆé¸æ“‡æŒ‡å—">
```python !! py
# Python - é›†åˆé¸æ“‡
# list: æœ‰åºåºåˆ—ï¼Œå‹•æ…‹å¤§å°
# dict: éµå€¼æ˜ å°„ï¼Œå¿«é€ŸæŸ¥æ‰¾
# set: å”¯ä¸€å…ƒç´ ï¼Œå¿«é€Ÿæˆå“¡æ¸¬è©¦
# tuple: ä¸å¯è®Šåºåˆ—
# frozenset: ä¸å¯è®Šé›†åˆ
```

```rust !! rs
// Rust - é›†åˆé¸æ“‡
// Vec<T>: åºåˆ—çš„é è¨­é¸æ“‡
// [T; N]: å›ºå®šå¤§å°é™£åˆ—ï¼ˆç·¨è­¯æ™‚å·²çŸ¥ï¼‰
// String: æ“æœ‰çš„ã€å¯å¢é•·çš„å­—ä¸²
// &str: å­—ä¸²åˆ‡ç‰‡ï¼ˆString çš„æª¢è¦–ï¼‰
// HashMap<K, V>: éµå€¼æ˜ å°„ï¼ˆé è¨­ï¼‰
// BTreeMap<K, V>: æœ‰åºéµå€¼æ˜ å°„
// HashSet<T>: å”¯ä¸€å…ƒç´ ï¼Œå¿«é€Ÿæˆå“¡æ¸¬è©¦
// BTreeSet<T>: æœ‰åºå”¯ä¸€å…ƒç´ 
// VecDeque<T>: é›™ç«¯ä½‡åˆ—
// LinkedList<T>: é›™å‘éˆçµä¸²åˆ—ï¼ˆå¾ˆå°‘éœ€è¦ï¼ï¼‰
```
</UniversalEditor>

## å¸¸è¦‹é™·é˜±

### é™·é˜± 1ï¼šå­—ä¸²ç´¢å¼•

```rust
// ä¸è¦ï¼šå°å­—ä¸²é€²è¡Œç´¢å¼•
let s = String::from("hello");
// let c = s[0];  // ææ…Œï¼

// æ‡‰è©²ï¼šä½¿ç”¨ chars() æˆ– bytes()
let c = s.chars().next().unwrap();
```

### é™·é˜± 2ï¼šå¿˜è¨˜è¤‡è£½

```rust
// ä¸è¦ï¼šæ„å¤–åœ°å°‡å€¼ç§»å‹•åˆ° HashMap
use std::collections::HashMap;

let name = String::from("Alice");
let mut map = HashMap::new();
map.insert(name, 95);
// println!("{}", name);  // éŒ¯èª¤ï¼šname è¢«ç§»å‹•äº†ï¼

// æ‡‰è©²ï¼šéœ€è¦æ™‚è¤‡è£½
let name = String::from("Alice");
map.insert(name.clone(), 95);
println!("{}", name);  // å·¥ä½œï¼
```

### é™·é˜± 3ï¼šä¸å¿…è¦çš„ collect

```rust
// ä¸è¦ï¼šä¸å¿…è¦åœ°æ”¶é›†
let result: Vec<i32> = numbers.iter()
    .map(|x| x * 2)
    .collect();
let sum: i32 = result.iter().sum();

// æ‡‰è©²ï¼šéˆæ¥æ“ä½œ
let sum: i32 = numbers.iter()
    .map(|x| x * 2)
    .sum();
```

## æœ€ä½³å¯¦è¸

1. ç•¶ä½ çŸ¥é“å¤§å°æ™‚ï¼Œ**é åˆ†é…å®¹é‡**
2. ä½¿ç”¨ `String::with_capacity()` **å»ºæ§‹å­—ä¸²**
3. **åˆ©ç”¨è¿­ä»£å™¨éˆ** è€Œä¸æ˜¯ä¸­é–“é›†åˆ
4. **ä½¿ç”¨ `&str` ä½œç‚ºå‡½æ•¸åƒæ•¸**ï¼ˆæ›´éˆæ´»ï¼‰
5. **å„ªå…ˆé¸æ“‡ `Vec` è€Œä¸æ˜¯ `LinkedList`**ï¼ˆæ›´å¥½çš„å¿«å–å±€éƒ¨æ€§ï¼‰
6. **ä½¿ç”¨ `entry()` API** é€²è¡Œæ¢ä»¶ HashMap æ“ä½œ

## ç¸½çµ

åœ¨æœ¬æ¨¡çµ„ä¸­ï¼Œæˆ‘å€‘æ¶µè“‹äº†ï¼š

- **`Vec<T>`**ï¼šå‹åˆ¥å®‰å…¨ã€å¯å¢é•·çš„é™£åˆ—ï¼Œå…·æœ‰å®¹é‡æ§åˆ¶
- **String vs &str**ï¼šæ“æœ‰çš„å­—ä¸² vs å­—ä¸²åˆ‡ç‰‡
- **`HashMap<K, V>`**ï¼šå…·æœ‰æ‰€æœ‰æ¬Šèªç¾©çš„éµå€¼å„²å­˜
- **è¿­ä»£å™¨**ï¼šæƒ°æ€§ã€å¯çµ„åˆä¸”å¼·å¤§

é—œéµè¦é»ï¼š
- Rust çš„é›†åˆæ˜¯å‹åˆ¥å®‰å…¨çš„ï¼Œä¸¦ä¸”é¡¯å¼è™•ç†æ‰€æœ‰æ¬Š
- å­—ä¸²å‹åˆ¥éœ€è¦ç†è§£ UTF-8 ç·¨ç¢¼
- è¿­ä»£å™¨æ˜¯æƒ°æ€§ä¸”å¯éˆå¼çš„ï¼Œç”¨æ–¼é«˜æ•ˆçš„è³‡æ–™è™•ç†
- æ ¹æ“šä½ çš„æ•ˆèƒ½éœ€æ±‚é¸æ“‡é›†åˆ

## ç·´ç¿’

å»ºç«‹ä¸€å€‹è©é »è¨ˆæ•¸å™¨ï¼Œå®ƒï¼š
1. è®€å–æ–‡å­—ä¸¦åˆ†å‰²æˆå–®è©
2. ä½¿ç”¨ HashMap è¨ˆç®—å–®è©å‡ºç¾æ¬¡æ•¸
3. è¿”å›å‰ 5 å€‹æœ€å¸¸è¦‹çš„å–®è©
4. æ­£ç¢ºè™•ç† Unicode æ–‡å­—

<details>
<summary>æª¢è¦–è§£æ±ºæ–¹æ¡ˆ</summary>

```rust
use std::collections::HashMap;

fn word_frequency(text: &str) -> Vec<(String, usize)> {
    let mut freq = HashMap::new();

    // åˆ†å‰²ç©ºæ ¼ä¸¦è¨ˆæ•¸
    for word in text.split_whitespace() {
        // æ¸…ç†å–®è©ï¼šåˆªé™¤æ¨™é»ç¬¦è™Ÿï¼Œå°å¯«
        let cleaned = word
            .to_lowercase()
            .chars()
            .filter(|c| c.is_alphabetic())
            .collect::<String>();

        if !cleaned.is_empty() {
            *freq.entry(cleaned).or_insert(0) += 1;
        }
    }

    // è½‰æ›ç‚ºå‘é‡ä¸¦æ’åº
    let mut counts: Vec<(String, usize)> = freq.into_iter().collect();
    counts.sort_by(|a, b| b.1.cmp(&a.1));  // æŒ‰è¨ˆæ•¸é™åº

    counts
}

fn main() {
    let text = "Hello world hello RUST world rust World";
    let top_words = word_frequency(text);

    for (word, count) in top_words.iter().take(5) {
        println!("{}: {}", word, count);
    }
}
```

</details>

æ¥ä¸‹ä¾†ï¼š**æ¨¡çµ„ 8 - æšèˆ‰å’Œæ¨¡å¼åŒ¹é…**ï¼Œæˆ‘å€‘å°‡æ¢ç´¢ Rust å¼·å¤§çš„æšèˆ‰ç³»çµ±å’Œæ¨¡å¼åŒ¹é…åŠŸèƒ½ï¼
