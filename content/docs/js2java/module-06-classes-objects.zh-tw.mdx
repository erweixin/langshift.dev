---
title: "模組 06: 類和物件"
description: "學習 Java 類和物件、建構函數、存取修飾符和封裝，與 JavaScript 物件導向程式設計進行對比。"
---

# 模組 06: 類和物件

在本模組中，我們將探索 Java 基於類的物件導向程式設計，並將其與 JavaScript 基於原型的方法進行對比。Java 提供了結構化的方式來定義具有建構函數、存取修飾符和封裝的類，而 JavaScript 提供了更靈活的物件建立模式。

## 學習目標

通過本模組的學習，你將能夠：
- 理解 Java 類結構和物件建立
- 對比 Java 類與 JavaScript 物件模式
- 實現建構函數和存取修飾符
- 應用封裝原則
- 使用靜態成員和實例方法
- 理解基於類和基於原型的物件導向程式設計的差異

## 類基礎

### 1. 類宣告和物件建立

Java 使用嚴格的基於類的方法，而 JavaScript 提供多種建立物件的方式。

<UniversalEditor title="類宣告和物件建立" compare={true}>
```javascript !! js
// JavaScript - 多種建立物件的方式
// 物件字面量
const person1 = {
    name: "Alice",
    age: 25,
    greet: function() {
        return `Hello, I'm ${this.name}`;
    }
};

// 建構函數（ES5 風格）
function Person(name, age) {
    this.name = name;
    this.age = age;
    this.greet = function() {
        return `Hello, I'm ${this.name}`;
    };
}

// ES6 类语法
class PersonClass {
    constructor(name, age) {
        this.name = name;
        this.age = age;
    }
    
    greet() {
        return `Hello, I'm ${this.name}`;
    }
    
    getAge() {
        return this.age;
    }
    
    setAge(age) {
        if (age >= 0) {
            this.age = age;
        }
    }
}

// 工廠函數模式
function createPerson(name, age) {
    return {
        name: name,
        age: age,
        greet: function() {
            return `Hello, I'm ${this.name}`;
        },
        getAge: function() {
            return this.age;
        },
        setAge: function(age) {
            if (age >= 0) {
                this.age = age;
            }
        }
    };
}

// 使用範例
console.log(person1.greet());

const person2 = new Person("Bob", 30);
console.log(person2.greet());

const person3 = new PersonClass("Charlie", 35);
console.log(person3.greet());
console.log(person3.getAge());
person3.setAge(36);
console.log(person3.getAge());

const person4 = createPerson("David", 40);
console.log(person4.greet());
```

```java !! java
// Java - 基於類的物件導向程式設計
public class Person {
    // 實例變數（欄位）
    private String name;
    private int age;
    
    // 預設建構函數
    public Person() {
        this.name = "Unknown";
        this.age = 0;
    }
    
    // 參數化建構函數
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // 複製建構函數
    public Person(Person other) {
        this.name = other.name;
        this.age = other.age;
    }
    
    // Getter 方法
    public String getName() {
        return name;
    }
    
    public int getAge() {
        return age;
    }
    
    // Setter 方法
    public void setName(String name) {
        if (name != null && !name.trim().isEmpty()) {
            this.name = name;
        }
    }
    
    public void setAge(int age) {
        if (age >= 0) {
            this.age = age;
        }
    }
    
    // 實例方法
    public String greet() {
        return "Hello, I'm " + name;
    }
    
    // 帶參數的方法
    public String greetWithMessage(String message) {
        return message + ", I'm " + name;
    }
    
    // 回傳布林值的方法
    public boolean isAdult() {
        return age >= 18;
    }
    
    // 修改物件狀態的方法
    public void haveBirthday() {
        age++;
    }
    
    // 靜態方法（屬於類，不屬於實例）
    public static Person createAdult(String name) {
        return new Person(name, 18);
    }
    
    // 靜態比較方法
    public static boolean isSameAge(Person p1, Person p2) {
        return p1.age == p2.age;
    }
    
    // 重寫 toString 方法
    @Override
    public String toString() {
        return "Person{name='" + name + "', age=" + age + "}";
    }
    
    // 重寫 equals 方法
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Person person = (Person) obj;
        return age == person.age && Objects.equals(name, person.name);
    }
    
    // 重寫 hashCode 方法
    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }
}

// 主類演示用法
class ClassBasicsDemo {
    public static void main(String[] args) {
        // 使用不同建構函數建立物件
        Person person1 = new Person();
        Person person2 = new Person("Alice", 25);
        Person person3 = new Person(person2); // 複製建構函數
        
        // 使用 getter 和 setter 方法
        System.out.println(person1.getName()); // "Unknown"
        person1.setName("Bob");
        person1.setAge(30);
        System.out.println(person1.getName()); // "Bob"
        
        // 使用實例方法
        System.out.println(person2.greet());
        System.out.println(person2.greetWithMessage("Hi there"));
        System.out.println("Is adult: " + person2.isAdult());
        
        // 使用靜態方法
        Person adult = Person.createAdult("Charlie");
        System.out.println(adult);
        System.out.println("Same age: " + Person.isSameAge(person2, person3));
        
        // 物件生命週期
        person2.haveBirthday();
        System.out.println("After birthday: " + person2.getAge());
        
        // toString 方法
        System.out.println(person2);
    }
}
```
</UniversalEditor>

### 2. 存取修飾符和封裝

Java 提供嚴格的存取控制，而 JavaScript 依賴約定和閉包進行封裝。

<UniversalEditor title="存取修飾符和封裝" compare={true}>
```javascript !! js
// JavaScript - 封裝模式
// 模組模式用於封裝
const BankAccount = (function() {
    // 私有變數
    let accountNumber = 0;
    
    // 私有函數產生帳戶號
    function generateAccountNumber() {
        return ++accountNumber;
    }
    
    // 私有函數驗證金額
    function validateAmount(amount) {
        return typeof amount === 'number' && amount > 0;
    }
    
    // 建構函數
    function BankAccount(owner, initialBalance = 0) {
        // 私有屬性（使用閉包）
        const _accountNumber = generateAccountNumber();
        let _balance = initialBalance;
        const _owner = owner;
        const _transactions = [];
        
        // 私有方法記錄交易
        function logTransaction(type, amount) {
            _transactions.push({
                type: type,
                amount: amount,
                timestamp: new Date(),
                balance: _balance
            });
        }
        
        // 公共方法（回傳物件）
        return {
            // Getter 方法
            getAccountNumber: function() {
                return _accountNumber;
            },
            
            getBalance: function() {
                return _balance;
            },
            
            getOwner: function() {
                return _owner;
            },
            
            getTransactions: function() {
                return [..._transactions]; // 回傳副本
            },
            
            // Setter 方法
            setOwner: function(newOwner) {
                if (newOwner && typeof newOwner === 'string') {
                    _owner = newOwner;
                }
            },
            
            // 业务方法
            deposit: function(amount) {
                if (validateAmount(amount)) {
                    _balance += amount;
                    logTransaction('deposit', amount);
                    return true;
                }
                return false;
            },
            
            withdraw: function(amount) {
                if (validateAmount(amount) && _balance >= amount) {
                    _balance -= amount;
                    logTransaction('withdraw', amount);
                    return true;
                }
                return false;
            },
            
            transfer: function(targetAccount, amount) {
                if (this.withdraw(amount)) {
                    targetAccount.deposit(amount);
                    logTransaction('transfer', amount);
                    return true;
                }
                return false;
            },
            
            // 工具方法
            getTransactionHistory: function() {
                return _transactions.map(t => 
                    `${t.timestamp.toISOString()}: ${t.type} $${t.amount} (Balance: $${t.balance})`
                );
            }
        };
    }
    
    // 静态方法
    BankAccount.getTotalAccounts = function() {
        return accountNumber;
    };
    
    return BankAccount;
})();

// ES6 类与私有字段（较新的浏览器）
class ModernBankAccount {
    #accountNumber;
    #balance;
    #owner;
    #transactions = [];
    
    static #totalAccounts = 0;
    
    constructor(owner, initialBalance = 0) {
        this.#accountNumber = ++ModernBankAccount.#totalAccounts;
        this.#balance = initialBalance;
        this.#owner = owner;
    }
    
    // 私有方法
    #logTransaction(type, amount) {
        this.#transactions.push({
            type: type,
            amount: amount,
            timestamp: new Date(),
            balance: this.#balance
        });
    }
    
    // 公共方法
    getAccountNumber() {
        return this.#accountNumber;
    }
    
    getBalance() {
        return this.#balance;
    }
    
    deposit(amount) {
        if (amount > 0) {
            this.#balance += amount;
            this.#logTransaction('deposit', amount);
            return true;
        }
        return false;
    }
    
    withdraw(amount) {
        if (amount > 0 && this.#balance >= amount) {
            this.#balance -= amount;
            this.#logTransaction('withdraw', amount);
            return true;
        }
        return false;
    }
    
    static getTotalAccounts() {
        return ModernBankAccount.#totalAccounts;
    }
}

// 使用範例
const account1 = new BankAccount("Alice", 1000);
const account2 = new BankAccount("Bob", 500);

console.log(account1.getAccountNumber());
console.log(account1.getBalance());

account1.deposit(200);
account1.withdraw(100);
console.log(account1.getBalance());

account1.transfer(account2, 150);
console.log(account1.getBalance());
console.log(account2.getBalance());

console.log(account1.getTransactionHistory());
console.log("Total accounts:", BankAccount.getTotalAccounts());
```

```java !! java
// Java - 存取修飾符和封裝
public class BankAccount {
    // 私有字段（封装）
    private int accountNumber;
    private double balance;
    private String owner;
    private List<Transaction> transactions;
    
    // 静态字段（所有实例共享）
    private static int totalAccounts = 0;
    
    // 私有静态方法
    private static int generateAccountNumber() {
        return ++totalAccounts;
    }
    
    // 私有验证方法
    private boolean validateAmount(double amount) {
        return amount > 0;
    }
    
    // 私有方法記錄交易
    private void logTransaction(String type, double amount) {
        transactions.add(new Transaction(type, amount, balance));
    }
    
    // 預設建構函數
    public BankAccount() {
        this.accountNumber = generateAccountNumber();
        this.balance = 0.0;
        this.owner = "Unknown";
        this.transactions = new ArrayList<>();
    }
    
    // 參數化建構函數
    public BankAccount(String owner, double initialBalance) {
        this.accountNumber = generateAccountNumber();
        this.owner = owner;
        this.balance = initialBalance;
        this.transactions = new ArrayList<>();
        
        if (initialBalance > 0) {
            logTransaction("initial deposit", initialBalance);
        }
    }
    
    // 複製建構函數
    public BankAccount(BankAccount other) {
        this.accountNumber = generateAccountNumber();
        this.owner = other.owner;
        this.balance = other.balance;
        this.transactions = new ArrayList<>(other.transactions);
    }
    
    // Getter 方法（公共访问）
    public int getAccountNumber() {
        return accountNumber;
    }
    
    public double getBalance() {
        return balance;
    }
    
    public String getOwner() {
        return owner;
    }
    
    public List<Transaction> getTransactions() {
        return new ArrayList<>(transactions); // 回傳副本进行封装
    }
    
    // Setter 方法带验证
    public void setOwner(String owner) {
        if (owner != null && !owner.trim().isEmpty()) {
            this.owner = owner;
        }
    }
    
    // 业务方法
    public boolean deposit(double amount) {
        if (validateAmount(amount)) {
            balance += amount;
            logTransaction("deposit", amount);
            return true;
        }
        return false;
    }
    
    public boolean withdraw(double amount) {
        if (validateAmount(amount) && balance >= amount) {
            balance -= amount;
            logTransaction("withdraw", amount);
            return true;
        }
        return false;
    }
    
    public boolean transfer(BankAccount targetAccount, double amount) {
        if (withdraw(amount)) {
            targetAccount.deposit(amount);
            logTransaction("transfer", amount);
            return true;
        }
        return false;
    }
    
    // 工具方法
    public List<String> getTransactionHistory() {
        return transactions.stream()
            .map(Transaction::toString)
            .collect(Collectors.toList());
    }
    
    // 静态方法
    public static int getTotalAccounts() {
        return totalAccounts;
    }
    
    // 静态方法创建账户
    public static BankAccount createAccount(String owner) {
        return new BankAccount(owner, 0.0);
    }
    
    // 重写 toString
    @Override
    public String toString() {
        return String.format("BankAccount{accountNumber=%d, owner='%s', balance=%.2f}", 
                           accountNumber, owner, balance);
    }
    
    // 内部类用于交易
    public static class Transaction {
        private String type;
        private double amount;
        private double balance;
        private Date timestamp;
        
        public Transaction(String type, double amount, double balance) {
            this.type = type;
            this.amount = amount;
            this.balance = balance;
            this.timestamp = new Date();
        }
        
        // Getters
        public String getType() { return type; }
        public double getAmount() { return amount; }
        public double getBalance() { return balance; }
        public Date getTimestamp() { return timestamp; }
        
        @Override
        public String toString() {
            return String.format("%s: %s $%.2f (Balance: $%.2f)", 
                               timestamp, type, amount, balance);
        }
    }
}

// 主类演示封装
class EncapsulationDemo {
    public static void main(String[] args) {
        BankAccount account1 = new BankAccount("Alice", 1000.0);
        BankAccount account2 = new BankAccount("Bob", 500.0);
        
        System.out.println("Account 1: " + account1);
        System.out.println("Account 2: " + account2);
        
        // 使用公共方法
        account1.deposit(200.0);
        account1.withdraw(100.0);
        System.out.println("Account 1 balance: $" + account1.getBalance());
        
        account1.transfer(account2, 150.0);
        System.out.println("After transfer:");
        System.out.println("Account 1 balance: $" + account1.getBalance());
        System.out.println("Account 2 balance: $" + account2.getBalance());
        
        // 交易历史
        System.out.println("Transaction history:");
        account1.getTransactionHistory().forEach(System.out::println);
        
        // 静态方法
        System.out.println("Total accounts created: " + BankAccount.getTotalAccounts());
        
        // 演示封装
        // 这会导致编译错误：
        // account1.balance = 1000000; // 私有字段不可访问
        
        // 这是正确的方式：
        account1.deposit(1000000);
    }
}
```
</UniversalEditor>

## 静态成员

### 1. 静态字段和方法

Java 提供属于类而不是实例的静态成员，而 JavaScript 使用不同的模式来共享数据。

<UniversalEditor title="静态成员" compare={true}>
```javascript !! js
// JavaScript - 静态模式
// 带静态属性的建構函數
function Counter() {
    Counter.totalCount = (Counter.totalCount || 0) + 1;
    this.id = Counter.totalCount;
    this.count = 0;
}

// 静态方法
Counter.getTotalCount = function() {
    return Counter.totalCount || 0;
};

// 静态工厂方法
Counter.create = function(initialValue = 0) {
    const counter = new Counter();
    counter.count = initialValue;
    return counter;
};

// 静态工具方法
Counter.compare = function(counter1, counter2) {
    return counter1.count - counter2.count;
};

// 實例方法
Counter.prototype.increment = function() {
    this.count++;
};

Counter.prototype.decrement = function() {
    this.count--;
};

Counter.prototype.getValue = function() {
    return this.count;
};

// ES6 类与静态成员
class MathUtils {
    // 静态字段（ES2022+）
    static PI = 3.14159;
    static E = 2.71828;
    
    // 静态方法
    static add(a, b) {
        return a + b;
    }
    
    static multiply(a, b) {
        return a * b;
    }
    
    static power(base, exponent) {
        return Math.pow(base, exponent);
    }
    
    // 静态工厂方法
    static createRandomNumber(min, max) {
        return Math.random() * (max - min) + min;
    }
    
    // 静态工具方法
    static isEven(number) {
        return number % 2 === 0;
    }
    
    static isOdd(number) {
        return number % 2 !== 0;
    }
    
    // 實例方法
    constructor(value = 0) {
        this.value = value;
    }
    
    add(other) {
        this.value += other;
        return this;
    }
    
    multiply(other) {
        this.value *= other;
        return this;
    }
    
    getValue() {
        return this.value;
    }
}

// 带静态行为的模块模式
const DatabaseConnection = (function() {
    // 私有静态变量
    let connectionCount = 0;
    const connections = new Map();
    
    // 私有静态方法
    function generateConnectionId() {
        return `conn_${++connectionCount}`;
    }
    
    // 建構函數
    function DatabaseConnection(databaseName) {
        this.id = generateConnectionId();
        this.databaseName = databaseName;
        this.isConnected = false;
        
        connections.set(this.id, this);
    }
    
    // 静态方法
    DatabaseConnection.getTotalConnections = function() {
        return connectionCount;
    };
    
    DatabaseConnection.getActiveConnections = function() {
        return Array.from(connections.values()).filter(conn => conn.isConnected);
    };
    
    DatabaseConnection.closeAll = function() {
        connections.forEach(conn => conn.disconnect());
        connections.clear();
    };
    
    // 實例方法
    DatabaseConnection.prototype.connect = function() {
        this.isConnected = true;
        console.log(`Connected to ${this.databaseName}`);
    };
    
    DatabaseConnection.prototype.disconnect = function() {
        this.isConnected = false;
        connections.delete(this.id);
        console.log(`Disconnected from ${this.databaseName}`);
    };
    
    return DatabaseConnection;
})();

// 使用範例
console.log("Counter total:", Counter.getTotalCount());

const counter1 = new Counter();
const counter2 = Counter.create(10);

counter1.increment();
counter1.increment();
counter2.decrement();

console.log("Counter 1:", counter1.getValue());
console.log("Counter 2:", counter2.getValue());
console.log("Comparison:", Counter.compare(counter1, counter2));

// MathUtils 使用
console.log("PI:", MathUtils.PI);
console.log("2 + 3:", MathUtils.add(2, 3));
console.log("2 * 3:", MathUtils.multiply(2, 3));
console.log("Is 4 even?", MathUtils.isEven(4));

const math = new MathUtils(5);
math.add(3).multiply(2);
console.log("Result:", math.getValue());

// DatabaseConnection 使用
const db1 = new DatabaseConnection("users");
const db2 = new DatabaseConnection("products");

db1.connect();
db2.connect();

console.log("Total connections:", DatabaseConnection.getTotalConnections());
console.log("Active connections:", DatabaseConnection.getActiveConnections());

DatabaseConnection.closeAll();
```

```java !! java
// Java - 静态成员
public class Counter {
    // 静态字段（所有实例共享）
    private static int totalCount = 0;
    
    // 实例字段
    private int id;
    private int count;
    
    // 静态方法获取总数
    public static int getTotalCount() {
        return totalCount;
    }
    
    // 静态工厂方法
    public static Counter create(int initialValue) {
        Counter counter = new Counter();
        counter.count = initialValue;
        return counter;
    }
    
    // 静态工具方法
    public static int compare(Counter counter1, Counter counter2) {
        return counter1.count - counter2.count;
    }
    
    // 建構函數
    public Counter() {
        totalCount++;
        this.id = totalCount;
        this.count = 0;
    }
    
    // 實例方法
    public void increment() {
        count++;
    }
    
    public void decrement() {
        count--;
    }
    
    public int getValue() {
        return count;
    }
    
    public int getId() {
        return id;
    }
}

// 带静态方法的数学工具类
public class MathUtils {
    // 静态常量
    public static final double PI = 3.14159;
    public static final double E = 2.71828;
    
    // 静态方法
    public static int add(int a, int b) {
        return a + b;
    }
    
    public static double add(double a, double b) {
        return a + b;
    }
    
    public static int multiply(int a, int b) {
        return a * b;
    }
    
    public static double multiply(double a, double b) {
        return a * b;
    }
    
    public static double power(double base, double exponent) {
        return Math.pow(base, exponent);
    }
    
    public static double createRandomNumber(double min, double max) {
        return Math.random() * (max - min) + min;
    }
    
    public static boolean isEven(int number) {
        return number % 2 == 0;
    }
    
    public static boolean isOdd(int number) {
        return number % 2 != 0;
    }
    
    // 静态块用于初始化
    static {
        System.out.println("MathUtils class loaded");
    }
}

// 带静态管理的数据库连接类
public class DatabaseConnection {
    // 静态字段
    private static int connectionCount = 0;
    private static Map<String, DatabaseConnection> connections = new HashMap<>();
    
    // 实例字段
    private String id;
    private String databaseName;
    private boolean isConnected;
    
    // 私有静态方法
    private static String generateConnectionId() {
        return "conn_" + (++connectionCount);
    }
    
    // 静态方法
    public static int getTotalConnections() {
        return connectionCount;
    }
    
    public static List<DatabaseConnection> getActiveConnections() {
        return connections.values().stream()
            .filter(conn -> conn.isConnected)
            .collect(Collectors.toList());
    }
    
    public static void closeAll() {
        connections.values().forEach(DatabaseConnection::disconnect);
        connections.clear();
    }
    
    // 建構函數
    public DatabaseConnection(String databaseName) {
        this.id = generateConnectionId();
        this.databaseName = databaseName;
        this.isConnected = false;
        connections.put(this.id, this);
    }
    
    // 實例方法
    public void connect() {
        this.isConnected = true;
        System.out.println("Connected to " + databaseName);
    }
    
    public void disconnect() {
        this.isConnected = false;
        connections.remove(this.id);
        System.out.println("Disconnected from " + databaseName);
    }
    
    // Getters
    public String getId() { return id; }
    public String getDatabaseName() { return databaseName; }
    public boolean isConnected() { return isConnected; }
    
    @Override
    public String toString() {
        return String.format("DatabaseConnection{id='%s', database='%s', connected=%s}", 
                           id, databaseName, isConnected);
    }
}

// 主类演示静态成员
class StaticMembersDemo {
    public static void main(String[] args) {
        // Counter 示例
        System.out.println("Initial total count: " + Counter.getTotalCount());
        
        Counter counter1 = new Counter();
        Counter counter2 = Counter.create(10);
        
        counter1.increment();
        counter1.increment();
        counter2.decrement();
        
        System.out.println("Counter 1 value: " + counter1.getValue());
        System.out.println("Counter 2 value: " + counter2.getValue());
        System.out.println("Comparison: " + Counter.compare(counter1, counter2));
        System.out.println("Total counters: " + Counter.getTotalCount());
        
        // MathUtils 示例
        System.out.println("PI: " + MathUtils.PI);
        System.out.println("2 + 3: " + MathUtils.add(2, 3));
        System.out.println("2.5 + 3.5: " + MathUtils.add(2.5, 3.5));
        System.out.println("2 * 3: " + MathUtils.multiply(2, 3));
        System.out.println("2^3: " + MathUtils.power(2, 3));
        System.out.println("Is 4 even? " + MathUtils.isEven(4));
        System.out.println("Random number: " + MathUtils.createRandomNumber(1, 10));
        
        // DatabaseConnection 示例
        DatabaseConnection db1 = new DatabaseConnection("users");
        DatabaseConnection db2 = new DatabaseConnection("products");
        
        db1.connect();
        db2.connect();
        
        System.out.println("Total connections: " + DatabaseConnection.getTotalConnections());
        System.out.println("Active connections: " + DatabaseConnection.getActiveConnections());
        
        DatabaseConnection.closeAll();
        System.out.println("After closing all: " + DatabaseConnection.getActiveConnections());
    }
}
```
</UniversalEditor>

## 练习题

### 练习 1: 类实现

<UniversalEditor title="练习 1: 类实现">
```java !! java
// TODO: 实现这些类
public class Student {
    // TODO: 添加私有字段 name、id、grades 和 major
    
    // TODO: 实现建構函數（默认、参数化、复制）
    
    // TODO: 实现 getter 和 setter 方法
    
    // TODO: 实现添加成绩、计算 GPA 和检查学生是否及格的方法
    
    // TODO: 重写 toString、equals 和 hashCode 方法
}

public class Rectangle {
    // TODO: 添加私有字段 width 和 height
    
    // TODO: 实现建構函數
    
    // TODO: 实现带验证的 getter 和 setter 方法
    
    // TODO: 实现计算面积、周长和检查是否为正方形的方法
    
    // TODO: 实现比较矩形的静态方法
}

public class ClassExercises {
    public static void main(String[] args) {
        // 测试你的实现
        Student student1 = new Student("Alice", "S001", "Computer Science");
        student1.addGrade(85);
        student1.addGrade(92);
        student1.addGrade(78);
        
        System.out.println("Student: " + student1);
        System.out.println("GPA: " + student1.calculateGPA());
        System.out.println("Is passing: " + student1.isPassing());
        
        Rectangle rect1 = new Rectangle(5, 3);
        Rectangle rect2 = new Rectangle(4, 4);
        
        System.out.println("Rectangle 1 area: " + rect1.calculateArea());
        System.out.println("Rectangle 1 perimeter: " + rect1.calculatePerimeter());
        System.out.println("Rectangle 1 is square: " + rect1.isSquare());
        System.out.println("Rectangle 2 is square: " + rect2.isSquare());
        
        System.out.println("Larger area: " + Rectangle.getLargerArea(rect1, rect2));
    }
}
```
</UniversalEditor>

### 练习 2: 封装和静态成员

<UniversalEditor title="练习 2: 封装和静态成员">
```java !! java
// TODO: 实现具有适当封装的 Library 类
public class Library {
    // TODO: 添加私有静态字段 total books 和 borrowed books
    
    // TODO: 添加私有实例字段用于图书管理
    
    // TODO: 实现建構函數
    
    // TODO: 实现添加图书、借阅图书、归还图书的方法
    
    // TODO: 实现获取图书馆统计信息的静态方法
    
    // TODO: 使用 getter 和 setter 实现适当的封装
}

public class Book {
    // TODO: 实现具有适当封装的 Book 类
    
    // TODO: 添加 title、author、ISBN、availability 字段
    
    // TODO: 实现建構函數和方法
    
    // TODO: 重写 toString 和 equals 方法
}

public class EncapsulationExercises {
    public static void main(String[] args) {
        // 测试你的实现
        Library library = new Library("Central Library");
        
        Book book1 = new Book("Java Programming", "John Doe", "1234567890");
        Book book2 = new Book("Python Basics", "Jane Smith", "0987654321");
        
        library.addBook(book1);
        library.addBook(book2);
        
        System.out.println("Library: " + library.getName());
        System.out.println("Total books: " + Library.getTotalBooks());
        System.out.println("Available books: " + library.getAvailableBooks());
        
        library.borrowBook("1234567890");
        System.out.println("After borrowing: " + library.getAvailableBooks());
        
        library.returnBook("1234567890");
        System.out.println("After returning: " + library.getAvailableBooks());
    }
}
```
</UniversalEditor>

## 总结

在本模块中，我们探索了 Java 基於類的物件導向程式設計，并将其与 JavaScript 基于原型的方法进行了对比：

### 关键要点：
1. **类结构**: Java 提供具有建構函數和存取修飾符的严格类定义
2. **封装**: Java 使用存取修飾符进行适当的封装
3. **静态成员**: Java 支持属于类的静态字段和方法
4. **对象创建**: Java 使用建構函數，而 JavaScript 提供多种模式
5. **访问控制**: Java 具有严格的访问控制，而 JavaScript 依赖约定

### 下一步：
- 练习实现具有适当封装的类
- 掌握建構函數模式和方法重载
- 探索静态成员及其用例
- 为下一个关于继承和多态的模块做准备

## 额外资源

- [Java 类和对象](https://docs.oracle.com/javase/tutorial/java/javaOO/)
- [Java 存取修飾符](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)
- [Java 静态成员](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)

---

**练习提示**: 专注于理解实例成员和静态成员之间的差异。练习使用 getter 和 setter 实现适当的封装。创建演示真实场景的类。 