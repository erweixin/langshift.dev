---
title: "Python ä»£ç è´¨é‡ã€æµ‹è¯•ä¸ç±»å‹æç¤º"
description: "ä» JavaScript å¼€å‘è€…è§†è§’å­¦ä¹  Python çš„ä»£ç è´¨é‡å·¥å…·ã€å•å…ƒæµ‹è¯•å’Œç±»å‹æç¤º"
---

## 1. å¼•è¨€

### ä¸ºä»€ä¹ˆä»£ç è´¨é‡ã€æµ‹è¯•å’Œç±»å‹æç¤ºå¾ˆé‡è¦ï¼Ÿ

ä½œä¸ºä¸€åç»éªŒä¸°å¯Œçš„ JavaScript å¼€å‘è€…ï¼Œä½ ä¸€å®šæ·±çŸ¥ `ESLint`ã€`Prettier`ã€`Jest` å’Œ `TypeScript` åœ¨å¤§å‹é¡¹ç›®ä¸­çš„é‡è¦æ€§ã€‚å®ƒä»¬æ˜¯ç¡®ä¿ä»£ç ä¸€è‡´æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§çš„åŸºçŸ³ã€‚

Python ç”Ÿæ€ç³»ç»ŸåŒæ ·æ‹¥æœ‰å¼ºå¤§çš„å·¥å…·é›†æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚æœ¬æ¨¡å—å°†å‘ä½ ä»‹ç» Python ä¸­çš„ä»£ç è´¨é‡ã€æµ‹è¯•å’Œç±»å‹æç¤ºå·¥å…·ï¼Œå¹¶ä¸ä½ ç†Ÿæ‚‰çš„ JavaScript å·¥å…·è¿›è¡Œå¯¹æ¯”ã€‚

**æ ¸å¿ƒæ¦‚å¿µç±»æ¯”**

| Python å·¥å…·/æ¦‚å¿µ | JavaScript å·¥å…·/æ¦‚å¿µ | ä¸»è¦åŠŸèƒ½ |
| --- | --- | --- |
| **Black** | `Prettier` | è‡ªåŠ¨åŒ–ä»£ç æ ¼å¼åŒ– |
| **Ruff** | `ESLint` | ä»£ç é£æ ¼æ£€æŸ¥ã€é”™è¯¯æ£€æµ‹ |
| **pytest** | `Jest` / `Mocha` | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯• |
| **Type Hints** | `TypeScript` | é™æ€ç±»å‹æ£€æŸ¥ |
| **Mypy** | `tsc` (TypeScript Compiler) | ç±»å‹æ£€æŸ¥å™¨ |

> ğŸ’¡ **å­¦ä¹ ç­–ç•¥**ï¼šå°† Python çš„è¿™äº›å·¥å…·è§†ä¸ºä½ ç°æœ‰ JavaScript å·¥ä½œæµçš„â€œPython ç‰ˆæœ¬â€ã€‚å®ƒä»¬çš„ç›®æ ‡å’Œç†å¿µæ˜¯ç›¸ä¼¼çš„ï¼Œåªæ˜¯å…·ä½“å®ç°å’Œè¯­æ³•æœ‰æ‰€ä¸åŒã€‚

## 2. ä»£ç è´¨é‡ä¸æ ¼å¼åŒ–

### 2.1 Black: ä¸å¦¥åçš„ä»£ç æ ¼å¼åŒ–å·¥å…·

`Black` æ˜¯ Python ç¤¾åŒºå¹¿æ³›ä½¿ç”¨çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå®ƒä»¥â€œä¸å¦¥åâ€è€Œé—»åï¼Œæ„å‘³ç€å®ƒåªæä¾›æå°‘çš„é…ç½®é€‰é¡¹ã€‚è¿™ç¡®ä¿äº†åœ¨ä»»ä½•é¡¹ç›®ä¸­ï¼Œä»£ç é£æ ¼éƒ½èƒ½ä¿æŒé«˜åº¦ä¸€è‡´ã€‚

<PythonEditor title="ä»£ç æ ¼å¼åŒ–å¯¹æ¯”ï¼šBlack vs. Prettier" compare={true} canRun={false} height={800}>
```javascript !! js
// JavaScript (ä½¿ç”¨ Prettier æ ¼å¼åŒ–å‰)
function longFunctionName(arg1, arg2, arg3, arg4, arg5, arg6) {
  console.log('è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å‡½æ•°å®šä¹‰ï¼ŒPrettier ä¼šè‡ªåŠ¨æ¢è¡Œ');
  if (arg1 && arg2 && arg3 && arg4 && arg5 && arg6) {
    return { key1: 'value1', key2: 'value2', key3: 'value3' };
  }
}

// Prettier æ ¼å¼åŒ–å
function longFunctionName(
  arg1,
  arg2,
  arg3,
  arg4,
  arg5,
  arg6,
) {
  console.log(
    'è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å‡½æ•°å®šä¹‰ï¼ŒPrettier ä¼šè‡ªåŠ¨æ¢è¡Œ',
  );
  if (
    arg1 &&
    arg2 &&
    arg3 &&
    arg4 &&
    arg5 &&
    arg6
  ) {
    return {
      key1: 'value1',
      key2: 'value2',
      key3: 'value3',
    };
  }
}
```

```python !! py
# Python (ä½¿ç”¨ Black æ ¼å¼åŒ–å‰)
def long_function_name(arg1, arg2, arg3, arg4, arg5, arg6):
  print('è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å‡½æ•°å®šä¹‰ï¼ŒBlack ä¼šè‡ªåŠ¨æ¢è¡Œ')
  if arg1 and arg2 and arg3 and arg4 and arg5 and arg6:
    return {'key1': 'value1', 'key2': 'value2', 'key3': 'value3'}

# Black æ ¼å¼åŒ–å
def long_function_name(
    arg1,
    arg2,
    arg3,
    arg4,
    arg5,
    arg6,
):
    print("è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å‡½æ•°å®šä¹‰ï¼ŒBlack ä¼šè‡ªåŠ¨æ¢è¡Œ")
    if (
        arg1
        and arg2
        and arg3
        and arg4
        and arg5
        and arg6
    ):
        return {
            "key1": "value1",
            "key2": "value2",
            "key3": "value3",
        }
```
</PythonEditor>

### 2.2 Ruff: é«˜æ€§èƒ½çš„ä»£ç æ£€æŸ¥å™¨

`Ruff` æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ Python Linterï¼Œé€Ÿåº¦æå¿«ï¼Œå¯ä»¥æ›¿ä»£ `Flake8`ã€`isort` ç­‰å¤šä¸ªå·¥å…·ã€‚å®ƒèƒ½å¸®åŠ©ä½ å‘ç°ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜ã€æ”¹è¿›ä»£ç é£æ ¼ï¼Œå¹¶è‡ªåŠ¨ä¿®å¤è®¸å¤šå¸¸è§é”™è¯¯ã€‚

<PythonEditor title="ä»£ç æ£€æŸ¥å¯¹æ¯”ï¼šRuff vs. ESLint" compare={true} canRun={false}>
```javascript !! js
// JavaScript (ESLint å¯èƒ½ä¼šæŠ¥å‘Š 'no-unused-vars')
import React from 'react'; // 'React' is defined but never used.

function MyComponent() {
  const unusedVar = 42; // 'unusedVar' is assigned a value but never used.
  return <div>Hello</div>;
}

// ESLint è¿˜å¯ä»¥æ£€æŸ¥è§„åˆ™ï¼Œå¦‚å¼ºåˆ¶ä½¿ç”¨ ===
if (a == 1) { // '==' is not allowed, use '==='
  // ...
}
```

```python !! py
# Python (Ruff å¯èƒ½ä¼šæŠ¥å‘Š 'F841' å’Œ 'F401')
import os  # 'os' imported but unused (F401)
import sys

def my_function():
    unused_var = 42  # local variable 'unused_var' is assigned to but never used (F841)
    print("Hello from my_function")

# Ruff è¿˜å¯ä»¥æ£€æŸ¥è®¸å¤šå…¶ä»–é—®é¢˜ï¼Œä¾‹å¦‚ä¸å¿…è¦çš„åˆ—è¡¨æ¨å¯¼
# Instead of list(my_generator), use [...my_generator]
```
</PythonEditor>

## 3. å•å…ƒæµ‹è¯•ä¸ Pytest

`pytest` æ˜¯ Python ä¸­æœ€æµè¡Œã€åŠŸèƒ½æœ€å¼ºå¤§çš„æµ‹è¯•æ¡†æ¶ã€‚å®ƒä»¥å…¶ç®€æ´çš„è¯­æ³•ã€å¼ºå¤§çš„æ–­è¨€åŠŸèƒ½å’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿè€Œè‘—ç§°ã€‚

### 3.1 åŸºæœ¬æµ‹è¯•ç”¨ä¾‹

ä¸ `Jest` ç±»ä¼¼ï¼Œ`pytest` å…è®¸ä½ ä½¿ç”¨ç®€å•çš„å‡½æ•°æ¥ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œè€Œä¸éœ€è¦å¤æ‚çš„ç±»ç»“æ„ã€‚

<PythonEditor title="åŸºæœ¬æµ‹è¯•å¯¹æ¯”ï¼špytest vs. Jest" compare={true} canRun={false}>
```javascript !! js
// JavaScript (Jest)
// a_plus_b.js
const a_plus_b = (a, b) => a + b;

// a_plus_b.test.js
const a_plus_b = require('./a_plus_b');

describe('a_plus_b', () => {
  it('should return the sum of two numbers', () => {
    expect(a_plus_b(1, 2)).toBe(3);
  });

  it('should handle negative numbers', () => {
    expect(a_plus_b(-1, -1)).toBe(-2);
  });
});
```

```python !! py
# Python (pytest)
# a_plus_b.py
def a_plus_b(a, b):
    return a + b

# test_a_plus_b.py
from a_plus_b import a_plus_b

def test_a_plus_b():
    assert a_plus_b(1, 2) == 3

def test_a_plus_b_negative():
    assert a_plus_b(-1, -1) == -2
```
</PythonEditor>

### 3.2 å‚æ•°åŒ–æµ‹è¯•

`pytest` çš„å‚æ•°åŒ–æµ‹è¯•åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥è®©ä½ ç”¨ä¸åŒçš„è¾“å…¥æ•°æ®å¤šæ¬¡è¿è¡ŒåŒä¸€ä¸ªæµ‹è¯•å‡½æ•°ï¼Œè¿™åœ¨ `Jest` ä¸­é€šå¸¸é€šè¿‡ `test.each` å®ç°ã€‚

<PythonEditor title="å‚æ•°åŒ–æµ‹è¯•å¯¹æ¯”ï¼špytest vs. Jest" compare={true} canRun={false}>
```javascript !! js
// JavaScript (Jest)
// a_plus_b.test.js
const a_plus_b = require('./a_plus_b');

describe('a_plus_b', () => {
  test.each([
    [1, 2, 3],
    [-1, 1, 0],
    [0, 0, 0],
    [100, 200, 300],
  ])('a_plus_b(%i, %i) should return %i', (a, b, expected) => {
    expect(a_plus_b(a, b)).toBe(expected);
  });
});
```

```python !! py
# Python (pytest)
# test_a_plus_b.py
import pytest
from a_plus_b import a_plus_b

@pytest.mark.parametrize("a, b, expected", [
    (1, 2, 3),
    (-1, 1, 0),
    (0, 0, 0),
    (100, 200, 300),
])
def test_a_plus_b_parameterized(a, b, expected):
    assert a_plus_b(a, b) == expected
```
</PythonEditor>

### 3.3 Fixtures: ç®¡ç†æµ‹è¯•ä¾èµ–

`pytest` çš„ `fixtures` æ˜¯ä¸€ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼Œç”¨äºç®¡ç†æµ‹è¯•çš„ä¾èµ–å’ŒçŠ¶æ€ã€‚å®ƒä»¬ç±»ä¼¼äº `Jest` ä¸­çš„ `beforeEach` å’Œ `afterEach`ï¼Œä½†æ›´åŠ çµæ´»å’Œå¼ºå¤§ã€‚

<PythonEditor title="Fixtures å¯¹æ¯”ï¼špytest vs. Jest" compare={true} canRun={false}>
```javascript !! js
// JavaScript (Jest)
// db.js
class Database {
  constructor() { this.users = []; }
  connect() { /* ... */ }
  disconnect() { /* ... */ }
  addUser(user) { this.users.push(user); }
}

// db.test.js
const Database = require('./db');

describe('Database', () => {
  let db;

  beforeEach(() => {
    db = new Database();
    db.connect();
  });

  afterEach(() => {
    db.disconnect();
  });

  it('should add a user', () => {
    db.addUser({ name: 'Alice' });
    expect(db.users).toHaveLength(1);
  });
});
```

```python !! py
# Python (pytest)
# db.py
class Database:
    def __init__(self):
        self.users = []
    def connect(self): ...
    def disconnect(self): ...
    def add_user(self, user):
        self.users.append(user)

# test_db.py
import pytest

@pytest.fixture
def db():
    database = Database()
    database.connect()
    yield database
    database.disconnect()

def test_add_user(db):
    db.add_user({"name": "Alice"})
    assert len(db.users) == 1
```
</PythonEditor>

## 4. ç±»å‹æç¤ºä¸é™æ€åˆ†æ

Python ä» 3.5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥äº†ç±»å‹æç¤ºï¼ˆType Hintsï¼‰ï¼Œå…è®¸å¼€å‘è€…ä¸ºå˜é‡ã€å‡½æ•°å‚æ•°å’Œè¿”å›å€¼æ·»åŠ ç±»å‹ä¿¡æ¯ã€‚è¿™ä¸ `TypeScript` çš„ç›®æ ‡éå¸¸ç›¸ä¼¼ï¼šåœ¨ä¸æ”¹å˜è¿è¡Œæ—¶è¡Œä¸ºçš„æƒ…å†µä¸‹ï¼Œæä¾›é™æ€ç±»å‹æ£€æŸ¥ï¼Œä»¥æé«˜ä»£ç çš„å¥å£®æ€§å’Œå¯è¯»æ€§ã€‚

### 4.1 åŸºæœ¬ç±»å‹æç¤º

<PythonEditor title="åŸºæœ¬ç±»å‹æç¤ºå¯¹æ¯”ï¼šPython vs. TypeScript" compare={true} canRun={false}>
```typescript !! ts
// TypeScript
function greet(name: string, age: number): string {
  return `Hello, ${name}. You are ${age} years old.`;
}

let user: { name: string; id: number } = { name: "Alice", id: 1 };
```

```python !! py
# Python
def greet(name: str, age: int) -> str:
    return f"Hello, {name}. You are {age} years old."

user: dict[str, int | str] = {"name": "Alice", "id": 1}
```
</PythonEditor>

### 4.2 å¤æ‚ç±»å‹ä¸æ³›å‹

å’Œ `TypeScript` ä¸€æ ·ï¼ŒPython çš„ç±»å‹ç³»ç»Ÿä¹Ÿæ”¯æŒæ›´å¤æ‚çš„ç±»å‹ï¼Œå¦‚åˆ—è¡¨ã€å­—å…¸ã€æ³›å‹å’Œè‡ªå®šä¹‰ç±»å‹ã€‚

<PythonEditor title="å¤æ‚ç±»å‹å¯¹æ¯”ï¼šPython vs. TypeScript" compare={true} canRun={false}>
```typescript !! ts
// TypeScript
type User = {
  name: string;
  id: number;
};

function processUsers(users: User[]): number[] {
  return users.map(user => user.id);
}

function getFirst<T>(items: T[]): T | undefined {
  return items[0];
}
```

```python !! py
# Python
from typing import List, TypeVar, Optional, TypedDict

# ä½¿ç”¨ TypedDict æ›´ç²¾ç¡®åœ°å®šä¹‰å­—å…¸ç»“æ„
class User(TypedDict):
    name: str
    id: int

def process_users(users: List[User]) -> List[int]:
    return [user["id"] for user in users]

T = TypeVar('T')

def get_first(items: List[T]) -> Optional[T]:
    return items[0] if items else None
```
</PythonEditor>

### 4.3 Mypy: Python çš„é™æ€ç±»å‹æ£€æŸ¥å™¨

`Mypy` æ˜¯ Python çš„é™æ€ç±»å‹æ£€æŸ¥å™¨ï¼Œå®ƒè¯»å–å¸¦ç±»å‹æç¤ºçš„ Python ä»£ç ï¼Œåˆ†æå¹¶æŠ¥å‘Šç±»å‹ä¸ä¸€è‡´çš„é”™è¯¯ã€‚å®ƒçš„ä½œç”¨ç±»ä¼¼äº `TypeScript` çš„ç¼–è¯‘å™¨ `tsc`ã€‚

<PythonEditor title="ç±»å‹æ£€æŸ¥å¯¹æ¯”ï¼šMypy vs. tsc" compare={true} canRun={false}>
```typescript !! ts
// TypeScript (tscä¼šæŠ¥é”™)
function add(a: number, b: number): number {
  return a + b;
}

add(1, "2"); // Error: Argument of type 'string' is not assignable to parameter of type 'number'.
```

```python !! py
# Python (Mypyä¼šæŠ¥é”™)
def add(a: int, b: int) -> int:
    return a + b

add(1, "2")  # Error: Argument 2 to "add" has incompatible type "str"; expected "int"
```
</PythonEditor>

## 5. æ€»ç»“

æ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»äº†è§£äº† Python ä¸­ä¿è¯ä»£ç è´¨é‡ã€è¿›è¡Œæµ‹è¯•å’Œå®ç°é™æ€ç±»å‹æ£€æŸ¥çš„æ ¸å¿ƒå·¥å…·ã€‚

*   ä½¿ç”¨ **Black** å’Œ **Ruff** æ¥ä¿æŒä»£ç çš„æ•´æ´å’Œä¸€è‡´ã€‚
*   ä½¿ç”¨ **pytest** æ¥ç¼–å†™æ¸…æ™°ã€å¯ç»´æŠ¤çš„æµ‹è¯•ç”¨ä¾‹ã€‚
*   ä½¿ç”¨ **Type Hints** å’Œ **Mypy** æ¥å¢å¼ºä»£ç çš„å¥å£®æ€§å’Œå¯è¯»æ€§ã€‚

å°†è¿™äº›å·¥å…·é›†æˆåˆ°ä½ çš„å¼€å‘å·¥ä½œæµä¸­ï¼Œå°†å¤§å¤§æå‡ä½ çš„ Python å¼€å‘ä½“éªŒï¼Œå¹¶å¸®åŠ©ä½ å†™å‡ºæ›´é«˜è´¨é‡çš„ä»£ç ã€‚
