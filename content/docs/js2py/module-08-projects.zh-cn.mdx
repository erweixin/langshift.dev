---
title: "Python å®æˆ˜é¡¹ç›®"
description: "é€šè¿‡æ„å»ºçœŸå®ä¸–ç•Œçš„é¡¹ç›®ï¼Œå·©å›ºä½ çš„ Python æŠ€èƒ½ï¼Œå¹¶å°†æ‰€å­¦çŸ¥è¯†èä¼šè´¯é€šã€‚"
---

## 1. å¼•è¨€

### ä»ç†è®ºåˆ°å®è·µ

ä½ å·²ç»å­¦ä¹ äº† Python çš„åŸºç¡€è¯­æ³•ã€Web å¼€å‘ã€æ•°æ®å¤„ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ã€‚ç°åœ¨ï¼Œæ˜¯æ—¶å€™å°†è¿™äº›çŸ¥è¯†åº”ç”¨åˆ°çœŸå®ä¸–ç•Œçš„é¡¹ç›®ä¸­äº†ã€‚é€šè¿‡åŠ¨æ‰‹å®è·µï¼Œä½ å°†æ›´æ·±åˆ»åœ°ç†è§£ Python çš„å¼ºå¤§ä¹‹å¤„ï¼Œå¹¶è·å¾—å®è´µçš„å¼€å‘ç»éªŒã€‚

æœ¬æ¨¡å—å°†æä¾›å‡ ä¸ªä¸åŒé¢†åŸŸçš„å®æˆ˜é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½å°†ç»¼åˆè¿ç”¨å‰é¢æ¨¡å—å­¦åˆ°çš„æŠ€èƒ½ï¼Œå¹¶æä¾›ä¸ JavaScript/Node.js å®ç°çš„å¯¹æ¯”æ€è·¯ã€‚

> ğŸ’¡ **å­¦ä¹ ç­–ç•¥**ï¼šé€‰æ‹©ä¸€ä¸ªä½ æœ€æ„Ÿå…´è¶£çš„é¡¹ç›®å¼€å§‹ã€‚å°è¯•ç‹¬ç«‹å®Œæˆå®ƒï¼Œé‡åˆ°é—®é¢˜æ—¶ï¼Œå›é¡¾å‰é¢çš„æ¨¡å—æˆ–æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚å…³é”®åœ¨äºâ€œåšâ€è€Œä¸æ˜¯â€œçœ‹â€ã€‚

## 2. é¡¹ç›®ä¸€ï¼šURL ç¼©çŸ­æœåŠ¡

### é¡¹ç›®æè¿°

æ„å»ºä¸€ä¸ªåŠŸèƒ½é½å…¨çš„ URL ç¼©çŸ­æœåŠ¡ï¼Œç±»ä¼¼äº `bit.ly`ã€‚ç”¨æˆ·å¯ä»¥æäº¤ä¸€ä¸ªé•¿ URLï¼ŒæœåŠ¡ä¼šè¿”å›ä¸€ä¸ªçŸ­ URLã€‚å½“è®¿é—®çŸ­ URL æ—¶ï¼Œåº”é‡å®šå‘åˆ°åŸå§‹çš„é•¿ URLã€‚

**æ ¸å¿ƒåŠŸèƒ½**

*   ä½¿ç”¨ FastAPI æ„å»º API ç«¯ç‚¹ã€‚
*   ä½¿ç”¨ Pydantic è¿›è¡Œæ•°æ®éªŒè¯ã€‚
*   ä½¿ç”¨ SQLite æˆ–å…¶ä»–æ•°æ®åº“å­˜å‚¨ URL æ˜ å°„ã€‚
*   ç”Ÿæˆå”¯ä¸€çš„çŸ­ URL æ ‡è¯†ç¬¦ã€‚
*   å®ç°é‡å®šå‘é€»è¾‘ã€‚

<PythonEditor title="URL ç¼©çŸ­æœåŠ¡ï¼šFastAPI å®ç°æ€è·¯" compare={true}>
```javascript !! js
// JavaScript (Express + nanoid)
const express = require('express');
const { nanoid } = require('nanoid');

const app = express();
app.use(express.json());

const urlDatabase = {}; // ç®€å•å†…å­˜å­˜å‚¨

app.post('/shorten', (req, res) => {
  const { longUrl } = req.body;
  const shortId = nanoid(7);
  urlDatabase[shortId] = longUrl;
  res.json({ shortUrl: `http://localhost:3000/${shortId}` });
});

app.get('/:shortId', (req, res) => {
  const longUrl = urlDatabase[req.params.shortId];
  if (longUrl) {
    res.redirect(longUrl);
  } else {
    res.status(404).send('Not Found');
  }
});

app.listen(3000);
```

```python !! py
# Python (FastAPI + SQLite)
import secrets
import sqlite3
from fastapi import FastAPI, HTTPException, Depends
from pydantic import BaseModel
from starlette.responses import RedirectResponse

# -- æ•°æ®åº“è®¾ç½® --
DATABASE_URL = "urls.db"

def get_db():
    conn = sqlite3.connect(DATABASE_URL)
    try:
        yield conn
    finally:
        conn.close()

# -- Pydantic æ¨¡å‹ --
class URLBase(BaseModel):
    target_url: str

class URLInfo(URLBase):
    is_active: bool
    clicks: int

# -- FastAPI åº”ç”¨ --
app = FastAPI()

@app.post("/shorten")
def create_url(url: URLBase, db: sqlite3.Connection = Depends(get_db)):
    short_id = secrets.token_urlsafe(5)
    # ... (å°† short_id å’Œ url.target_url å­˜å…¥æ•°æ®åº“)
    return {"short_url": f"http://localhost:8000/{short_id}"}

@app.get("/{short_id}")
def forward_to_target_url(short_id: str, db: sqlite3.Connection = Depends(get_db)):
    # ... (ä»æ•°æ®åº“ä¸­æŸ¥æ‰¾ long_url)
    # ... (æ›´æ–°ç‚¹å‡»æ¬¡æ•°)
    # return RedirectResponse(long_url)
    pass
```
</PythonEditor>

## 3. é¡¹ç›®äºŒï¼šå‘½ä»¤è¡Œå¤©æ°”åº”ç”¨

### é¡¹ç›®æè¿°

åˆ›å»ºä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥åŸå¸‚åç§°ï¼Œç¨‹åºå°†ä»å¤©æ°” API (å¦‚ OpenWeatherMap) è·å–å¹¶æ˜¾ç¤ºå½“å‰çš„å¤©æ°”ä¿¡æ¯ã€‚

**æ ¸å¿ƒåŠŸèƒ½**

*   ä½¿ç”¨ `argparse` æˆ– `typer` è§£æå‘½ä»¤è¡Œå‚æ•°ã€‚
*   ä½¿ç”¨ `httpx` æˆ– `requests` è°ƒç”¨ç¬¬ä¸‰æ–¹ APIã€‚
*   å¤„ç† API å“åº” (JSON)ã€‚
*   åœ¨ç»ˆç«¯ä¸­æ ¼å¼åŒ–å¹¶æ˜¾ç¤ºå¤©æ°”ä¿¡æ¯ã€‚

<PythonEditor title="å‘½ä»¤è¡Œå¤©æ°”åº”ç”¨ï¼šPython å®ç°æ€è·¯" compare={true}>
```javascript !! js
// JavaScript (Node.js + axios + yargs)
const axios = require('axios');
const yargs = require('yargs/yargs');
const { hideBin } = require('yargs/helpers');

const argv = yargs(hideBin(process.argv)).argv;

async function getWeather(city) {
  try {
    const apiKey = 'YOUR_API_KEY';
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;
    const response = await axios.get(url);
    console.log(`Weather in ${city}:`);
    console.log(`- Temp: ${response.data.main.temp}Â°K`);
    console.log(`- Description: ${response.data.weather[0].description}`);
  } catch (error) {
    console.error('Error fetching weather data');
  }
}

if (argv.city) {
  getWeather(argv.city);
}
```

```python !! py
# Python (Typer + httpx)
import typer
import httpx

API_KEY = "YOUR_API_KEY"

def main(city: str):
    """è·å–å¹¶æ˜¾ç¤ºæŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯"""
    url = f"https://api.openweathermap.org/data/2.5/weather?q={city}&appid={API_KEY}"
    try:
        with httpx.Client() as client:
            response = client.get(url)
            response.raise_for_status()
            data = response.json()
            print(f"Weather in {city}:")
            print(f"- Temp: {data['main']['temp']}Â°K")
            print(f"- Description: {data['weather'][0]['description']}")
    except httpx.HTTPStatusError as e:
        print(f"Error: Unable to fetch weather data for {city}. {e.response.status_code}")
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    typer.run(main)

# è¿è¡Œ: python weather_app.py London
```
</PythonEditor>

## 4. é¡¹ç›®ä¸‰ï¼šæ•°æ®åˆ†æä¸å¯è§†åŒ–æŠ¥å‘Š

### é¡¹ç›®æè¿°

ä»ä¸€ä¸ª CSV æ•°æ®é›†ï¼ˆä¾‹å¦‚ï¼Œå…³äºé”€å”®ã€ç”µå½±æˆ–ä»»ä½•ä½ æ„Ÿå…´è¶£çš„ä¸»é¢˜ï¼‰ä¸­æå–ã€åˆ†ææ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç®€å•çš„ HTML æŠ¥å‘Šï¼Œå…¶ä¸­åŒ…å«å…³é”®æŒ‡æ ‡å’Œå›¾è¡¨ã€‚

**æ ¸å¿ƒåŠŸèƒ½**

*   ä½¿ç”¨ `pandas` è¯»å–å’Œæ¸…æ´— CSV æ•°æ®ã€‚
*   è¿›è¡Œæ•°æ®èšåˆå’Œåˆ†æï¼ˆä¾‹å¦‚ï¼Œè®¡ç®—å¹³å‡å€¼ã€æ€»å’Œã€åˆ†ç»„ï¼‰ã€‚
*   ä½¿ç”¨ `matplotlib` æˆ– `seaborn` åˆ›å»ºå›¾è¡¨ï¼ˆå¦‚æ¡å½¢å›¾ã€æŠ˜çº¿å›¾ï¼‰ã€‚
*   å°†å›¾è¡¨ä¿å­˜ä¸ºå›¾ç‰‡ã€‚
*   ä½¿ç”¨ `jinja2` æ¨¡æ¿å¼•æ“ç”Ÿæˆ HTML æŠ¥å‘Šã€‚

<PythonEditor title="æ•°æ®åˆ†ææŠ¥å‘Šï¼šPython å®ç°æ€è·¯" compare={true}>
```javascript !! js
// JavaScript (Node.js + danfo.js + chart.js)
// è¿™ä¸ªè¿‡ç¨‹åœ¨ Node.js ä¸­ç›¸å¯¹ç¹çï¼Œé€šå¸¸éœ€è¦å¤šä¸ªåº“çš„é…åˆï¼Œ
// å¹¶ä¸”å›¾è¡¨ç”Ÿæˆé€šå¸¸åœ¨å®¢æˆ·ç«¯å®Œæˆã€‚
// ä¼ªä»£ç æ€è·¯ï¼š
// 1. ä½¿ç”¨ danfo.js æˆ–ç±»ä¼¼åº“è¯»å– CSVã€‚
// 2. è¿›è¡Œæ•°æ®æ“ä½œã€‚
// 3. å°†æ•°æ®ä¼ é€’ç»™ä¸€ä¸ªæ¨¡æ¿å¼•æ“ (e.g., EJS)ã€‚
// 4. åœ¨æ¨¡æ¿ä¸­ï¼Œä½¿ç”¨ Chart.js çš„è„šæœ¬æ¥æ¸²æŸ“å›¾è¡¨ã€‚
```

```python !! py
# Python (Pandas + Matplotlib + Jinja2)
import pandas as pd
import matplotlib.pyplot as plt
from jinja2 import Environment, FileSystemLoader

# 1. æ•°æ®åˆ†æ
df = pd.read_csv("sales_data.csv")
total_sales = df["sales"].sum()
top_products = df.groupby("product")["sales"].sum().nlargest(5)

# 2. åˆ›å»ºå›¾è¡¨
plt.figure()
top_products.plot(kind="bar")
plt.title("Top 5 Products by Sales")
plt.savefig("top_products.png")

# 3. ç”Ÿæˆ HTML æŠ¥å‘Š
env = Environment(loader=FileSystemLoader('.'))
template = env.get_template("report_template.html")

html_content = template.render(
    total_sales=total_sales,
    top_products_table=top_products.to_html()
)

with open("report.html", "w") as f:
    f.write(html_content)

# report_template.html (Jinja2 æ¨¡æ¿)
# <!DOCTYPE html>
# <html>
# <head><title>Sales Report</title></head>
# <body>
#   <h1>Sales Report</h1>
#   <p>Total Sales: {{ total_sales }}</p>
#   <h2>Top Products</h2>
#   {{ top_products_table|safe }}
#   <img src="top_products.png">
# </body>
# </html>
```
</PythonEditor>

## 5. æ€»ç»“

å®Œæˆè¿™äº›é¡¹ç›®åï¼Œä½ å°†ä¸ä»…ä»…æ˜¯ä¸€ä¸ªâ€œçŸ¥é“â€Python çš„äººï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½å¤Ÿâ€œä½¿ç”¨â€Python è§£å†³å®é™…é—®é¢˜çš„äººã€‚ä½ çš„æŠ€èƒ½å°†å¾—åˆ°æå¤§çš„æå‡ï¼Œå¹¶ä¸”ä½ å°†å¯¹ Python ç”Ÿæ€ç³»ç»Ÿæœ‰æ›´æ·±å…¥çš„äº†è§£ã€‚

ä¸è¦æ­¢æ­¥äºæ­¤ï¼å°è¯•æ‰©å±•è¿™äº›é¡¹ç›®ï¼Œæ·»åŠ æ–°åŠŸèƒ½ï¼Œæˆ–è€…å¯»æ‰¾ä½ è‡ªå·±çš„é¡¹ç›®æƒ³æ³•ã€‚ç¼–ç¨‹å­¦ä¹ çš„æœ€å¥½æ–¹å¼å°±æ˜¯ä¸æ–­åœ°åˆ›é€ å’Œå®è·µã€‚
