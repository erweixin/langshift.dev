---
title: "Python ç±»å‹æ³¨è§£è¯¦è§£ï¼šä» TypeScript å¼€å‘è€…è§†è§’"
description: "æ·±å…¥ç†è§£ Python ç±»å‹æ³¨è§£ç³»ç»Ÿï¼ŒæŒæ¡ä¸ TypeScript çš„å¯¹åº”å…³ç³»ï¼Œæå‡ä»£ç è´¨é‡å’Œå¼€å‘ä½“éªŒ"
---

## 1. å¼•è¨€

### ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹æ³¨è§£ï¼Ÿ

ä½œä¸ºä¸€å TypeScript å¼€å‘è€…ï¼Œä½ ä¸€å®šæ·±çŸ¥ç±»å‹ç³»ç»Ÿåœ¨å¤§å‹é¡¹ç›®ä¸­çš„é‡è¦æ€§ã€‚ç±»å‹æ³¨è§£ä¸ä»…èƒ½å¸®åŠ© IDE æä¾›æ›´å¥½çš„æ™ºèƒ½æç¤ºï¼Œè¿˜èƒ½åœ¨ç¼–è¯‘æ—¶æ•è·æ½œåœ¨çš„é”™è¯¯ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚

Python ä» 3.5 ç‰ˆæœ¬å¼€å§‹å¼•å…¥ç±»å‹æç¤ºï¼ˆType Hintsï¼‰ï¼Œå¹¶åœ¨åç»­ç‰ˆæœ¬ä¸­ä¸æ–­å®Œå–„ã€‚è™½ç„¶ Python æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä½†ç±»å‹æ³¨è§£ä¸ºæˆ‘ä»¬æä¾›äº†ç±»ä¼¼ TypeScript çš„å¼€å‘ä½“éªŒã€‚

**æ ¸å¿ƒæ¦‚å¿µæ˜ å°„**

| TypeScript æ¦‚å¿µ | Python æ¦‚å¿µ | è¯´æ˜ |
| --- | --- | --- |
| `string`, `number`, `boolean` | `str`, `int`, `bool` | åŸºæœ¬ç±»å‹ |
| `string[]`, `Array<string>` | `List[str]`, `list[str]` | åˆ—è¡¨ç±»å‹ |
| `{key: string}` | `Dict[str, Any]`, `dict[str, Any]` | å­—å…¸ç±»å‹ |
| `interface` | `TypedDict`, `Protocol` | æ¥å£å®šä¹‰ |
| `type` | `TypeAlias` | ç±»å‹åˆ«å |
| `generic<T>` | `TypeVar('T')` | æ³›å‹ |
| `union` | `Union`, `|` | è”åˆç±»å‹ |
| `optional` | `Optional`, `| None` | å¯é€‰ç±»å‹ |

> ğŸ’¡ **å­¦ä¹ ç­–ç•¥**ï¼šå°† Python çš„ç±»å‹æ³¨è§£è§†ä¸º TypeScript çš„"Python ç‰ˆæœ¬"ã€‚è™½ç„¶è¯­æ³•ä¸åŒï¼Œä½†æ ¸å¿ƒæ¦‚å¿µå’Œæ€ç»´æ–¹å¼æ˜¯ä¸€è‡´çš„ã€‚

## 2. åŸºæœ¬ç±»å‹æ³¨è§£

### 2.1 å˜é‡ç±»å‹æ³¨è§£

åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä¸ºå˜é‡å£°æ˜ç±»å‹ã€‚Python ä¹Ÿæ”¯æŒç±»ä¼¼çš„è¯­æ³•ã€‚

<PythonEditor title="å˜é‡ç±»å‹æ³¨è§£å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
let name: string = "Alice";
let age: number = 25;
let isActive: boolean = true;
let scores: number[] = [85, 92, 78];
let user: { name: string; age: number } = { name: "Bob", age: 30 };

// ä½¿ç”¨ const å£°æ˜å¸¸é‡
const PI: number = 3.14159;
const API_URL: string = "https://api.example.com";
```

```python !! py
# Python
from typing import List, Dict, Any

# å˜é‡ç±»å‹æ³¨è§£
name: str = "Alice"
age: int = 25
is_active: bool = True
scores: list[int] = [85, 92, 78]  # Python 3.9+
# æˆ–è€…ä½¿ç”¨ typing.List (Python 3.8 åŠä»¥ä¸‹)
# scores: List[int] = [85, 92, 78]

user: dict[str, Any] = {"name": "Bob", "age": 30}

# Python æ²¡æœ‰ constï¼Œä½†å¯ä»¥ä½¿ç”¨å¤§å†™è¡¨ç¤ºå¸¸é‡
PI: float = 3.14159
API_URL: str = "https://api.example.com"
```
</PythonEditor>

### 2.2 å‡½æ•°ç±»å‹æ³¨è§£

å‡½æ•°æ˜¯ç±»å‹æ³¨è§£æœ€é‡è¦çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ã€‚Python çš„å‡½æ•°ç±»å‹æ³¨è§£è¯­æ³•ä¸ TypeScript éå¸¸ç›¸ä¼¼ã€‚

<PythonEditor title="å‡½æ•°ç±»å‹æ³¨è§£å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
function greet(name: string, age: number): string {
  return `Hello, ${name}. You are ${age} years old.`;
}

function calculateArea(width: number, height: number): number {
  return width * height;
}

function getUserInfo(id: number): { name: string; email: string } | null {
  // æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯
  if (id === 1) {
    return { name: "Alice", email: "alice@example.com" };
  }
  return null;
}

// ç®­å¤´å‡½æ•°
const multiply = (a: number, b: number): number => a * b;
```

```python !! py
# Python
from typing import Optional, Dict, Any

def greet(name: str, age: int) -> str:
    return f"Hello, {name}. You are {age} years old."

def calculate_area(width: float, height: float) -> float:
    return width * height

def get_user_info(user_id: int) -> Optional[dict[str, str]]:
    # æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯
    if user_id == 1:
        return {"name": "Alice", "email": "alice@example.com"}
    return None

# Lambda å‡½æ•°ï¼ˆPython çš„ç®­å¤´å‡½æ•°ï¼‰
multiply = lambda a: float, b: float: a * b
```
</PythonEditor>

## 3. å¤æ‚ç±»å‹æ³¨è§£

### 3.1 åˆ—è¡¨å’Œæ•°ç»„ç±»å‹

Python çš„åˆ—è¡¨ç±»å‹æ³¨è§£ä¸ TypeScript çš„æ•°ç»„ç±»å‹éå¸¸ç›¸ä¼¼ã€‚

<PythonEditor title="åˆ—è¡¨ç±»å‹æ³¨è§£å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
let numbers: number[] = [1, 2, 3, 4, 5];
let names: string[] = ["Alice", "Bob", "Charlie"];
let mixed: (string | number)[] = ["hello", 42, "world", 100];

// äºŒç»´æ•°ç»„
let matrix: number[][] = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9]
];

// ä½¿ç”¨ Array æ³›å‹
let scores: Array<number> = [85, 92, 78];
let users: Array<{ name: string; age: number }> = [
  { name: "Alice", age: 25 },
  { name: "Bob", age: 30 }
];
```

```python !! py
# Python
from typing import List, Union

# åŸºæœ¬åˆ—è¡¨ç±»å‹
numbers: list[int] = [1, 2, 3, 4, 5]  # Python 3.9+
names: list[str] = ["Alice", "Bob", "Charlie"]
mixed: list[Union[str, int]] = ["hello", 42, "world", 100]
# æˆ–è€…ä½¿ç”¨ | æ“ä½œç¬¦ (Python 3.10+)
# mixed: list[str | int] = ["hello", 42, "world", 100]

# äºŒç»´æ•°ç»„
matrix: list[list[int]] = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# ä½¿ç”¨ typing.List (Python 3.8 åŠä»¥ä¸‹)
scores: List[int] = [85, 92, 78]
users: List[dict[str, Union[str, int]]] = [
    {"name": "Alice", "age": 25},
    {"name": "Bob", "age": 30}
]
```
</PythonEditor>

### 3.2 å­—å…¸å’Œå¯¹è±¡ç±»å‹

Python çš„å­—å…¸ç±»å‹æ³¨è§£å¯¹åº” TypeScript çš„å¯¹è±¡ç±»å‹ã€‚

<PythonEditor title="å­—å…¸ç±»å‹æ³¨è§£å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
interface User {
  name: string;
  age: number;
  email?: string;  // å¯é€‰å±æ€§
}

let user: User = { name: "Alice", age: 25 };
let userWithEmail: User = { name: "Bob", age: 30, email: "bob@example.com" };

// é€šç”¨å­—å…¸ç±»å‹
let config: Record<string, any> = {
  apiUrl: "https://api.example.com",
  timeout: 5000,
  debug: true
};

// ç´¢å¼•ç­¾å
let scores: { [key: string]: number } = {
  "Alice": 85,
  "Bob": 92,
  "Charlie": 78
};
```

```python !! py
# Python
from typing import Dict, Any, Optional, TypedDict

# ä½¿ç”¨ TypedDict å®šä¹‰ç»“æ„åŒ–å­—å…¸ï¼ˆç±»ä¼¼ TypeScript çš„ interfaceï¼‰
class User(TypedDict, total=False):  # total=False è¡¨ç¤ºæ‰€æœ‰å­—æ®µéƒ½æ˜¯å¯é€‰çš„
    name: str
    age: int
    email: Optional[str]  # å¯é€‰å­—æ®µ

user: User = {"name": "Alice", "age": 25}
user_with_email: User = {"name": "Bob", "age": 30, "email": "bob@example.com"}

# é€šç”¨å­—å…¸ç±»å‹
config: dict[str, Any] = {
    "api_url": "https://api.example.com",
    "timeout": 5000,
    "debug": True
}

# ç´¢å¼•ç­¾åï¼ˆä½¿ç”¨ Dictï¼‰
scores: Dict[str, int] = {
    "Alice": 85,
    "Bob": 92,
    "Charlie": 78
}
```
</PythonEditor>

### 3.3 è”åˆç±»å‹å’Œå¯é€‰ç±»å‹

Python çš„è”åˆç±»å‹å¯¹åº” TypeScript çš„ union ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªå€¼å¯èƒ½æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚

<PythonEditor title="è”åˆç±»å‹å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
type Status = "pending" | "success" | "error";
type ID = string | number;
type Result<T> = T | null | undefined;

function processStatus(status: Status): string {
  switch (status) {
    case "pending": return "å¤„ç†ä¸­...";
    case "success": return "æˆåŠŸ";
    case "error": return "é”™è¯¯";
  }
}

function findUser(id: ID): User | null {
  // æ ¹æ® ID æŸ¥æ‰¾ç”¨æˆ·
  return null;
}

// å¯é€‰å‚æ•°
function greet(name: string, title?: string): string {
  return title ? `Hello, ${title} ${name}` : `Hello, ${name}`;
}
```

```python !! py
# Python
from typing import Union, Optional, Literal

# å­—é¢é‡è”åˆç±»å‹ (Python 3.8+)
Status = Literal["pending", "success", "error"]
ID = Union[str, int]  # æˆ–è€…ä½¿ç”¨ str | int (Python 3.10+)
Result = Union[str, None]  # æˆ–è€…ä½¿ç”¨ str | None

def process_status(status: Status) -> str:
    if status == "pending":
        return "å¤„ç†ä¸­..."
    elif status == "success":
        return "æˆåŠŸ"
    elif status == "error":
        return "é”™è¯¯"
    else:
        raise ValueError(f"Unknown status: {status}")

def find_user(user_id: ID) -> Optional[dict[str, Any]]:
    # æ ¹æ® ID æŸ¥æ‰¾ç”¨æˆ·
    return None

# å¯é€‰å‚æ•°
def greet(name: str, title: Optional[str] = None) -> str:
    if title:
        return f"Hello, {title} {name}"
    return f"Hello, {name}"
```
</PythonEditor>

## 4. é«˜çº§ç±»å‹æ³¨è§£

### 4.1 æ³›å‹

Python çš„æ³›å‹ç³»ç»Ÿä¸ TypeScript çš„æ³›å‹æ¦‚å¿µéå¸¸ç›¸ä¼¼ï¼Œéƒ½å…è®¸åˆ›å»ºå¯é‡ç”¨çš„ç±»å‹æ¨¡æ¿ã€‚

<PythonEditor title="æ³›å‹å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
interface Box<T> {
  value: T;
  getValue(): T;
  setValue(value: T): void;
}

class NumberBox implements Box<number> {
  constructor(private _value: number) {}
  
  get value(): number { return this._value; }
  getValue(): number { return this._value; }
  setValue(value: number): void { this._value = value; }
}

// æ³›å‹å‡½æ•°
function identity<T>(arg: T): T {
  return arg;
}

function first<T>(array: T[]): T | undefined {
  return array[0];
}

// çº¦æŸæ³›å‹
interface Lengthwise {
  length: number;
}

function logLength<T extends Lengthwise>(arg: T): T {
  console.log(arg.length);
  return arg;
}
```

```python !! py
# Python
from typing import TypeVar, Generic, Protocol

# å®šä¹‰ç±»å‹å˜é‡
T = TypeVar('T')
U = TypeVar('U')

# æ³›å‹ç±»
class Box(Generic[T]):
    def __init__(self, value: T):
        self._value = value
    
    @property
    def value(self) -> T:
        return self._value
    
    def get_value(self) -> T:
        return self._value
    
    def set_value(self, value: T) -> None:
        self._value = value

class NumberBox(Box[int]):
    pass

# æ³›å‹å‡½æ•°
def identity(arg: T) -> T:
    return arg

def first(array: list[T]) -> T | None:
    return array[0] if array else None

# çº¦æŸæ³›å‹ï¼ˆä½¿ç”¨ Protocolï¼‰
class Lengthwise(Protocol):
    def __len__(self) -> int: ...

def log_length(arg: T) -> T:
    print(len(arg))
    return arg
```
</PythonEditor>

### 4.2 ç±»å‹åˆ«åå’Œæ¥å£

Python ä½¿ç”¨ `TypeAlias` å’Œ `Protocol` æ¥å®ç°ç±»ä¼¼ TypeScript çš„ `type` å’Œ `interface` åŠŸèƒ½ã€‚

<PythonEditor title="ç±»å‹åˆ«åå’Œæ¥å£å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
// ç±»å‹åˆ«å
type Point = {
  x: number;
  y: number;
};

type Coordinates = Point;
type UserID = string;
type Status = "active" | "inactive" | "pending";

// æ¥å£
interface User {
  id: UserID;
  name: string;
  email: string;
  status: Status;
}

interface AdminUser extends User {
  permissions: string[];
  canDelete: boolean;
}

// å‡½æ•°ç±»å‹
type Handler = (event: string, data: any) => void;
type AsyncHandler = (event: string, data: any) => Promise<void>;
```

```python !! py
# Python
from typing import TypeAlias, Protocol, Callable, Any
from typing_extensions import TypedDict

# ç±»å‹åˆ«å (Python 3.10+)
Point: TypeAlias = dict[str, float]
Coordinates: TypeAlias = Point
UserID: TypeAlias = str
Status: TypeAlias = Literal["active", "inactive", "pending"]

# ä½¿ç”¨ TypedDict å®šä¹‰æ¥å£
class User(TypedDict):
    id: UserID
    name: str
    email: str
    status: Status

class AdminUser(User):
    permissions: list[str]
    can_delete: bool

# å‡½æ•°ç±»å‹
Handler: TypeAlias = Callable[[str, Any], None]
AsyncHandler: TypeAlias = Callable[[str, Any], Any]  # è¿”å›ç±»å‹ä¸º Any å› ä¸º Python æ²¡æœ‰ Promise ç±»å‹
```
</PythonEditor>

### 4.3 å›è°ƒå‡½æ•°å’Œå¼‚æ­¥ç±»å‹

Python çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸ TypeScript æœ‰æ‰€ä¸åŒï¼Œä½†ç±»å‹æ³¨è§£çš„æ¦‚å¿µæ˜¯ç›¸ä¼¼çš„ã€‚

<PythonEditor title="å›è°ƒå‡½æ•°å’Œå¼‚æ­¥ç±»å‹å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
// å›è°ƒå‡½æ•°ç±»å‹
type Callback<T> = (error: Error | null, result: T) => void;
type EventHandler = (event: Event) => void;

// å¼‚æ­¥å‡½æ•°
async function fetchUser(id: number): Promise<User> {
  const response = await fetch(`/api/users/${id}`);
  return response.json();
}

// å¼‚æ­¥å›è°ƒ
function processData(data: string[], callback: Callback<string[]>) {
  setTimeout(() => {
    const processed = data.map(item => item.toUpperCase());
    callback(null, processed);
  }, 1000);
}

// äº‹ä»¶å¤„ç†
function handleClick(event: Event): void {
  console.log('Button clicked');
}
```

```python !! py
# Python
import asyncio
from typing import Callable, Any, Awaitable
from typing_extensions import TypedDict

# å›è°ƒå‡½æ•°ç±»å‹
Callback = Callable[[Exception | None, Any], None]
EventHandler = Callable[[Any], None]

# å¼‚æ­¥å‡½æ•°
async def fetch_user(user_id: int) -> dict[str, Any]:
    # æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚
    await asyncio.sleep(0.1)
    return {"id": user_id, "name": "Alice", "email": "alice@example.com"}

# å¼‚æ­¥å›è°ƒï¼ˆä½¿ç”¨ asyncioï¼‰
async def process_data(data: list[str], callback: Callable[[list[str]], None]) -> None:
    await asyncio.sleep(1)
    processed = [item.upper() for item in data]
    callback(processed)

# äº‹ä»¶å¤„ç†
def handle_click(event: Any) -> None:
    print("Button clicked")
```
</PythonEditor>

## 5. å®é™…åº”ç”¨åœºæ™¯

### 5.1 API å“åº”ç±»å‹å®šä¹‰

åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸º API å“åº”å®šä¹‰ç±»å‹ã€‚

<PythonEditor title="API å“åº”ç±»å‹å®šä¹‰å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
interface ApiResponse<T> {
  success: boolean;
  data: T;
  message: string;
  timestamp: string;
}

interface User {
  id: number;
  name: string;
  email: string;
  createdAt: string;
}

interface UserListResponse extends ApiResponse<User[]> {
  pagination: {
    page: number;
    limit: number;
    total: number;
  };
}

// ä½¿ç”¨ç¤ºä¾‹
async function fetchUsers(page: number = 1): Promise<UserListResponse> {
  const response = await fetch(`/api/users?page=${page}`);
  return response.json();
}

// é”™è¯¯å¤„ç†
interface ApiError {
  code: string;
  message: string;
  details?: any;
}
```

```python !! py
# Python
from typing import TypeVar, Generic
from typing_extensions import TypedDict
from datetime import datetime

# å®šä¹‰æ³›å‹ API å“åº”
T = TypeVar('T')

class ApiResponse(TypedDict, Generic[T]):
    success: bool
    data: T
    message: str
    timestamp: str

class User(TypedDict):
    id: int
    name: str
    email: str
    created_at: str

class Pagination(TypedDict):
    page: int
    limit: int
    total: int

class UserListResponse(ApiResponse[list[User]]):
    pagination: Pagination

# ä½¿ç”¨ç¤ºä¾‹
async def fetch_users(page: int = 1) -> UserListResponse:
    # æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚
    await asyncio.sleep(0.1)
    return {
        "success": True,
        "data": [
            {"id": 1, "name": "Alice", "email": "alice@example.com", "created_at": "2024-01-01"}
        ],
        "message": "Users fetched successfully",
        "timestamp": datetime.now().isoformat(),
        "pagination": {"page": page, "limit": 10, "total": 100}
    }

# é”™è¯¯å¤„ç†
class ApiError(TypedDict):
    code: str
    message: str
    details: dict[str, Any] | None
```
</PythonEditor>

### 5.2 é…ç½®ç®¡ç†

ç±»å‹æ³¨è§£åœ¨é…ç½®ç®¡ç†ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå¯ä»¥ç¡®ä¿é…ç½®å¯¹è±¡çš„ç±»å‹å®‰å…¨ã€‚

<PythonEditor title="é…ç½®ç®¡ç†ç±»å‹å®šä¹‰å¯¹æ¯”" compare={true}>
```typescript !! ts
// TypeScript
interface DatabaseConfig {
  host: string;
  port: number;
  username: string;
  password: string;
  database: string;
  ssl: boolean;
}

interface RedisConfig {
  host: string;
  port: number;
  password?: string;
  db: number;
}

interface AppConfig {
  env: 'development' | 'production' | 'test';
  port: number;
  database: DatabaseConfig;
  redis: RedisConfig;
  cors: {
    origin: string[];
    credentials: boolean;
  };
}

// é…ç½®éªŒè¯å‡½æ•°
function validateConfig(config: any): config is AppConfig {
  return (
    typeof config.env === 'string' &&
    typeof config.port === 'number' &&
    config.database &&
    config.redis
  );
}
```

```python !! py
# Python
from typing import Literal
from typing_extensions import TypedDict

class DatabaseConfig(TypedDict):
    host: str
    port: int
    username: str
    password: str
    database: str
    ssl: bool

class RedisConfig(TypedDict, total=False):
    host: str
    port: int
    password: str | None
    db: int

class CorsConfig(TypedDict):
    origin: list[str]
    credentials: bool

class AppConfig(TypedDict):
    env: Literal["development", "production", "test"]
    port: int
    database: DatabaseConfig
    redis: RedisConfig
    cors: CorsConfig

# é…ç½®éªŒè¯å‡½æ•°
def validate_config(config: dict[str, Any]) -> bool:
    required_fields = ["env", "port", "database", "redis", "cors"]
    return all(field in config for field in required_fields)

# ç±»å‹å®‰å…¨çš„é…ç½®è·å–
def get_database_config(config: AppConfig) -> DatabaseConfig:
    return config["database"]
```
</PythonEditor>

## 6. ç±»å‹æ£€æŸ¥å·¥å…·

### 6.1 Mypy é…ç½®å’Œä½¿ç”¨

Mypy æ˜¯ Python æœ€æµè¡Œçš„é™æ€ç±»å‹æ£€æŸ¥å™¨ï¼Œç±»ä¼¼äº TypeScript çš„ `tsc`ã€‚

```json
// TypeScript tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

```ini
# Python mypy.ini
[mypy]
python_version = 3.9
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
strict_equality = True

[mypy.plugins.numpy.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True
```

### 6.2 å¸¸è§ç±»å‹é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

<PythonEditor title="å¸¸è§ç±»å‹é”™è¯¯ç¤ºä¾‹" compare={true}>
```typescript !! ts
// TypeScript å¸¸è§é”™è¯¯
function processUser(user: User) {
  // é”™è¯¯ï¼šProperty 'age' does not exist on type 'User'
  console.log(user.age);
  
  // é”™è¯¯ï¼šType 'string' is not assignable to type 'number'
  const id: number = "123";
  
  // é”™è¯¯ï¼šArgument of type 'string' is not assignable to parameter of type 'number'
  function add(a: number, b: number): number {
    return a + b;
  }
  add("1", 2);
}
```

```python !! py
# Python å¸¸è§ç±»å‹é”™è¯¯
from typing import TypedDict

class User(TypedDict):
    name: str
    email: str

def process_user(user: User) -> None:
    # é”™è¯¯ï¼šTypedDict "User" has no key 'age'
    print(user["age"])  # mypy ä¼šæŠ¥é”™
    
    # é”™è¯¯ï¼šIncompatible types in assignment
    user_id: int = "123"  # mypy ä¼šæŠ¥é”™
    
    # é”™è¯¯ï¼šArgument 1 to "add" has incompatible type "str"
    def add(a: int, b: int) -> int:
        return a + b
    
    add("1", 2)  # mypy ä¼šæŠ¥é”™

# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç±»å‹æ–­è¨€æˆ–ç±»å‹æ£€æŸ¥
def safe_process_user(user: User) -> None:
    # ä½¿ç”¨ get æ–¹æ³•é¿å… KeyError
    age = user.get("age", 0)
    print(f"Age: {age}")
    
    # ç±»å‹è½¬æ¢
    user_id: int = int("123")
    
    # è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥
    def safe_add(a: Any, b: Any) -> int:
        if isinstance(a, int) and isinstance(b, int):
            return a + b
        raise TypeError("Both arguments must be integers")
```
</PythonEditor>

## 7. æœ€ä½³å®è·µ

### 7.1 æ¸è¿›å¼ç±»å‹æ³¨è§£

ä¸ TypeScript ç±»ä¼¼ï¼ŒPython ä¹Ÿæ”¯æŒæ¸è¿›å¼ç±»å‹æ³¨è§£ï¼Œä½ å¯ä»¥é€æ­¥ä¸ºä»£ç æ·»åŠ ç±»å‹ä¿¡æ¯ã€‚

<PythonEditor title="æ¸è¿›å¼ç±»å‹æ³¨è§£ç¤ºä¾‹" compare={true}>
```typescript !! ts
// TypeScript æ¸è¿›å¼ç±»å‹æ³¨è§£
// 1. ä» any å¼€å§‹
function processData(data: any): any {
  return data.map(item => item.toUpperCase());
}

// 2. æ·»åŠ åŸºæœ¬ç±»å‹
function processData(data: any[]): string[] {
  return data.map(item => item.toUpperCase());
}

// 3. å®Œå–„ç±»å‹å®šä¹‰
interface DataItem {
  name: string;
  value: number;
}

function processData(data: DataItem[]): string[] {
  return data.map(item => item.name.toUpperCase());
}
```

```python !! py
# Python æ¸è¿›å¼ç±»å‹æ³¨è§£
from typing import Any, List

# 1. ä» Any å¼€å§‹
def process_data(data: Any) -> Any:
    return [item.upper() for item in data]

# 2. æ·»åŠ åŸºæœ¬ç±»å‹
def process_data(data: list[Any]) -> list[str]:
    return [item.upper() for item in data]

# 3. å®Œå–„ç±»å‹å®šä¹‰
class DataItem(TypedDict):
    name: str
    value: int

def process_data(data: list[DataItem]) -> list[str]:
    return [item["name"].upper() for item in data]
```
</PythonEditor>

### 7.2 ç±»å‹æ³¨è§£çš„æœ€ä½³å®è·µ

<PythonEditor title="ç±»å‹æ³¨è§£æœ€ä½³å®è·µ" compare={true}>
```typescript !! ts
// TypeScript æœ€ä½³å®è·µ

// âœ… å¥½çš„åšæ³•
interface User {
  id: number;
  name: string;
  email: string;
}

function createUser(name: string, email: string): User {
  return {
    id: Date.now(),
    name,
    email
  };
}

// âŒ é¿å…çš„åšæ³•
function processUser(user: any): any {
  return user.someProperty;
}

// âœ… ä½¿ç”¨æ³›å‹
function identity<T>(arg: T): T {
  return arg;
}

// âœ… ä½¿ç”¨è”åˆç±»å‹
type Status = "active" | "inactive";
```

```python !! py
# Python ç±»å‹æ³¨è§£æœ€ä½³å®è·µ

# âœ… å¥½çš„åšæ³•
class User(TypedDict):
    id: int
    name: str
    email: str

def create_user(name: str, email: str) -> User:
    return {
        "id": int(datetime.now().timestamp()),
        "name": name,
        "email": email
    }

# âŒ é¿å…çš„åšæ³•
def process_user(user: Any) -> Any:
    return user["some_property"]

# âœ… ä½¿ç”¨æ³›å‹
T = TypeVar('T')

def identity(arg: T) -> T:
    return arg

# âœ… ä½¿ç”¨å­—é¢é‡è”åˆç±»å‹
Status = Literal["active", "inactive"]

# âœ… ä½¿ç”¨ Optional è€Œä¸æ˜¯ Union[Type, None]
def get_user(user_id: int) -> Optional[User]:
    # å®ç°...
    pass
```
</PythonEditor>

## 8. æ€»ç»“

æ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»æ·±å…¥äº†è§£äº† Python ç±»å‹æ³¨è§£ç³»ç»Ÿä¸ TypeScript çš„å¯¹åº”å…³ç³»ã€‚

### å…³é”®è¦ç‚¹

1. **åŸºæœ¬ç±»å‹æ˜ å°„**ï¼šPython çš„ `str`, `int`, `bool` å¯¹åº” TypeScript çš„ `string`, `number`, `boolean`
2. **å®¹å™¨ç±»å‹**ï¼šPython çš„ `list[T]`, `dict[K, V]` å¯¹åº” TypeScript çš„ `T[]`, `Record<K, V>`
3. **è”åˆç±»å‹**ï¼šPython çš„ `Union[T, U]` æˆ– `T | U` å¯¹åº” TypeScript çš„ `T | U`
4. **æ³›å‹**ï¼šPython çš„ `TypeVar` å’Œ `Generic` å¯¹åº” TypeScript çš„æ³›å‹è¯­æ³•
5. **æ¥å£**ï¼šPython çš„ `TypedDict` å’Œ `Protocol` å¯¹åº” TypeScript çš„ `interface`

### å®è·µå»ºè®®

1. **æ¸è¿›å¼é‡‡ç”¨**ï¼šä»å…³é”®å‡½æ•°å¼€å§‹æ·»åŠ ç±»å‹æ³¨è§£ï¼Œé€æ­¥æ‰©å±•åˆ°æ•´ä¸ªé¡¹ç›®
2. **ä½¿ç”¨ Mypy**ï¼šé…ç½® Mypy è¿›è¡Œé™æ€ç±»å‹æ£€æŸ¥ï¼Œåœ¨ CI/CD ä¸­é›†æˆ
3. **ä¿æŒä¸€è‡´æ€§**ï¼šå»ºç«‹å›¢é˜Ÿçš„ç±»å‹æ³¨è§£è§„èŒƒï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´
4. **æ–‡æ¡£åŒ–**ï¼šä½¿ç”¨ç±»å‹æ³¨è§£ä½œä¸ºä»£ç æ–‡æ¡£ï¼Œæé«˜ä»£ç å¯è¯»æ€§

### ä¸‹ä¸€æ­¥å­¦ä¹ 

- æ·±å…¥å­¦ä¹  Python çš„é«˜çº§ç±»å‹ç‰¹æ€§ï¼ˆå¦‚ `Protocol`, `Literal`, `Annotated`ï¼‰
- æ¢ç´¢ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹æ³¨è§£æ”¯æŒ
- å­¦ä¹ å¦‚ä½•åœ¨ç°æœ‰é¡¹ç›®ä¸­é€æ­¥å¼•å…¥ç±»å‹æ³¨è§£
- äº†è§£ Python ç±»å‹æ³¨è§£çš„æ€§èƒ½å½±å“å’Œæœ€ä½³å®è·µ

è®°ä½ï¼Œç±»å‹æ³¨è§£æ˜¯æé«˜ä»£ç è´¨é‡å’Œå¼€å‘ä½“éªŒçš„å¼ºå¤§å·¥å…·ã€‚è™½ç„¶ Python æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä½†ç±»å‹æ³¨è§£èƒ½ä¸ºä½ æä¾›ç±»ä¼¼ TypeScript çš„å¼€å‘ä½“éªŒï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´å¥å£®ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç ã€‚ 