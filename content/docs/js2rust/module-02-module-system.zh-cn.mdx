---
title: "æ¨¡å—ç³»ç»Ÿä¸æ„å»ºå·¥å…·"
description: "å­¦ä¹  Rust çš„æ¨¡å—ç³»ç»Ÿã€åŒ…ç®¡ç†å’Œé¡¹ç›®ç»“æ„ï¼Œå¯¹æ¯” JavaScript çš„æ¨¡å—åŒ–å¼€å‘"
---

# æ¨¡å—ç³»ç»Ÿä¸æ„å»ºå·¥å…·

## ğŸ“– å­¦ä¹ ç›®æ ‡

äº†è§£ Rust çš„æ¨¡å—ç³»ç»Ÿå’ŒåŒ…ç®¡ç†å·¥å…· Cargoï¼Œå­¦ä¼šå¦‚ä½•ç»„ç»‡ Rust é¡¹ç›®ç»“æ„ï¼Œå¹¶ç†è§£ä¸ JavaScript æ¨¡å—ç³»ç»Ÿçš„å·®å¼‚ã€‚

---

## ğŸ¯ æ¨¡å—ç³»ç»Ÿå¯¹æ¯”

### JavaScript çš„æ¨¡å—ç³»ç»Ÿ

JavaScript ä½¿ç”¨ ES6 æ¨¡å—è¯­æ³•ï¼š

<UniversalEditor title="JavaScript æ¨¡å—ç³»ç»Ÿ" compare={true} canRun={false}>
```javascript !! js
// math.js - å¯¼å‡ºæ¨¡å—
export const PI = 3.14159;

export function add(a, b) {
    return a + b;
}

export function multiply(a, b) {
    return a * b;
}

// é»˜è®¤å¯¼å‡º
export default class Calculator {
    constructor() {
        this.result = 0;
    }
    
    add(x) {
        this.result += x;
        return this;
    }
    
    getResult() {
        return this.result;
    }
}

// utils.js - å¦ä¸€ä¸ªæ¨¡å—
export function formatNumber(num) {
    return num.toFixed(2);
}

// main.js - å¯¼å…¥æ¨¡å—
import Calculator, { add, multiply, PI } from './math.js';
import { formatNumber } from './utils.js';

console.log(PI); // 3.14159
console.log(add(5, 3)); // 8
console.log(multiply(4, 2)); // 8

const calc = new Calculator();
calc.add(10).add(5);
console.log(calc.getResult()); // 15

console.log(formatNumber(3.14159)); // "3.14"
```
</UniversalEditor>

### Rust çš„æ¨¡å—ç³»ç»Ÿ

Rust ä½¿ç”¨ `mod` å’Œ `use` å…³é”®å­—ç®¡ç†æ¨¡å—ï¼š

<UniversalEditor title="Rust æ¨¡å—ç³»ç»Ÿ" compare={true} canRun={false}>
```rust !! rs
// lib.rs - ä¸»æ¨¡å—æ–‡ä»¶
mod math; // å£°æ˜ math æ¨¡å—
mod utils; // å£°æ˜ utils æ¨¡å—

// é‡æ–°å¯¼å‡ºæ¨¡å—å†…å®¹
pub use math::{add, multiply, PI, Calculator};
pub use utils::format_number;

// math.rs - æ•°å­¦æ¨¡å—
pub const PI: f64 = 3.14159;

pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

pub fn multiply(a: i32, b: i32) -> i32 {
    a * b
}

// ç»“æ„ä½“ï¼ˆç±»ä¼¼ JavaScript çš„ç±»ï¼‰
pub struct Calculator {
    result: i32,
}

impl Calculator {
    // æ„é€ å‡½æ•°
    pub fn new() -> Self {
        Calculator { result: 0 }
    }
    
    pub fn add(&mut self, x: i32) -> &mut Self {
        self.result += x;
        self
    }
    
    pub fn get_result(&self) -> i32 {
        self.result
    }
}

// utils.rs - å·¥å…·æ¨¡å—
pub fn format_number(num: f64) -> String {
    format!("{:.2}", num)
}

// main.rs - ä¸»ç¨‹åº
// å‡è®¾ crate åç§°ä¸º langshift-project
use langshift_project::math::{add, multiply, PI, Calculator};
use langshift_project::utils::format_number;

fn main() {
    println!("PI = {}", PI); // PI = 3.14159
    println!("add(5, 3) = {}", add(5, 3)); // add(5, 3) = 8
    println!("multiply(4, 2) = {}", multiply(4, 2)); // multiply(4, 2) = 8
    
    let mut calc = Calculator::new();
    calc.add(10).add(5);
    println!("calc result = {}", calc.get_result()); // calc result = 15
    
    println!("formatted: {}", format_number(3.14159)); // formatted: 3.14
}
```
</UniversalEditor>

### æ¨¡å—ç³»ç»Ÿå·®å¼‚

1. **æ–‡ä»¶ç»„ç»‡**: Rust ä½¿ç”¨ `mod` å£°æ˜æ¨¡å—ï¼ŒJavaScript ä½¿ç”¨æ–‡ä»¶è·¯å¾„
2. **å¯è§æ€§**: Rust éœ€è¦æ˜¾å¼å£°æ˜ `pub` æ¥å…¬å¼€å‡½æ•°å’Œç»“æ„ä½“
3. **å¯¼å…¥è¯­æ³•**: Rust ä½¿ç”¨ `use` å…³é”®å­—ï¼ŒJavaScript ä½¿ç”¨ `import`
4. **é»˜è®¤å¯¼å‡º**: Rust æ²¡æœ‰é»˜è®¤å¯¼å‡ºæ¦‚å¿µï¼Œéœ€è¦æ˜¾å¼å¯¼å…¥

---

## ğŸ“¦ åŒ…ç®¡ç†ç³»ç»Ÿå¯¹æ¯”

### JavaScript çš„ npm

<UniversalEditor title="JavaScript åŒ…ç®¡ç†" compare={true} canRun={false}>
```javascript !! js
// package.json
{
  "name": "langshift-project",
  "version": "1.0.0",
  "description": "JavaScript åˆ° Rust å­¦ä¹ é¡¹ç›®",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "test": "jest",
    "build": "webpack"
  },
  "dependencies": {
    "lodash": "^4.17.21",
    "express": "^4.18.2"
  },
  "devDependencies": {
    "jest": "^29.5.0",
    "webpack": "^5.88.0"
  }
}

// å®‰è£…ä¾èµ–
// npm install lodash express
// npm install --save-dev jest webpack

// ä½¿ç”¨ä¾èµ–
import _ from 'lodash';
import express from 'express';

const app = express();
const numbers = [1, 2, 3, 4, 5];
const sum = _.sum(numbers);

console.log(sum); // 15
```
</UniversalEditor>

### Rust çš„ Cargo

<UniversalEditor title="Rust åŒ…ç®¡ç†" compare={true} canRun={false}>
```rust !! rs
// Cargo.toml - é¡¹ç›®é…ç½®æ–‡ä»¶
[package]
name = "langshift-project"
version = "0.1.0"
edition = "2021"
authors = ["Your Name <your.email@example.com>"]
description = "JavaScript åˆ° Rust å­¦ä¹ é¡¹ç›®"

[dependencies]
serde = { version = "1.0", features = ["derive"] }
tokio = { version = "1.0", features = ["full"] }
reqwest = { version = "0.11", features = ["json"] }

[dev-dependencies]
tokio-test = "0.4"

# å®‰è£…ä¾èµ–
# cargo add serde tokio reqwest
# cargo add --dev tokio-test

// main.rs - ä½¿ç”¨ä¾èµ–
use serde::{Deserialize, Serialize};
use tokio;

#[derive(Serialize, Deserialize)]
struct User {
    name: String,
    age: u32,
}

#[tokio::main]
async fn main() {
    let user = User {
        name: String::from("Rust"),
        age: 25,
    };
    
    // åºåˆ—åŒ–ä¸º JSON
    let json = serde_json::to_string(&user).unwrap();
    println!("JSON: {}", json);
    
    // å¼‚æ­¥ä»»åŠ¡
    tokio::spawn(async {
        println!("å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œä¸­...");
    });
}
```
</UniversalEditor>

### åŒ…ç®¡ç†å·®å¼‚

1. **é…ç½®æ–‡ä»¶**: npm ä½¿ç”¨ `package.json`ï¼ŒCargo ä½¿ç”¨ `Cargo.toml`
2. **ä¾èµ–ç®¡ç†**: Cargo çš„ä¾èµ–ç®¡ç†æ›´ä¸¥æ ¼ï¼Œç‰ˆæœ¬å†²çªå¤„ç†æ›´å¥½
3. **æ„å»ºå·¥å…·**: Cargo é›†æˆäº†æ„å»ºã€æµ‹è¯•ã€æ–‡æ¡£ç”Ÿæˆç­‰åŠŸèƒ½
4. **ç‰¹æ€§ç³»ç»Ÿ**: Rust æ”¯æŒæ¡ä»¶ç¼–è¯‘å’Œç‰¹æ€§æ ‡å¿—

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„å¯¹æ¯”

### JavaScript é¡¹ç›®ç»“æ„

```
javascript-project/
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ node_modules/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ math.js
â”‚   â”œâ”€â”€ utils.js
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ calculator.js
â”‚       â””â”€â”€ formatter.js
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ math.test.js
â”‚   â””â”€â”€ utils.test.js
â”œâ”€â”€ dist/
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

### Rust é¡¹ç›®ç»“æ„

```
rust-project/
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs          # äºŒè¿›åˆ¶ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ lib.rs           # åº“å…¥å£
â”‚   â”œâ”€â”€ math.rs
â”‚   â”œâ”€â”€ utils.rs
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ mod.rs       # å­æ¨¡å—å£°æ˜
â”‚       â”œâ”€â”€ calculator.rs
â”‚       â””â”€â”€ formatter.rs
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration_test.rs
â”‚   â””â”€â”€ common/
â”‚       â””â”€â”€ mod.rs
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ basic_usage.rs
â”œâ”€â”€ benches/
â”‚   â””â”€â”€ benchmark.rs
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## ğŸ”§ Cargo å‘½ä»¤å¯¹æ¯”

### npm å¸¸ç”¨å‘½ä»¤

<UniversalEditor title="npm å‘½ä»¤" compare={true} canRun={false}>
```bash !! bash
# åˆå§‹åŒ–é¡¹ç›®
npm init
npm init -y

# å®‰è£…ä¾èµ–
npm install lodash
npm install --save-dev jest

# è¿è¡Œè„šæœ¬
npm start
npm test
npm run build

# å‘å¸ƒåŒ…
npm publish

# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm list
npm outdated
```
</UniversalEditor>

### Cargo å¸¸ç”¨å‘½ä»¤

<UniversalEditor title="Cargo å‘½ä»¤" compare={true} canRun={false}>
```bash !! bash
# åˆ›å»ºæ–°é¡¹ç›®
cargo new my-project
cargo new --lib my-library

# æ„å»ºé¡¹ç›®
cargo build
cargo build --release  # å‘å¸ƒç‰ˆæœ¬

# è¿è¡Œé¡¹ç›®
cargo run
cargo run --release

# è¿è¡Œæµ‹è¯•
cargo test
cargo test --release

# æ£€æŸ¥ä»£ç 
cargo check
cargo clippy

# æ ¼å¼åŒ–ä»£ç 
cargo fmt

# ç”Ÿæˆæ–‡æ¡£
cargo doc
cargo doc --open

# å‘å¸ƒåŒ…
cargo publish

# æ·»åŠ ä¾èµ–
cargo add serde
cargo add --dev tokio-test

# æ›´æ–°ä¾èµ–
cargo update
```
</UniversalEditor>

---

## ğŸ“š æ¨¡å—ç»„ç»‡æœ€ä½³å®è·µ

### åˆ›å»ºæ¨¡å—å±‚æ¬¡ç»“æ„

<UniversalEditor title="æ¨¡å—å±‚æ¬¡ç»“æ„" compare={true} canRun={false}>
```rust !! rs
// src/lib.rs - ä¸»åº“æ–‡ä»¶
pub mod math;           // æ•°å­¦æ¨¡å—
pub mod utils;          // å·¥å…·æ¨¡å—
pub mod components;     // ç»„ä»¶æ¨¡å—

// é‡æ–°å¯¼å‡ºå¸¸ç”¨åŠŸèƒ½
pub use math::{add, multiply};
pub use utils::format_number;
pub use components::calculator::Calculator;

// src/math.rs - æ•°å­¦æ¨¡å—
pub mod basic;      // åŸºç¡€æ•°å­¦
pub mod advanced;   // é«˜çº§æ•°å­¦

pub use basic::{add, subtract};
pub use advanced::{multiply, divide};

// src/math/basic.rs
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

pub fn subtract(a: i32, b: i32) -> i32 {
    a - b
}

// src/math/advanced.rs
pub fn multiply(a: i32, b: i32) -> i32 {
    a * b
}

pub fn divide(a: i32, b: i32) -> Result<i32, String> {
    if b == 0 {
        Err("é™¤æ•°ä¸èƒ½ä¸ºé›¶".to_string())
    } else {
        Ok(a / b)
    }
}

// src/components/mod.rs - ç»„ä»¶æ¨¡å—å£°æ˜
pub mod calculator;
pub mod formatter;

// src/components/calculator.rs
pub struct Calculator {
    result: f64,
}

impl Calculator {
    pub fn new() -> Self {
        Calculator { result: 0.0 }
    }
    
    pub fn add(&mut self, x: f64) -> &mut Self {
        self.result += x;
        self
    }
    
    pub fn get_result(&self) -> f64 {
        self.result
    }
}

// main.rs - ä½¿ç”¨æ¨¡å—
use langshift_project::{add, multiply, Calculator, format_number};

fn main() {
    println!("5 + 3 = {}", add(5, 3));
    println!("4 * 2 = {}", multiply(4, 2));
    
    let mut calc = Calculator::new();
    calc.add(10.5).add(5.5);
    println!("è®¡ç®—ç»“æœ: {}", calc.get_result());
    
    println!("æ ¼å¼åŒ–: {}", format_number(3.14159));
}
```
</UniversalEditor>

---

## ğŸ¯ ç»ƒä¹ é¢˜

### ç»ƒä¹  1: åˆ›å»ºæ¨¡å—ç»“æ„

åˆ›å»ºä¸€ä¸ª Rust é¡¹ç›®ï¼ŒåŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š
- `math`: åŸºç¡€æ•°å­¦è¿ç®—
- `utils`: å·¥å…·å‡½æ•°
- `models`: æ•°æ®æ¨¡å‹

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

```rust
// src/lib.rs
pub mod math;
pub mod utils;
pub mod models;

// src/math.rs
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

pub fn multiply(a: i32, b: i32) -> i32 {
    a * b
}

// src/utils.rs
pub fn format_string(s: &str) -> String {
    format!("[{}]", s)
}

// src/models.rs
#[derive(Debug)]
pub struct User {
    pub name: String,
    pub age: u32,
}

impl User {
    pub fn new(name: String, age: u32) -> Self {
        User { name, age }
    }
}
```

</details>

### ç»ƒä¹  2: é…ç½® Cargo.toml

ä¸ºé¡¹ç›®æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š
- `serde` ç”¨äºåºåˆ—åŒ–
- `tokio` ç”¨äºå¼‚æ­¥ç¼–ç¨‹
- `reqwest` ç”¨äº HTTP è¯·æ±‚

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

```toml
[package]
name = "my-project"
version = "0.1.0"
edition = "2021"

[dependencies]
serde = { version = "1.0", features = ["derive"] }
tokio = { version = "1.0", features = ["full"] }
reqwest = { version = "0.11", features = ["json"] }
```

</details>

### ç»ƒä¹  3: æ¨¡å—å¯¼å…¥å¯¼å‡º

åˆ›å»ºä¸€ä¸ªæ¨¡å—ï¼Œå¯¼å‡ºå¤šä¸ªå‡½æ•°ï¼Œå¹¶åœ¨ main.rs ä¸­ä½¿ç”¨ï¼š

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

```rust
// src/calculator.rs
pub fn add(a: f64, b: f64) -> f64 {
    a + b
}

pub fn subtract(a: f64, b: f64) -> f64 {
    a - b
}

pub fn multiply(a: f64, b: f64) -> f64 {
    a * b
}

// src/lib.rs
pub mod calculator;

// main.rs
use my_project::calculator::{add, subtract, multiply};

fn main() {
    println!("5.5 + 3.2 = {}", add(5.5, 3.2));
    println!("10.0 - 4.5 = {}", subtract(10.0, 4.5));
    println!("6.0 * 2.5 = {}", multiply(6.0, 2.5));
}
```

</details>

---

## ğŸ“ æ€»ç»“

åœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ï¼š

1. **æ¨¡å—ç³»ç»Ÿ**: Rust ä½¿ç”¨ `mod` å’Œ `use` ç®¡ç†æ¨¡å—ï¼Œæ¯” JavaScript æ›´ä¸¥æ ¼
2. **åŒ…ç®¡ç†**: Cargo æ˜¯ Rust çš„åŒ…ç®¡ç†å·¥å…·ï¼ŒåŠŸèƒ½æ¯” npm æ›´é›†æˆ
3. **é¡¹ç›®ç»“æ„**: Rust é¡¹ç›®æœ‰æ ‡å‡†çš„ç›®å½•ç»“æ„
4. **ä¾èµ–ç®¡ç†**: Cargo.toml é…ç½®æ–‡ä»¶ç®¡ç†é¡¹ç›®ä¾èµ–
5. **æ„å»ºå·¥å…·**: Cargo é›†æˆäº†æ„å»ºã€æµ‹è¯•ã€æ–‡æ¡£ç­‰åŠŸèƒ½

### å…³é”®è¦ç‚¹

- Rust çš„æ¨¡å—ç³»ç»Ÿæ›´æ³¨é‡å¯è§æ€§å’Œç»„ç»‡æ€§
- Cargo æ˜¯ Rust ç”Ÿæ€ç³»ç»Ÿçš„æ ¸å¿ƒå·¥å…·
- é¡¹ç›®ç»“æ„éµå¾ª Rust çº¦å®š
- ä¾èµ–ç®¡ç†æ›´ä¸¥æ ¼ï¼Œé¿å…ç‰ˆæœ¬å†²çª

### ä¸‹ä¸€æ­¥å­¦ä¹ 

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Rust çš„æ‰€æœ‰æƒç³»ç»Ÿï¼Œè¿™æ˜¯ Rust æœ€æ ¸å¿ƒçš„æ¦‚å¿µï¼Œä¹Ÿæ˜¯ä¸ JavaScript æœ€å¤§çš„å·®å¼‚æ‰€åœ¨ã€‚

---

**ç»§ç»­å­¦ä¹ **: [æ‰€æœ‰æƒä¸å†…å­˜æ¨¡å‹](./module-03-ownership-memory) 