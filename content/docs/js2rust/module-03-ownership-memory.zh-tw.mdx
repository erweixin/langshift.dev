---
title: "æ‰€æœ‰æ¬Šèˆ‡è¨˜æ†¶é«”æ¨¡å‹"
description: "æ·±å…¥å­¸ç¿’ Rust çš„æ‰€æœ‰æ¬Šç³»çµ±ã€å€Ÿç”¨è¦å‰‡å’Œè¨˜æ†¶é«”ç®¡ç†ï¼Œç†è§£èˆ‡ JavaScript åƒåœ¾å›æ”¶çš„å·®ç•°"
---

# æ‰€æœ‰æ¬Šèˆ‡è¨˜æ†¶é«”æ¨¡å‹

## ğŸ“– å­¸ç¿’ç›®æ¨™

ç†è§£ Rust çš„æ‰€æœ‰æ¬Šç³»çµ±ï¼Œé€™æ˜¯ Rust æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚æˆ‘å€‘å°‡å¾ JavaScript çš„è¨˜æ†¶é«”ç®¡ç†å‡ºç™¼ï¼Œé€æ­¥ç†è§£ Rust å¦‚ä½•é€éç·¨è­¯æ™‚æª¢æŸ¥ç¢ºä¿è¨˜æ†¶é«”å®‰å…¨ã€‚

---

## ğŸ¯ è¨˜æ†¶é«”ç®¡ç†å°æ¯”

### JavaScript çš„åƒåœ¾å›æ”¶

JavaScript ä½¿ç”¨è‡ªå‹•åƒåœ¾å›æ”¶æ©Ÿåˆ¶ï¼š

<UniversalEditor title="JavaScript è¨˜æ†¶é«”ç®¡ç†" compare={true}>
```javascript !! js
// JavaScript è¨˜æ†¶é«”ç®¡ç†ç¯„ä¾‹
function createUser() {
    let user = {
        name: "Alice",
        age: 25,
        preferences: {
            theme: "dark",
            language: "zh-TW"
        }
    };
    
    // å»ºç«‹å° user çš„å¼•ç”¨
    let userRef = user;
    
    // ä¿®æ”¹ user ç‰©ä»¶
    user.age = 26;
    console.log(userRef.age); // 26 - å¼•ç”¨æŒ‡å‘åŒä¸€å€‹ç‰©ä»¶
    
    // å»ºç«‹æ–°ç‰©ä»¶ï¼ŒuserRef æŒ‡å‘æ–°ç‰©ä»¶
    userRef = {
        name: "Bob",
        age: 30
    };
    
    // åŸä¾†çš„ user ç‰©ä»¶ä»ç„¶å­˜åœ¨
    console.log(user.name); // "Alice"
    console.log(userRef.name); // "Bob"
    
    // ç•¶å‡½æ•¸çµæŸæ™‚ï¼Œå¦‚æœæ²’æœ‰å¼•ç”¨æŒ‡å‘ç‰©ä»¶ï¼Œåƒåœ¾å›æ”¶å™¨æœƒæ¸…ç†è¨˜æ†¶é«”
}

createUser();

// é™£åˆ—å’Œç‰©ä»¶çš„å¼•ç”¨å‚³é
let numbers = [1, 2, 3];
let numbersCopy = numbers; // è¤‡è£½å¼•ç”¨ï¼Œä¸æ˜¯è³‡æ–™

numbersCopy.push(4);
console.log(numbers); // [1, 2, 3, 4] - åŒä¸€å€‹é™£åˆ—
console.log(numbersCopy); // [1, 2, 3, 4] - åŒä¸€å€‹é™£åˆ—

// æ·±å±¤è¤‡è£½
let deepCopy = JSON.parse(JSON.stringify(numbers));
deepCopy.push(5);
console.log(numbers); // [1, 2, 3, 4] - åŸé™£åˆ—ä¸è®Š
console.log(deepCopy); // [1, 2, 3, 4, 5] - æ–°é™£åˆ—
```
</UniversalEditor>

### Rust çš„æ‰€æœ‰æ¬Šç³»çµ±

Rust ä½¿ç”¨æ‰€æœ‰æ¬Šç³»çµ±åœ¨ç·¨è­¯æ™‚ç®¡ç†è¨˜æ†¶é«”ï¼š

<UniversalEditor title="Rust æ‰€æœ‰æ¬Šç³»çµ±" compare={true}>
```rust !! rs
// Rust æ‰€æœ‰æ¬Šç³»çµ±ç¯„ä¾‹
fn create_user() {
    let user = User {
        name: String::from("Alice"),
        age: 25,
        preferences: Preferences {
            theme: String::from("dark"),
            language: String::from("zh-TW"),
        },
    };
    
    // æ‰€æœ‰æ¬Šè½‰ç§»ï¼šuser çš„æ‰€æœ‰æ¬Šç§»å‹•åˆ° user_ref
    let user_ref = user;
    
    // é€™è¡Œç¨‹å¼ç¢¼æœƒç·¨è­¯éŒ¯èª¤ï¼user å·²ç¶“è¢«ç§»å‹•
    // println!("{}", user.name); // éŒ¯èª¤ï¼šuse of moved value
    
    // å¯ä»¥ä¿®æ”¹ user_ref
    let mut user_ref = user_ref;
    user_ref.age = 26;
    println!("{}", user_ref.age); // 26
    
    // å»ºç«‹æ–°çš„ User
    let new_user = User {
        name: String::from("Bob"),
        age: 30,
        preferences: Preferences {
            theme: String::from("light"),
            language: String::from("en-US"),
        },
    };
    
    // user_ref æŒ‡å‘æ–°ç‰©ä»¶
    let user_ref = new_user;
    println!("{}", user_ref.name); // "Bob"
}

// å®šç¾©çµæ§‹é«”
struct User {
    name: String,
    age: u32,
    preferences: Preferences,
}

struct Preferences {
    theme: String,
    language: String,
}

// å‘é‡ï¼ˆé¡ä¼¼ JavaScript é™£åˆ—ï¼‰çš„æ‰€æœ‰æ¬Š
fn vector_ownership() {
    let mut numbers = vec![1, 2, 3];
    let numbers_ref = &mut numbers; // å¯è®Šå€Ÿç”¨
    
    numbers_ref.push(4);
    println!("{:?}", numbers); // [1, 2, 3, 4]
    
    // å»ºç«‹æ·±å±¤è¤‡è£½
    let deep_copy = numbers.clone();
    println!("{:?}", deep_copy); // [1, 2, 3, 4]
    
    // ä¿®æ”¹åŸé™£åˆ—
    numbers.push(5);
    println!("{:?}", numbers); // [1, 2, 3, 4, 5]
    println!("{:?}", deep_copy); // [1, 2, 3, 4] - æ·±å±¤è¤‡è£½ä¸è®Š
}

fn main() {
    create_user();
    vector_ownership();
}
```
</UniversalEditor>

### è¨˜æ†¶é«”ç®¡ç†å·®ç•°

1. **è‡ªå‹• vs æ‰‹å‹•**: JavaScript è‡ªå‹•åƒåœ¾å›æ”¶ï¼ŒRust ç·¨è­¯æ™‚æª¢æŸ¥
2. **å¼•ç”¨èªç¾©**: JavaScript ç‰©ä»¶é€éå¼•ç”¨å‚³éï¼ŒRust é€éæ‰€æœ‰æ¬Šè½‰ç§»
3. **è¨˜æ†¶é«”å®‰å…¨**: JavaScript åŸ·è¡Œæ™‚æª¢æŸ¥ï¼ŒRust ç·¨è­¯æ™‚ä¿è­‰
4. **æ•ˆèƒ½**: JavaScript æœ‰åƒåœ¾å›æ”¶é–‹éŠ·ï¼ŒRust é›¶æˆæœ¬æŠ½è±¡

---

## ğŸ”„ æ‰€æœ‰æ¬Šè¦å‰‡

### Rust çš„æ‰€æœ‰æ¬Šè¦å‰‡

Rust æœ‰ä¸‰å€‹æ ¸å¿ƒæ‰€æœ‰æ¬Šè¦å‰‡ï¼š

<UniversalEditor title="æ‰€æœ‰æ¬Šè¦å‰‡" compare={true}>
```rust !! rs
// è¦å‰‡ 1: æ¯å€‹å€¼éƒ½æœ‰ä¸€å€‹æ‰€æœ‰è€…ã€‚
// Rust ä¸­çš„è³‡æ–™åˆ†ç‚ºå…©ç¨®ï¼š
// 1. æ“æœ‰æ‰€æœ‰æ¬Šçš„è³‡æ–™ (å¦‚ String, Vec): é è¨­è¡Œç‚ºæ˜¯ã€Œç§»å‹•ã€ (move)ã€‚ç•¶æ‰€æœ‰æ¬Šè½‰ç§»å¾Œï¼ŒåŸè®Šæ•¸å¤±æ•ˆã€‚
// 2. å¯¦ç¾äº† Copy Trait çš„è³‡æ–™ (å¦‚æ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—å€¼ã€å­—å…ƒã€å›ºå®šå¤§å°é™£åˆ—): é è¨­è¡Œç‚ºæ˜¯ã€Œè¤‡è£½ã€ (copy)ã€‚è¤‡è£½å¾Œï¼ŒåŸè®Šæ•¸ä»ç„¶æœ‰æ•ˆã€‚
fn rule_one() {
    // String é¡å‹ï¼šé è¨­è¡Œç‚ºæ˜¯ç§»å‹•
    let s1 = String::from("hello"); // s1 æ˜¯æ‰€æœ‰è€…
    let s2 = s1; // æ‰€æœ‰æ¬Šå¾ s1 ç§»å‹•åˆ° s2
    // println!("{}", s1); // éŒ¯èª¤ï¼šs1 å·²ç¶“è¢«ç§»å‹•ï¼Œä¸èƒ½å†ä½¿ç”¨
    println!("{}", s2); // æ­£ç¢ºï¼šs2 ç¾åœ¨æ˜¯æ‰€æœ‰è€…

    // i32 é¡å‹ï¼šå¯¦ç¾äº† Copy Traitï¼Œé è¨­è¡Œç‚ºæ˜¯è¤‡è£½
    let x = 5; // x æ˜¯æ‰€æœ‰è€…
    let y = x; // x çš„å€¼è¢«è¤‡è£½çµ¦ yï¼Œx ä»ç„¶æœ‰æ•ˆ
    println!("x = {}, y = {}", x, y); // æ­£ç¢ºï¼šx å’Œ y éƒ½å¯ä»¥ä½¿ç”¨
}

// è¦å‰‡ 2: åŒä¸€æ™‚é–“åªèƒ½æœ‰ä¸€å€‹æ‰€æœ‰è€…
fn rule_two() {
    let s1 = String::from("hello");
    let s2 = s1; // s1 çš„æ‰€æœ‰æ¬Šç§»å‹•åˆ° s2
    // let s3 = s1; // éŒ¯èª¤ï¼šs1 å·²ç¶“è¢«ç§»å‹•
    let s3 = s2; // æ­£ç¢ºï¼šs2 çš„æ‰€æœ‰æ¬Šç§»å‹•åˆ° s3
}

// è¦å‰‡ 3: ç•¶æ‰€æœ‰è€…é›¢é–‹ä½œç”¨åŸŸæ™‚ï¼Œå€¼è¢«ä¸Ÿæ£„
fn rule_three() {
    {
        let s = String::from("hello"); // s é€²å…¥ä½œç”¨åŸŸ
        // ä½¿ç”¨ s
        println!("{}", s);
    } // s é›¢é–‹ä½œç”¨åŸŸï¼Œè¨˜æ†¶é«”è¢«é‡‹æ”¾
    // println!("{}", s); // éŒ¯èª¤ï¼šs å·²ç¶“è¢«é‡‹æ”¾
}

// å‡½æ•¸ä¸­çš„æ‰€æœ‰æ¬Š
fn take_ownership(some_string: String) {
    println!("{}", some_string);
} // some_string é›¢é–‹ä½œç”¨åŸŸï¼Œè¨˜æ†¶é«”è¢«é‡‹æ”¾

fn make_copy(some_integer: i32) {
    println!("{}", some_integer);
} // some_integer é›¢é–‹ä½œç”¨åŸŸï¼Œä½† i32 æ˜¯ Copy é¡å‹ï¼Œä¸éœ€è¦é‡‹æ”¾

fn main() {
    rule_one();
    rule_two();
    rule_three();
    
    let s = String::from("hello");
    take_ownership(s); // s çš„æ‰€æœ‰æ¬Šç§»å‹•åˆ°å‡½æ•¸ä¸­
    // println!("{}", s); // éŒ¯èª¤ï¼šs å·²ç¶“è¢«ç§»å‹•
    
    let x = 5;
    make_copy(x); // x è¢«è¤‡è£½åˆ°å‡½æ•¸ä¸­
    println!("{}", x); // æ­£ç¢ºï¼šx ä»ç„¶æœ‰æ•ˆ
}
```
</UniversalEditor>

---

## ğŸ”— å€Ÿç”¨èˆ‡å¼•ç”¨

### ä¸å¯è®Šå€Ÿç”¨

<UniversalEditor title="ä¸å¯è®Šå€Ÿç”¨" compare={true}>
```rust !! rs
// ä¸å¯è®Šå€Ÿç”¨ï¼ˆé¡ä¼¼ JavaScript çš„åªè®€å¼•ç”¨ï¼‰
fn calculate_length(s: &String) -> usize {
    s.len() // è¿”å›å­—ä¸²é•·åº¦
} // s é›¢é–‹ä½œç”¨åŸŸï¼Œä½†å› ç‚ºå®ƒåªæ˜¯å€Ÿç”¨ï¼Œä¸æœƒé‡‹æ”¾è¨˜æ†¶é«”

fn main() {
    let s1 = String::from("hello");
    let len = calculate_length(&s1); // å‚³é s1 çš„å¼•ç”¨
    println!("'{}' çš„é•·åº¦æ˜¯ {}", s1, len); // s1 ä»ç„¶æœ‰æ•ˆ
    
    // å¤šå€‹ä¸å¯è®Šå€Ÿç”¨
    let s = String::from("hello");
    let r1 = &s; // ä¸å¯è®Šå€Ÿç”¨
    let r2 = &s; // å¦ä¸€å€‹ä¸å¯è®Šå€Ÿç”¨
    let r3 = &s; // ç¬¬ä¸‰å€‹ä¸å¯è®Šå€Ÿç”¨
    
    println!("{}, {}, {}", r1, r2, r3); // å¯ä»¥åŒæ™‚ä½¿ç”¨å¤šå€‹ä¸å¯è®Šå€Ÿç”¨
}
```
</UniversalEditor>

### å¯è®Šå€Ÿç”¨

<UniversalEditor title="å¯è®Šå€Ÿç”¨" compare={true}>
```rust !! rs
// å¯è®Šå€Ÿç”¨ï¼ˆé¡ä¼¼ JavaScript çš„å¯å¯«å¼•ç”¨ï¼‰
fn change(some_string: &mut String) {
    some_string.push_str(", world");
}

fn main() {
    let mut s = String::from("hello");
    change(&mut s); // å‚³éå¯è®Šå¼•ç”¨
    println!("{}", s); // "hello, world"
    
    // å¯è®Šå€Ÿç”¨çš„é™åˆ¶
    let mut s = String::from("hello");
    
    let r1 = &mut s; // ç¬¬ä¸€å€‹å¯è®Šå€Ÿç”¨
    // let r2 = &mut s; // éŒ¯èª¤ï¼šä¸èƒ½åŒæ™‚æœ‰å¤šå€‹å¯è®Šå€Ÿç”¨
    // let r3 = &s; // éŒ¯èª¤ï¼šä¸èƒ½åŒæ™‚æœ‰å¯è®Šå’Œä¸å¯è®Šå€Ÿç”¨
    
    println!("{}", r1); // ä½¿ç”¨ r1
    // r1 åœ¨é€™è£¡é›¢é–‹ä½œç”¨åŸŸ
    
    let r2 = &mut s; // ç¾åœ¨å¯ä»¥å»ºç«‹ç¬¬äºŒå€‹å¯è®Šå€Ÿç”¨
    let r3 = &s; // ä¹Ÿå¯ä»¥å»ºç«‹ä¸å¯è®Šå€Ÿç”¨
    println!("{}, {}", r2, r3);
}
```
</UniversalEditor>

### å€Ÿç”¨è¦å‰‡

<UniversalEditor title="å€Ÿç”¨è¦å‰‡" compare={true}>
```rust !! rs
// å€Ÿç”¨è¦å‰‡ç¸½çµ
fn borrowing_rules() {
    let mut data = vec![1, 2, 3, 4, 5];
    
    // è¦å‰‡ 1: åŒä¸€æ™‚é–“åªèƒ½æœ‰ä¸€å€‹å¯è®Šå¼•ç”¨æˆ–å¤šå€‹ä¸å¯è®Šå¼•ç”¨
    let ref1 = &data; // ä¸å¯è®Šå¼•ç”¨
    let ref2 = &data; // å¦ä¸€å€‹ä¸å¯è®Šå¼•ç”¨
    // let ref3 = &mut data; // éŒ¯èª¤ï¼šä¸èƒ½åŒæ™‚æœ‰å¯è®Šå’Œä¸å¯è®Šå¼•ç”¨
    
    println!("{:?}, {:?}", ref1, ref2); // ä½¿ç”¨ä¸å¯è®Šå¼•ç”¨
    
    // ä¸å¯è®Šå¼•ç”¨é›¢é–‹ä½œç”¨åŸŸå¾Œï¼Œå¯ä»¥å»ºç«‹å¯è®Šå¼•ç”¨
    let ref3 = &mut data; // ç¾åœ¨å¯ä»¥å»ºç«‹å¯è®Šå¼•ç”¨
    ref3.push(6);
    println!("{:?}", ref3);
    
    // è¦å‰‡ 2: å¼•ç”¨å¿…é ˆç¸½æ˜¯æœ‰æ•ˆçš„ï¼ˆä¸èƒ½æœ‰æ‡¸å‚å¼•ç”¨ï¼‰
    // é€™å€‹è¦å‰‡åœ¨ Rust ä¸­é€éç”Ÿå‘½é€±æœŸç³»çµ±è‡ªå‹•è™•ç†
}

// æ‡¸å‚å¼•ç”¨çš„ä¾‹å­ï¼ˆé€™æœƒå°è‡´ç·¨è­¯éŒ¯èª¤ï¼‰
/*
fn dangle() -> &String {
    let s = String::from("hello");
    &s // éŒ¯èª¤ï¼šè¿”å›å°å±€éƒ¨è®Šæ•¸çš„å¼•ç”¨
} // s é›¢é–‹ä½œç”¨åŸŸï¼Œè¨˜æ†¶é«”è¢«é‡‹æ”¾ï¼Œä½†è¿”å›äº†å°å®ƒçš„å¼•ç”¨
*/

// æ­£ç¢ºçš„åšæ³•
fn no_dangle() -> String {
    let s = String::from("hello");
    s // è¿”å›æ‰€æœ‰æ¬Šï¼Œè€Œä¸æ˜¯å¼•ç”¨
}

fn main() {
    borrowing_rules();
    
    let s = no_dangle();
    println!("{}", s);
}
```
</UniversalEditor>

---

## ğŸ“ ç”Ÿå‘½é€±æœŸ

### ç”Ÿå‘½é€±æœŸè¨»è§£

<UniversalEditor title="ç”Ÿå‘½é€±æœŸ" compare={true}>
```rust !! rs
// ç”Ÿå‘½é€±æœŸè¨»è§£
fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}

fn main() {
    let string1 = String::from("abcd");
    let string2 = "xyz";
    
    let result = longest(string1.as_str(), string2);
    println!("æœ€é•·çš„å­—ä¸²æ˜¯ {}", result);
    
    // ç”Ÿå‘½é€±æœŸè¨»è§£ç¢ºä¿è¿”å›çš„å¼•ç”¨åœ¨åƒæ•¸çš„ç”Ÿå‘½é€±æœŸå…§æœ‰æ•ˆ
}

// çµæ§‹é«”ä¸­çš„ç”Ÿå‘½é€±æœŸ
struct ImportantExcerpt<'a> {
    part: &'a str,
}

fn main() {
    let novel = String::from("Call me Ishmael. Some years ago...");
    let first_sentence = novel.split('.').next().unwrap();
    let i = ImportantExcerpt {
        part: first_sentence,
    };
    
    println!("{}", i.part);
}

// ç”Ÿå‘½é€±æœŸçœç•¥è¦å‰‡
fn first_word(s: &str) -> &str {
    let bytes = s.as_bytes();
    
    for (i, &item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &s[0..i];
        }
    }
    
    &s[..]
}

// ä¸Šé¢çš„å‡½æ•¸ç­‰åŒæ–¼ï¼š
fn first_word_explicit<'a>(s: &'a str) -> &'a str {
    // å‡½æ•¸é«”ç›¸åŒ
    s
}
```
</UniversalEditor>

---

## ğŸ¯ æ‰€æœ‰æ¬Šèˆ‡ JavaScript å°æ¯”

### è³‡æ–™å‚³éå°æ¯”

<UniversalEditor title="è³‡æ–™å‚³éå°æ¯”" compare={true}>
```javascript !! js
// JavaScript ä¸­çš„ç‰©ä»¶å‚³é
function modifyUser(user) {
    user.age += 1; // ç›´æ¥ä¿®æ”¹åŸç‰©ä»¶
    return user;
}

let user = { name: "Alice", age: 25 };
let modifiedUser = modifyUser(user);

console.log(user.age); // 26 - åŸç‰©ä»¶è¢«ä¿®æ”¹
console.log(modifiedUser.age); // 26 - åŒä¸€å€‹ç‰©ä»¶
console.log(user === modifiedUser); // true - åŒä¸€å€‹å¼•ç”¨

// é™£åˆ—å‚³é
function addToArray(arr) {
    arr.push("new item");
    return arr;
}

let numbers = [1, 2, 3];
let newNumbers = addToArray(numbers);

console.log(numbers); // [1, 2, 3, "new item"]
console.log(newNumbers); // [1, 2, 3, "new item"]
console.log(numbers === newNumbers); // true
```

```rust !! rs
// Rust ä¸­çš„æ‰€æœ‰æ¬Šè½‰ç§»
fn modify_user(mut user: User) -> User {
    user.age += 1; // ä¿®æ”¹çµæ§‹é«”
    user
}

fn main() {
    let user = User {
        name: String::from("Alice"),
        age: 25,
    };
    
    let modified_user = modify_user(user);
    // println!("{}", user.age); // éŒ¯èª¤ï¼šuser å·²ç¶“è¢«ç§»å‹•
    
    println!("{}", modified_user.age); // 26
}

// ä½¿ç”¨å¼•ç”¨é¿å…æ‰€æœ‰æ¬Šè½‰ç§»
fn modify_user_ref(user: &mut User) {
    user.age += 1; // é€éå¼•ç”¨ä¿®æ”¹
}

fn main() {
    let mut user = User {
        name: String::from("Alice"),
        age: 25,
    };
    
    modify_user_ref(&mut user);
    println!("{}", user.age); // 26 - user ä»ç„¶æœ‰æ•ˆ
}

// å‘é‡å‚³é
fn add_to_vector(mut vec: Vec<i32>) -> Vec<i32> {
    vec.push(4);
    vec
}

fn main() {
    let numbers = vec![1, 2, 3];
    let new_numbers = add_to_vector(numbers);
    // println!("{:?}", numbers); // éŒ¯èª¤ï¼šnumbers å·²ç¶“è¢«ç§»å‹•
    println!("{:?}", new_numbers); // [1, 2, 3, 4]
}

// ä½¿ç”¨å¼•ç”¨
fn add_to_vector_ref(vec: &mut Vec<i32>) {
    vec.push(4);
}

fn main() {
    let mut numbers = vec![1, 2, 3];
    add_to_vector_ref(&mut numbers);
    println!("{:?}", numbers); // [1, 2, 3, 4]
}
```
</UniversalEditor>

---

## ğŸ¯ ç·´ç¿’é¡Œ

### ç·´ç¿’ 1: æ‰€æœ‰æ¬Šè½‰ç§»

åˆ†æä»¥ä¸‹ç¨‹å¼ç¢¼ï¼ŒæŒ‡å‡ºå“ªäº›åœ°æ–¹æœƒç™¼ç”Ÿæ‰€æœ‰æ¬Šè½‰ç§»ï¼š

```rust
fn main() {
    let s1 = String::from("hello");
    let s2 = s1;
    let s3 = s2.clone();
    
    println!("s2: {}", s2);
    println!("s3: {}", s3);
}
```

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

1. `let s2 = s1;` - s1 çš„æ‰€æœ‰æ¬Šç§»å‹•åˆ° s2
2. `let s3 = s2.clone();` - s2 è¢«è¤‡è£½ï¼Œs3 ç²å¾—æ–°è³‡æ–™çš„æ‰€æœ‰æ¬Š
3. s2 ä»ç„¶æœ‰æ•ˆï¼Œå› ç‚º clone å»ºç«‹äº†æ–°çš„è³‡æ–™

</details>

### ç·´ç¿’ 2: å€Ÿç”¨è¦å‰‡

ä¿®å¾©ä»¥ä¸‹ç¨‹å¼ç¢¼ä¸­çš„å€Ÿç”¨éŒ¯èª¤ï¼š

```rust
fn main() {
    let mut data = vec![1, 2, 3];
    let ref1 = &data;
    let ref2 = &mut data;
    println!("{:?}, {:?}", ref1, ref2);
}
```

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

```rust
fn main() {
    let mut data = vec![1, 2, 3];
    let ref1 = &data;
    let ref2 = &data; // æ”¹ç‚ºä¸å¯è®Šå¼•ç”¨
    println!("{:?}, {:?}", ref1, ref2);
    
    // æˆ–è€…å…ˆä½¿ç”¨ä¸å¯è®Šå¼•ç”¨ï¼Œå†ä½¿ç”¨å¯è®Šå¼•ç”¨
    let mut data = vec![1, 2, 3];
    let ref1 = &data;
    println!("{:?}", ref1);
    let ref2 = &mut data; // ç¾åœ¨å¯ä»¥ä½¿ç”¨å¯è®Šå¼•ç”¨
    ref2.push(4);
    println!("{:?}", ref2);
}
```

</details>

### ç·´ç¿’ 3: ç”Ÿå‘½é€±æœŸ

ç‚ºä»¥ä¸‹å‡½æ•¸æ·»åŠ æ­£ç¢ºçš„ç”Ÿå‘½é€±æœŸè¨»è§£ï¼š

```rust
fn longest(x: &str, y: &str) -> &str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

<details>
<summary>æŸ¥çœ‹ç­”æ¡ˆ</summary>

```rust
fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

</details>

---

## ğŸ“ ç¸½çµ

åœ¨é€™ä¸€ç« ä¸­ï¼Œæˆ‘å€‘æ·±å…¥å­¸ç¿’äº† Rust çš„æ‰€æœ‰æ¬Šç³»çµ±ï¼š

1. **æ‰€æœ‰æ¬Šè¦å‰‡**: æ¯å€‹å€¼åªæœ‰ä¸€å€‹æ‰€æœ‰è€…ï¼Œæ‰€æœ‰è€…é›¢é–‹ä½œç”¨åŸŸæ™‚å€¼è¢«ä¸Ÿæ£„
2. **å€Ÿç”¨ç³»çµ±**: é€éå¼•ç”¨å€Ÿç”¨è³‡æ–™ï¼Œé¿å…æ‰€æœ‰æ¬Šè½‰ç§»
3. **å€Ÿç”¨è¦å‰‡**: åŒä¸€æ™‚é–“åªèƒ½æœ‰ä¸€å€‹å¯è®Šå¼•ç”¨æˆ–å¤šå€‹ä¸å¯è®Šå¼•ç”¨
4. **ç”Ÿå‘½é€±æœŸ**: ç¢ºä¿å¼•ç”¨åœ¨æœ‰æ•ˆæœŸå…§ä½¿ç”¨
5. **èˆ‡ JavaScript å°æ¯”**: Rust ç·¨è­¯æ™‚æª¢æŸ¥ vs JavaScript åŸ·è¡Œæ™‚åƒåœ¾å›æ”¶

### é—œéµè¦é»

- æ‰€æœ‰æ¬Šç³»çµ±æ˜¯ Rust è¨˜æ†¶é«”å®‰å…¨çš„æ ¸å¿ƒ
- å€Ÿç”¨ç³»çµ±å…è¨±åœ¨ä¸è½‰ç§»æ‰€æœ‰æ¬Šçš„æƒ…æ³ä¸‹ä½¿ç”¨è³‡æ–™
- ç”Ÿå‘½é€±æœŸç³»çµ±ç¢ºä¿å¼•ç”¨å§‹çµ‚æœ‰æ•ˆ
- é€™äº›æ¦‚å¿µåœ¨ç·¨è­¯æ™‚æª¢æŸ¥ï¼ŒåŸ·è¡Œæ™‚é›¶é–‹éŠ·

### å¸¸è¦‹é™·é˜±

1. **ç§»å‹•å¾Œä½¿ç”¨**: å€¼è¢«ç§»å‹•å¾Œä¸èƒ½å†ä½¿ç”¨
2. **åŒæ™‚å€Ÿç”¨**: ä¸èƒ½åŒæ™‚æœ‰å¯è®Šå’Œä¸å¯è®Šå€Ÿç”¨
3. **æ‡¸å‚å¼•ç”¨**: è¿”å›å°å±€éƒ¨è®Šæ•¸çš„å¼•ç”¨
4. **ç”Ÿå‘½é€±æœŸä¸åŒ¹é…**: å¼•ç”¨ç”Ÿå‘½é€±æœŸä¸åŒ¹é…

### ä¸‹ä¸€æ­¥å­¸ç¿’

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’ Rust çš„ä¸¦ç™¼å’Œç•°æ­¥ç¨‹å¼è¨­è¨ˆæ¨¡å‹ï¼Œäº†è§£å¦‚ä½•å®‰å…¨åœ°è™•ç†å¤šåŸ·è¡Œç·’å’Œç•°æ­¥æ“ä½œã€‚

---

**ç¹¼çºŒå­¸ç¿’**: [ä¸¦ç™¼èˆ‡ç•°æ­¥æ¨¡å‹](./module-04-concurrency-async.zh-tw.mdx)