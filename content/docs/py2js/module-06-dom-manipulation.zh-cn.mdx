---
title: DOM æ“ä½œä¸äº‹ä»¶å¤„ç†
description: é€šè¿‡æŒæ¡ DOM æ“ä½œå’Œäº‹ä»¶å¤„ç†æ¥åˆ›å»ºåŠ¨æ€ã€äº¤äº’å¼ç”¨æˆ·ç•Œé¢ï¼Œä»åç«¯é€»è¾‘è½¬å‘å‰ç«¯ç”¨æˆ·äº¤äº’ã€‚
---

# DOM æ“ä½œä¸äº‹ä»¶å¤„ç†

ä½œä¸º Python å¼€å‘è€…ï¼Œä½ ä¹ æƒ¯äºå¤„ç†æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰æˆä¸ºä½ åˆ›å»ºäº¤äº’å¼ç”¨æˆ·ç•Œé¢çš„ä¸»è¦æ•°æ®ç»“æ„ã€‚æœ¬æ¨¡å—æ•™ä½ å¦‚ä½•æœ‰æ•ˆåœ°æ“ä½œ DOM å’Œå¤„ç†ç”¨æˆ·äº‹ä»¶ã€‚

## ç†è§£ DOM

### ä» Python æ•°æ®ç»“æ„åˆ° DOM

<PythonEditor title="æ•°æ®ç»“æ„æ“ä½œå¯¹æ¯”" compare={true}>
```python !! py
# Pythonï¼šå¤„ç†æ•°æ®ç»“æ„ï¼ˆåˆ—è¡¨ã€å­—å…¸ï¼‰
import json
from datetime import datetime

class TaskManager:
    """
    Python æ–¹å¼ï¼šå¤„ç†åŸç”Ÿæ•°æ®ç»“æ„
    - ç›´æ¥æ“ä½œåˆ—è¡¨å’Œå­—å…¸
    - é»˜è®¤æ— è§†è§‰è¡¨ç¤º
    - ä¸“æ³¨äºæ•°æ®é€»è¾‘å’Œç®—æ³•
    """
    
    def __init__(self):
        self.tasks = []
        self.categories = {}
    
    def add_task(self, title, description, category="general"):
        """å‘æ•°æ®ç»“æ„æ·»åŠ æ–°ä»»åŠ¡"""
        task = {
            "id": len(self.tasks) + 1,
            "title": title,
            "description": description,
            "category": category,
            "completed": False,
            "created_at": datetime.now().isoformat()
        }
        
        # æ·»åŠ åˆ°ä¸»åˆ—è¡¨
        self.tasks.append(task)
        
        # æ›´æ–°åˆ†ç±»
        if category not in self.categories:
            self.categories[category] = []
        self.categories[category].append(task["id"])
        
        print(f"ä»»åŠ¡å·²æ·»åŠ ï¼š{task['title']}")
        return task
    
    def complete_task(self, task_id):
        """æ ‡è®°ä»»åŠ¡ä¸ºå·²å®Œæˆ"""
        for task in self.tasks:
            if task["id"] == task_id:
                task["completed"] = True
                task["completed_at"] = datetime.now().isoformat()
                print(f"ä»»åŠ¡å·²å®Œæˆï¼š{task['title']}")
                return True
        return False
    
    def filter_tasks(self, completed=None, category=None):
        """æ ¹æ®æ¡ä»¶è¿‡æ»¤ä»»åŠ¡"""
        filtered = self.tasks
        
        if completed is not None:
            filtered = [t for t in filtered if t["completed"] == completed]
        
        if category:
            filtered = [t for t in filtered if t["category"] == category]
        
        return filtered
    
    def display_tasks(self):
        """åœ¨æ§åˆ¶å°æ˜¾ç¤ºä»»åŠ¡"""
        print("\n=== ä»»åŠ¡åˆ—è¡¨ ===")
        for task in self.tasks:
            status = "âœ“" if task["completed"] else "â—‹"
            print(f"{status} [{task['category']}] {task['title']}")
            print(f"   {task['description']}")
        print("===============")

# Python ç”¨æ³•ï¼šåœ¨å†…å­˜ä¸­å¤„ç†æ•°æ®
task_manager = TaskManager()

# æ·»åŠ ä¸€äº›ä»»åŠ¡
task_manager.add_task("å­¦ä¹  JavaScript", "æŒæ¡å‰ç«¯å¼€å‘", "æ•™è‚²")
task_manager.add_task("æ„å»ºç½‘ç«™", "åˆ›å»ºä¸ªäººä½œå“é›†", "é¡¹ç›®")
task_manager.add_task("å­¦ä¹ ç®—æ³•", "å‡†å¤‡é¢è¯•", "æ•™è‚²")

# æ“ä½œæ•°æ®
task_manager.complete_task(1)

# è¿‡æ»¤å’Œæ˜¾ç¤º
education_tasks = task_manager.filter_tasks(category="æ•™è‚²")
print(f"æ•™è‚²ç±»ä»»åŠ¡ï¼š{len(education_tasks)} ä¸ª")

task_manager.display_tasks()
```

```javascript !! js
// JavaScriptï¼šå¤„ç† DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰
// DOM æ˜¯è¡¨ç¤º HTML æ–‡æ¡£çš„æ´»åŠ¨æ•°æ®ç»“æ„

class TaskDOMManager {
    /**
     * JavaScript æ–¹å¼ï¼šå¤„ç† DOM å…ƒç´ 
     * - å†…ç½®è§†è§‰è¡¨ç¤º
     * - å…ƒç´ å…·æœ‰æ•°æ®å’Œè§†è§‰å±æ€§
     * - æ›´æ”¹ç«‹å³åæ˜ åœ¨ç”¨æˆ·ç•Œé¢ä¸­
     */
    
    constructor() {
        this.tasks = [];
        this.taskContainer = document.getElementById('tasks-container');
        this.taskForm = document.getElementById('task-form');
        this.setupEventListeners();
        this.initializeDOM();
    }
    
    initializeDOM() {
        // å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºåˆå§‹ DOM ç»“æ„
        if (!this.taskContainer) {
            this.createTaskContainer();
        }
        if (!this.taskForm) {
            this.createTaskForm();
        }
    }
    
    createTaskContainer() {
        // ç¨‹åºåŒ–åˆ›å»º DOM å…ƒç´ 
        this.taskContainer = document.createElement('div');
        this.taskContainer.id = 'tasks-container';
        this.taskContainer.className = 'tasks-list';
        
        // æ·»åŠ åˆ°æ–‡æ¡£
        document.body.appendChild(this.taskContainer);
    }
    
    createTaskForm() {
        // åˆ›å»ºæ·»åŠ ä»»åŠ¡çš„è¡¨å•
        this.taskForm = document.createElement('form');
        this.taskForm.id = 'task-form';
        this.taskForm.innerHTML = `
            <div class="form-group">
                <input type="text" id="task-title" placeholder="ä»»åŠ¡æ ‡é¢˜" required>
                <input type="text" id="task-description" placeholder="æè¿°">
                <select id="task-category">
                    <option value="general">å¸¸è§„</option>
                    <option value="education">æ•™è‚²</option>
                    <option value="project">é¡¹ç›®</option>
                </select>
                <button type="submit">æ·»åŠ ä»»åŠ¡</button>
            </div>
        `;
        
        // æ’å…¥åˆ° body å¼€å¤´
        document.body.insertBefore(this.taskForm, this.taskContainer);
    }
    
    addTask(title, description, category = "general") {
        /**
         * æ·»åŠ ä»»åŠ¡ï¼šæ•°æ®å’Œ DOM æ“ä½œ
         * - å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ï¼ˆå¦‚ Pythonï¼‰
         * - åˆ›å»ºè§†è§‰è¡¨ç¤ºï¼ˆå‰ç«¯ç‹¬æœ‰ï¼‰
         */
        const task = {
            id: Date.now(), // ç®€å•çš„ ID ç”Ÿæˆ
            title: title,
            description: description,
            category: category,
            completed: false,
            createdAt: new Date().toISOString()
        };
        
        // æ·»åŠ åˆ°æ•°æ®ç»“æ„
        this.tasks.push(task);
        
        // ä¸ºä»»åŠ¡åˆ›å»º DOM å…ƒç´ 
        const taskElement = this.createTaskElement(task);
        
        // æ·»åŠ åˆ° DOM å¹¶å¸¦æœ‰åŠ¨ç”»
        this.taskContainer.appendChild(taskElement);
        
        // æ–°ä»»åŠ¡å‡ºç°åŠ¨ç”»
        taskElement.style.opacity = '0';
        taskElement.style.transform = 'translateY(-20px)';
        
        // è§¦å‘åŠ¨ç”»
        requestAnimationFrame(() => {
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '1';
            taskElement.style.transform = 'translateY(0)';
        });
        
        console.log(`ä»»åŠ¡å·²æ·»åŠ åˆ° DOMï¼š${task.title}`);
        return task;
    }
    
    createTaskElement(task) {
        // åˆ›å»ºä»»åŠ¡çš„ DOM è¡¨ç¤º
        const taskDiv = document.createElement('div');
        taskDiv.className = `task-item ${task.completed ? 'completed' : ''}`;
        taskDiv.dataset.taskId = task.id; // åœ¨ DOM ä¸­å­˜å‚¨ ID
        
        taskDiv.innerHTML = `
            <div class="task-header">
                <span class="task-category">${task.category}</span>
                <button class="complete-btn" data-action="complete">
                    ${task.completed ? 'âœ“' : 'â—‹'}
                </button>
            </div>
            <h3 class="task-title">${task.title}</h3>
            <p class="task-description">${task.description}</p>
            <div class="task-actions">
                <button class="edit-btn" data-action="edit">ç¼–è¾‘</button>
                <button class="delete-btn" data-action="delete">åˆ é™¤</button>
            </div>
        `;
        
        return taskDiv;
    }
    
    completeTask(taskId) {
        // æ›´æ–°æ•°æ®å’Œ DOM
        const task = this.tasks.find(t => t.id == taskId);
        if (!task) return false;
        
        // æ›´æ–°æ•°æ®
        task.completed = !task.completed;
        task.completedAt = task.completed ? new Date().toISOString() : null;
        
        // æ›´æ–° DOM å…ƒç´ 
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        if (taskElement) {
            // æ›´æ–°è§†è§‰çŠ¶æ€
            taskElement.classList.toggle('completed', task.completed);
            
            // æ›´æ–°æŒ‰é’®æ–‡æœ¬
            const completeBtn = taskElement.querySelector('.complete-btn');
            completeBtn.textContent = task.completed ? 'âœ“' : 'â—‹';
            
            // æ·»åŠ å®ŒæˆåŠ¨ç”»
            if (task.completed) {
                taskElement.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    taskElement.style.transform = 'scale(1)';
                }, 200);
            }
        }
        
        console.log(`ä»»åŠ¡${task.completed ? 'å·²å®Œæˆ' : 'å·²é‡æ–°å¼€å¯'}ï¼š${task.title}`);
        return true;
    }
    
    deleteTask(taskId) {
        // ä»æ•°æ®å’Œ DOM ä¸­ç§»é™¤
        const taskIndex = this.tasks.findIndex(t => t.id == taskId);
        if (taskIndex === -1) return false;
        
        // ä»æ•°æ®ä¸­ç§»é™¤
        const task = this.tasks.splice(taskIndex, 1)[0];
        
        // ä» DOM ä¸­ç§»é™¤å¹¶å¸¦æœ‰åŠ¨ç”»
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        if (taskElement) {
            // ç§»é™¤åŠ¨ç”»
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '0';
            taskElement.style.transform = 'translateX(-100%)';
            
            // åŠ¨ç”»åç§»é™¤
            setTimeout(() => {
                taskElement.remove();
            }, 300);
        }
        
        console.log(`ä»»åŠ¡å·²åˆ é™¤ï¼š${task.title}`);
        return true;
    }
    
    filterTasks(completed = null, category = null) {
        // è¿‡æ»¤ä»»åŠ¡å¹¶æ›´æ–° DOM æ˜¾ç¤º
        const allTaskElements = document.querySelectorAll('.task-item');
        
        allTaskElements.forEach(element => {
            const taskId = element.dataset.taskId;
            const task = this.tasks.find(t => t.id == taskId);
            
            let shouldShow = true;
            
            // åº”ç”¨è¿‡æ»¤å™¨
            if (completed !== null && task.completed !== completed) {
                shouldShow = false;
            }
            
            if (category && task.category !== category) {
                shouldShow = false;
            }
            
            // å¸¦åŠ¨ç”»æ˜¾ç¤º/éšè—
            if (shouldShow) {
                element.style.display = 'block';
                element.style.opacity = '1';
            } else {
                element.style.opacity = '0.3';
                element.style.display = 'none';
            }
        });
    }
    
    setupEventListeners() {
        // è®¾ç½®è¡¨å•æäº¤
        document.addEventListener('submit', (event) => {
            if (event.target.id === 'task-form') {
                event.preventDefault();
                this.handleFormSubmit(event);
            }
        });
        
        // ä½¿ç”¨äº‹ä»¶å§”æ‰˜è®¾ç½®ä»»åŠ¡äº¤äº’
        document.addEventListener('click', (event) => {
            const action = event.target.dataset.action;
            const taskElement = event.target.closest('.task-item');
            
            if (!taskElement) return;
            
            const taskId = taskElement.dataset.taskId;
            
            switch (action) {
                case 'complete':
                    this.completeTask(taskId);
                    break;
                case 'edit':
                    this.editTask(taskId);
                    break;
                case 'delete':
                    this.deleteTask(taskId);
                    break;
            }
        });
    }
    
    handleFormSubmit(event) {
        const title = document.getElementById('task-title').value;
        const description = document.getElementById('task-description').value;
        const category = document.getElementById('task-category').value;
        
        if (title.trim()) {
            this.addTask(title, description, category);
            event.target.reset(); // æ¸…ç©ºè¡¨å•
        }
    }
    
    editTask(taskId) {
        // å†…è”ç¼–è¾‘åŠŸèƒ½
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        const task = this.tasks.find(t => t.id == taskId);
        
        if (!taskElement || !task) return;
        
        const titleElement = taskElement.querySelector('.task-title');
        const descriptionElement = taskElement.querySelector('.task-description');
        
        // ä½¿å…ƒç´ å¯ç¼–è¾‘
        titleElement.contentEditable = true;
        descriptionElement.contentEditable = true;
        titleElement.focus();
        
        // æ·»åŠ ç¼–è¾‘æ ·å¼
        titleElement.classList.add('editing');
        descriptionElement.classList.add('editing');
        
        // å¤„ç† Enter é”®æˆ–å¤±ç„¦æ—¶ä¿å­˜
        const saveEdit = () => {
            task.title = titleElement.textContent.trim();
            task.description = descriptionElement.textContent.trim();
            
            titleElement.contentEditable = false;
            descriptionElement.contentEditable = false;
            titleElement.classList.remove('editing');
            descriptionElement.classList.remove('editing');
            
            console.log(`ä»»åŠ¡å·²ç¼–è¾‘ï¼š${task.title}`);
        };
        
        titleElement.addEventListener('blur', saveEdit, { once: true });
        titleElement.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                saveEdit();
            }
        }, { once: true });
    }
}

// åˆå§‹åŒ–åŸºäº DOM çš„ä»»åŠ¡ç®¡ç†å™¨
const domTaskManager = new TaskDOMManager();

// æ·»åŠ ä¸€äº›ç¤ºä¾‹ä»»åŠ¡
domTaskManager.addTask("å­¦ä¹  DOM æ“ä½œ", "æŒæ¡ JavaScript DOM API", "æ•™è‚²");
domTaskManager.addTask("æ„å»ºäº¤äº’å¼ç•Œé¢", "åˆ›å»ºåŠ¨æ€ç”¨æˆ·ç•Œé¢", "é¡¹ç›®");
domTaskManager.addTask("å¤„ç†ç”¨æˆ·äº‹ä»¶", "å®ç°äº‹ä»¶ç›‘å¬å™¨", "æ•™è‚²");

// JavaScript DOM ç‰¹å¾ï¼š
// 1. è§†è§‰å’Œæ•°æ®è¡¨ç¤ºç»“åˆ
// 2. ç”¨æˆ·ç•Œé¢å®æ—¶æ›´æ–°
// 3. äº‹ä»¶é©±åŠ¨çš„ç”¨æˆ·äº¤äº’
// 4. åŠ¨ç”»å’Œè§†è§‰åé¦ˆ
console.log("JavaScriptï¼šDOM æ“ä½œå¸¦æœ‰è§†è§‰åé¦ˆå’Œå®æ—¶æ›´æ–°");
```
</PythonEditor>

## äº‹ä»¶é©±åŠ¨çš„ç”¨æˆ·äº¤äº’

### ä»å‡½æ•°è°ƒç”¨åˆ°äº‹ä»¶å¤„ç†å™¨

<PythonEditor title="ç”¨æˆ·äº¤äº’æ¨¡å¼" compare={true}>
```python !! py
# Pythonï¼šåŸºäºå‡½æ•°çš„äº¤äº’ï¼ˆCLI/ç¨‹åºåŒ–ï¼‰
import cmd
import sys
from datetime import datetime

class TaskCLI(cmd.Cmd):
    """
    Python æ–¹å¼ï¼šå‘½ä»¤è¡Œç•Œé¢
    - é¡ºåºå‘½ä»¤å¤„ç†
    - åŸºäºæ–‡æœ¬çš„ç”¨æˆ·äº¤äº’
    - æ— å¹¶å‘ç”¨æˆ·æ“ä½œ
    """
    
    intro = 'æ¬¢è¿ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨ CLIã€‚è¾“å…¥ help æˆ– ? æŸ¥çœ‹å‘½ä»¤åˆ—è¡¨ã€‚\n'
    prompt = '(ä»»åŠ¡) '
    
    def __init__(self):
        super().__init__()
        self.tasks = []
        self.current_id = 1
    
    def do_add(self, line):
        """æ·»åŠ æ–°ä»»åŠ¡ï¼šadd <æ ‡é¢˜> | <æè¿°>"""
        try:
            parts = line.split(' | ')
            title = parts[0].strip()
            description = parts[1].strip() if len(parts) > 1 else ""
            
            task = {
                'id': self.current_id,
                'title': title,
                'description': description,
                'completed': False,
                'created': datetime.now()
            }
            
            self.tasks.append(task)
            self.current_id += 1
            print(f"ä»»åŠ¡å·²æ·»åŠ ï¼š{title}")
            
        except Exception as e:
            print(f"é”™è¯¯ï¼š{e}")
    
    def do_list(self, line):
        """åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡"""
        if not self.tasks:
            print("æœªæ‰¾åˆ°ä»»åŠ¡ã€‚")
            return
        
        print("\n=== ä»»åŠ¡åˆ—è¡¨ ===")
        for task in self.tasks:
            status = "âœ“" if task['completed'] else "â—‹"
            print(f"{task['id']}. {status} {task['title']}")
            if task['description']:
                print(f"   {task['description']}")
        print("===============\n")
    
    def do_complete(self, line):
        """æ ‡è®°ä»»åŠ¡ä¸ºå·²å®Œæˆï¼šcomplete <id>"""
        try:
            task_id = int(line.strip())
            task = next((t for t in self.tasks if t['id'] == task_id), None)
            
            if task:
                task['completed'] = True
                print(f"ä»»åŠ¡å·²å®Œæˆï¼š{task['title']}")
            else:
                print(f"æœªæ‰¾åˆ°ä»»åŠ¡ {task_id}ã€‚")
                
        except ValueError:
            print("è¯·æä¾›æœ‰æ•ˆçš„ä»»åŠ¡ IDã€‚")
    
    def do_delete(self, line):
        """åˆ é™¤ä»»åŠ¡ï¼šdelete <id>"""
        try:
            task_id = int(line.strip())
            task = next((t for t in self.tasks if t['id'] == task_id), None)
            
            if task:
                self.tasks.remove(task)
                print(f"ä»»åŠ¡å·²åˆ é™¤ï¼š{task['title']}")
            else:
                print(f"æœªæ‰¾åˆ°ä»»åŠ¡ {task_id}ã€‚")
                
        except ValueError:
            print("è¯·æä¾›æœ‰æ•ˆçš„ä»»åŠ¡ IDã€‚")
    
    def do_quit(self, line):
        """é€€å‡ºç¨‹åº"""
        print("å†è§ï¼")
        return True
    
    def do_EOF(self, line):
        """å¤„ç† Ctrl+D"""
        return self.do_quit(line)

# Python CLI ç”¨æ³•
if __name__ == "__main__":
    print("Python CLI ä»»åŠ¡ç®¡ç†å™¨ï¼š")
    print("- é¡ºåºå‘½ä»¤å¤„ç†")
    print("- åŸºäºæ–‡æœ¬çš„äº¤äº’")
    print("- å•çº¿ç¨‹æ‰§è¡Œ")
    
    # è¿™å°†å¯åŠ¨ CLI å¾ªç¯
    # TaskCLI().cmdloop()
    
    # æ¨¡æ‹Ÿäº¤äº’
    cli = TaskCLI()
    print("\næ¨¡æ‹Ÿ CLI å‘½ä»¤ï¼š")
    cli.do_add("å­¦ä¹  Python | æŒæ¡åç«¯å¼€å‘")
    cli.do_add("æ„å»º API | åˆ›å»º REST API")
    cli.do_list("")
    cli.do_complete("1")
    cli.do_list("")
```

```javascript !! js
// JavaScriptï¼šäº‹ä»¶é©±åŠ¨ç”¨æˆ·ç•Œé¢
// å¤šä¸ªå¹¶å‘ç”¨æˆ·äº¤äº’

class InteractiveTaskManager {
    /**
     * JavaScript æ–¹å¼ï¼šäº‹ä»¶é©±åŠ¨ç•Œé¢
     * - å¤šä¸ªåŒæ—¶çš„ç”¨æˆ·äº¤äº’
     * - æ‰€æœ‰æ“ä½œçš„è§†è§‰åé¦ˆ
     * - å¼‚æ­¥äº‹ä»¶å¤„ç†
     */
    
    constructor() {
        this.tasks = [];
        this.currentId = 1;
        this.isEditing = false;
        this.setupInterface();
        this.setupEventListeners();
        this.setupKeyboardShortcuts();
    }
    
    setupInterface() {
        // åˆ›å»ºä¸°å¯Œçš„äº¤äº’å¼ç•Œé¢
        document.body.innerHTML = `
            <div class="task-app">
                <header class="app-header">
                    <h1>äº¤äº’å¼ä»»åŠ¡ç®¡ç†å™¨</h1>
                    <div class="quick-stats">
                        <span id="total-tasks">0 ä¸ªä»»åŠ¡</span>
                        <span id="completed-tasks">0 ä¸ªå·²å®Œæˆ</span>
                    </div>
                </header>
                
                <div class="add-task-section">
                    <form id="task-form" class="task-form">
                        <input type="text" id="task-title" placeholder="éœ€è¦åšä»€ä¹ˆï¼Ÿ" autocomplete="off">
                        <input type="text" id="task-description" placeholder="æ·»åŠ æè¿°ï¼ˆå¯é€‰ï¼‰" autocomplete="off">
                        <button type="submit" class="add-btn">æ·»åŠ ä»»åŠ¡</button>
                    </form>
                </div>
                
                <div class="filter-section">
                    <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
                    <button class="filter-btn" data-filter="pending">å¾…åŠ</button>
                    <button class="filter-btn" data-filter="completed">å·²å®Œæˆ</button>
                </div>
                
                <div id="tasks-container" class="tasks-container">
                    <div class="empty-state">
                        <p>è¿˜æ²¡æœ‰ä»»åŠ¡ã€‚åœ¨ä¸Šé¢æ·»åŠ ä¸€ä¸ªå§ï¼</p>
                    </div>
                </div>
                
                <div class="bulk-actions">
                    <button id="select-all-btn">å…¨é€‰</button>
                    <button id="complete-selected-btn">å®Œæˆé€‰ä¸­</button>
                    <button id="delete-selected-btn">åˆ é™¤é€‰ä¸­</button>
                </div>
            </div>
        `;
        
        // æ·»åŠ äº¤äº’æ€§çš„ CSS æ ·å¼
        this.addStyles();
    }
    
    setupEventListeners() {
        // è¡¨å•æäº¤ - å•ä¸ªä»»åŠ¡æ·»åŠ 
        document.getElementById('task-form').addEventListener('submit', (e) => {
            e.preventDefault();
            this.handleTaskSubmission();
        });
        
        // å®æ—¶è¾“å…¥éªŒè¯
        document.getElementById('task-title').addEventListener('input', (e) => {
            this.validateInput(e.target);
        });
        
        // è¿‡æ»¤æŒ‰é’®
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.handleFilterChange(e.target.dataset.filter);
            });
        });
        
        // æ‰¹é‡æ“ä½œ
        document.getElementById('select-all-btn').addEventListener('click', () => {
            this.selectAllTasks();
        });
        
        document.getElementById('complete-selected-btn').addEventListener('click', () => {
            this.completeSelectedTasks();
        });
        
        document.getElementById('delete-selected-btn').addEventListener('click', () => {
            this.deleteSelectedTasks();
        });
        
        // åŠ¨æ€ä»»åŠ¡å…ƒç´ çš„äº‹ä»¶å§”æ‰˜
        document.getElementById('tasks-container').addEventListener('click', (e) => {
            this.handleTaskInteraction(e);
        });
        
        // åŒå‡»ç¼–è¾‘ï¼ˆæŒ‰é’®çš„æ›¿ä»£æ–¹å¼ï¼‰
        document.getElementById('tasks-container').addEventListener('dblclick', (e) => {
            if (e.target.classList.contains('task-title')) {
                this.enableInlineEditing(e.target);
            }
        });
        
        // æ‹–æ”¾é‡æ–°æ’åº
        document.getElementById('tasks-container').addEventListener('dragstart', (e) => {
            this.handleDragStart(e);
        });
        
        document.getElementById('tasks-container').addEventListener('dragover', (e) => {
            this.handleDragOver(e);
        });
        
        document.getElementById('tasks-container').addEventListener('drop', (e) => {
            this.handleDrop(e);
        });
    }
    
    setupKeyboardShortcuts() {
        // å…¨å±€é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + Enterï¼šå¿«é€Ÿæ·»åŠ ä»»åŠ¡
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                document.getElementById('task-title').focus();
            }
            
            // Escapeï¼šå–æ¶ˆå½“å‰æ“ä½œ
            if (e.key === 'Escape') {
                this.cancelCurrentOperation();
            }
            
            // Delete é”®ï¼šåˆ é™¤é€‰ä¸­çš„ä»»åŠ¡
            if (e.key === 'Delete' && !this.isEditing) {
                this.deleteSelectedTasks();
            }
            
            // Ctrl/Cmd + Aï¼šå…¨é€‰ä»»åŠ¡
            if ((e.ctrlKey || e.metaKey) && e.key === 'a' && !this.isEditing) {
                e.preventDefault();
                this.selectAllTasks();
            }
        });
    }
    
    handleTaskSubmission() {
        const titleInput = document.getElementById('task-title');
        const descriptionInput = document.getElementById('task-description');
        
        const title = titleInput.value.trim();
        const description = descriptionInput.value.trim();
        
        if (title) {
            this.addTask(title, description);
            titleInput.value = '';
            descriptionInput.value = '';
            titleInput.focus();
        }
    }
    
    addTask(title, description = '') {
        const task = {
            id: this.currentId++,
            title: title,
            description: description,
            completed: false,
            selected: false,
            createdAt: new Date(),
            order: this.tasks.length
        };
        
        this.tasks.push(task);
        this.renderTask(task);
        this.updateStats();
        this.updateEmptyState();
        
        // æ˜¾ç¤ºæˆåŠŸåé¦ˆ
        this.showNotification(`ä»»åŠ¡"${title}"æ·»åŠ æˆåŠŸï¼`, 'success');
        
        console.log(`ä»»åŠ¡å·²æ·»åŠ ï¼š${title}`);
    }
    
    renderTask(task) {
        const tasksContainer = document.getElementById('tasks-container');
        
        const taskElement = document.createElement('div');
        taskElement.className = `task-item ${task.completed ? 'completed' : ''}`;
        taskElement.dataset.taskId = task.id;
        taskElement.draggable = true;
        
        taskElement.innerHTML = `
            <div class="task-content">
                <input type="checkbox" class="task-checkbox" ${task.selected ? 'checked' : ''}>
                <div class="task-info">
                    <h3 class="task-title" contenteditable="false">${task.title}</h3>
                    ${task.description ? `<p class="task-description">${task.description}</p>` : ''}
                </div>
                <div class="task-actions">
                    <button class="complete-btn" data-action="toggle-complete" title="åˆ‡æ¢å®ŒæˆçŠ¶æ€">
                        ${task.completed ? 'âœ“' : 'â—‹'}
                    </button>
                    <button class="edit-btn" data-action="edit" title="ç¼–è¾‘ä»»åŠ¡">âœ</button>
                    <button class="delete-btn" data-action="delete" title="åˆ é™¤ä»»åŠ¡">ğŸ—‘</button>
                </div>
            </div>
        `;
        
        // æ·»åŠ åŠ¨ç”»
        taskElement.style.opacity = '0';
        taskElement.style.transform = 'translateY(-20px)';
        tasksContainer.appendChild(taskElement);
        
        // è§¦å‘åŠ¨ç”»
        requestAnimationFrame(() => {
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '1';
            taskElement.style.transform = 'translateY(0)';
        });
    }
    
    handleTaskInteraction(event) {
        const taskElement = event.target.closest('.task-item');
        if (!taskElement) return;
        
        const taskId = parseInt(taskElement.dataset.taskId);
        const action = event.target.dataset.action;
        
        switch (action) {
            case 'toggle-complete':
                this.toggleTaskCompletion(taskId);
                break;
            case 'edit':
                this.enableInlineEditing(taskElement.querySelector('.task-title'));
                break;
            case 'delete':
                this.deleteTask(taskId);
                break;
        }
        
        // å¤„ç†å¤é€‰æ¡†é€‰æ‹©
        if (event.target.type === 'checkbox') {
            this.toggleTaskSelection(taskId);
        }
    }
    
    toggleTaskCompletion(taskId) {
        const task = this.tasks.find(t => t.id === taskId);
        if (!task) return;
        
        task.completed = !task.completed;
        
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        taskElement.classList.toggle('completed', task.completed);
        
        const completeBtn = taskElement.querySelector('.complete-btn');
        completeBtn.textContent = task.completed ? 'âœ“' : 'â—‹';
        
        // åŠ¨ç”»åé¦ˆ
        taskElement.style.transform = 'scale(1.05)';
        setTimeout(() => {
            taskElement.style.transform = 'scale(1)';
        }, 150);
        
        this.updateStats();
        this.showNotification(
            `ä»»åŠ¡"${task.title}"${task.completed ? 'å·²å®Œæˆ' : 'å·²é‡æ–°å¼€å¯'}ï¼`,
            task.completed ? 'success' : 'info'
        );
    }
    
    enableInlineEditing(titleElement) {
        if (this.isEditing) return;
        
        this.isEditing = true;
        const originalTitle = titleElement.textContent;
        
        titleElement.contentEditable = true;
        titleElement.classList.add('editing');
        titleElement.focus();
        
        // é€‰æ‹©æ‰€æœ‰æ–‡æœ¬
        const range = document.createRange();
        range.selectNodeContents(titleElement);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        
        const saveEdit = () => {
            const newTitle = titleElement.textContent.trim();
            if (newTitle && newTitle !== originalTitle) {
                const taskId = parseInt(titleElement.closest('.task-item').dataset.taskId);
                const task = this.tasks.find(t => t.id === taskId);
                if (task) {
                    task.title = newTitle;
                    this.showNotification('ä»»åŠ¡æ›´æ–°æˆåŠŸï¼', 'success');
                }
            } else if (!newTitle) {
                titleElement.textContent = originalTitle;
            }
            
            titleElement.contentEditable = false;
            titleElement.classList.remove('editing');
            this.isEditing = false;
        };
        
        const cancelEdit = () => {
            titleElement.textContent = originalTitle;
            titleElement.contentEditable = false;
            titleElement.classList.remove('editing');
            this.isEditing = false;
        };
        
        // Enter é”®ä¿å­˜ï¼ŒEscape é”®å–æ¶ˆ
        titleElement.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                saveEdit();
            } else if (e.key === 'Escape') {
                e.preventDefault();
                cancelEdit();
            }
        });
        
        // å¤±ç„¦æ—¶ä¿å­˜
        titleElement.addEventListener('blur', saveEdit, { once: true });
    }
    
    handleFilterChange(filter) {
        // æ›´æ–°æ´»åŠ¨è¿‡æ»¤æŒ‰é’®
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
        
        // è¿‡æ»¤ä»»åŠ¡
        document.querySelectorAll('.task-item').forEach(taskElement => {
            const taskId = parseInt(taskElement.dataset.taskId);
            const task = this.tasks.find(t => t.id === taskId);
            
            let shouldShow = true;
            
            switch (filter) {
                case 'pending':
                    shouldShow = !task.completed;
                    break;
                case 'completed':
                    shouldShow = task.completed;
                    break;
                case 'all':
                default:
                    shouldShow = true;
                    break;
            }
            
            taskElement.style.display = shouldShow ? 'block' : 'none';
        });
    }
    
    updateStats() {
        const total = this.tasks.length;
        const completed = this.tasks.filter(t => t.completed).length;
        
        document.getElementById('total-tasks').textContent = `${total} ä¸ªä»»åŠ¡`;
        document.getElementById('completed-tasks').textContent = `${completed} ä¸ªå·²å®Œæˆ`;
    }
    
    updateEmptyState() {
        const emptyState = document.querySelector('.empty-state');
        const hasTasks = this.tasks.length > 0;
        emptyState.style.display = hasTasks ? 'none' : 'block';
    }
    
    showNotification(message, type = 'info') {
        // åˆ›å»ºå¹¶æ˜¾ç¤ºé€šçŸ¥
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        // 3ç§’åè‡ªåŠ¨ç§»é™¤
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .task-app { max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif; }
            .app-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
            .quick-stats span { margin-left: 20px; color: #666; }
            .task-form { display: flex; gap: 10px; margin-bottom: 20px; }
            .task-form input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
            .add-btn { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
            .filter-section { display: flex; gap: 10px; margin-bottom: 20px; }
            .filter-btn { padding: 8px 16px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 4px; }
            .filter-btn.active { background: #007bff; color: white; }
            .task-item { background: white; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 10px; padding: 15px; transition: all 0.3s ease; }
            .task-item.completed { opacity: 0.7; }
            .task-content { display: flex; align-items: center; gap: 15px; }
            .task-info { flex: 1; }
            .task-title { margin: 0; cursor: text; }
            .task-title.editing { background: #f9f9f9; padding: 5px; border-radius: 3px; }
            .task-actions { display: flex; gap: 5px; }
            .task-actions button { background: none; border: none; cursor: pointer; padding: 5px; border-radius: 3px; }
            .task-actions button:hover { background: #f0f0f0; }
            .empty-state { text-align: center; color: #666; padding: 40px; }
            .bulk-actions { margin-top: 20px; display: flex; gap: 10px; }
            .bulk-actions button { padding: 8px 16px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 4px; }
            .notification { position: fixed; top: 20px; right: 20px; padding: 15px; border-radius: 4px; color: white; z-index: 1000; }
            .notification.success { background: #28a745; }
            .notification.info { background: #17a2b8; }
            .notification.error { background: #dc3545; }
        `;
        document.head.appendChild(style);
    }
}

// åˆå§‹åŒ–äº¤äº’å¼ä»»åŠ¡ç®¡ç†å™¨
const interactiveTaskManager = new InteractiveTaskManager();

// æ·»åŠ ä¸€äº›ç¤ºä¾‹ä»»åŠ¡
interactiveTaskManager.addTask("å­¦ä¹  DOM äº‹ä»¶", "æŒæ¡ JavaScript äº‹ä»¶å¤„ç†");
interactiveTaskManager.addTask("æ„å»ºäº¤äº’å¼ç•Œé¢", "åˆ›å»ºå“åº”å¼ç”¨æˆ·ç•Œé¢");
interactiveTaskManager.addTask("å¤„ç†ç”¨æˆ·è¾“å…¥", "å¤„ç†è¡¨å•å’Œç”¨æˆ·äº¤äº’");

// JavaScript äº‹ä»¶é©±åŠ¨ç‰¹å¾ï¼š
// 1. å¤šä¸ªå¹¶å‘ç”¨æˆ·äº¤äº’
// 2. å®æ—¶è§†è§‰åé¦ˆ
// 3. å¼‚æ­¥äº‹ä»¶å¤„ç†
// 4. ä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢å…ƒç´ 
console.log("JavaScriptï¼šäº‹ä»¶é©±åŠ¨ç•Œé¢ï¼Œå…·æœ‰å®æ—¶äº¤äº’å’Œè§†è§‰åé¦ˆ");
```
</PythonEditor>

## æ€»ç»“å’Œå…³é”®è¦ç‚¹

DOM æ“ä½œå’Œäº‹ä»¶å¤„ç†æ˜¯åˆ›å»ºäº¤äº’å¼ Web åº”ç”¨ç¨‹åºçš„åŸºæœ¬æŠ€èƒ½ï¼š

### ğŸ”„ **æ ¸å¿ƒæ¦‚å¿µ**
- **DOM ä½œä¸ºæ•°æ®ç»“æ„**ï¼šDOM æ˜¯ä¸€ä¸ªæ´»åŠ¨çš„ã€å¯è§†åŒ–çš„æ•°æ®ç»“æ„ï¼Œä½ å¯ä»¥åƒæ“ä½œ Python åˆ—è¡¨å’Œå­—å…¸ä¸€æ ·æ“ä½œå®ƒ
- **äº‹ä»¶é©±åŠ¨ç¼–ç¨‹**ï¼šç”¨æˆ·äº¤äº’è§¦å‘å¼‚æ­¥æ‰§è¡Œä»£ç çš„äº‹ä»¶
- **è§†è§‰åé¦ˆ**ï¼šæ¯ä¸ªæ•°æ®æ›´æ”¹éƒ½å¯ä»¥ç«‹å³åæ˜ åœ¨ç”¨æˆ·ç•Œé¢ä¸­

### ğŸ›  **åŸºæœ¬æŠ€æœ¯**
- **å…ƒç´ åˆ›å»ºå’Œæ“ä½œ**ï¼šç¨‹åºåŒ–åˆ›å»ºå’Œä¿®æ”¹ HTML å…ƒç´ 
- **äº‹ä»¶ç›‘å¬å™¨**ï¼šå“åº”ç”¨æˆ·æ“ä½œï¼Œå¦‚ç‚¹å‡»ã€é”®ç›˜è¾“å…¥å’Œè¡¨å•æäº¤
- **äº‹ä»¶å§”æ‰˜**ï¼šä½¿ç”¨äº‹ä»¶å†’æ³¡é«˜æ•ˆå¤„ç†åŠ¨æ€å†…å®¹çš„äº‹ä»¶

### ğŸ“± **ç”¨æˆ·ä½“éªŒå¢å¼º**
- **å®æ—¶æ›´æ–°**ï¼šä¸ºç”¨æˆ·æ“ä½œæä¾›å³æ—¶åé¦ˆ
- **äº¤äº’å¼å…ƒç´ **ï¼šåˆ›å»ºå…·æœ‰åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœçš„å¼•äººå…¥èƒœçš„ç•Œé¢
- **æ— éšœç¢æ€§**ï¼šç¡®ä¿ä½ çš„ç•Œé¢é€‚ç”¨äºæ‰€æœ‰ç”¨æˆ·ï¼Œæä¾›é€‚å½“çš„é”®ç›˜æ”¯æŒ

åœ¨ä¸‹ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ Web æ¡†æ¶ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•ç®€åŒ–æ„å»ºå¤æ‚äº¤äº’å¼åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¿æŒä½ åœ¨è¿™é‡Œå­¦åˆ°çš„æ ¸å¿ƒåŸåˆ™ã€‚
