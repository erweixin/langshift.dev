---
title: DOM æ“ä½œèˆ‡äº‹ä»¶è™•ç†
description: é€éæŒæ¡ DOM æ“ä½œå’Œäº‹ä»¶è™•ç†ä¾†å»ºç«‹å‹•æ…‹ã€äº’å‹•å¼ä½¿ç”¨è€…ä»‹é¢ï¼Œå¾å¾Œç«¯é‚è¼¯è½‰å‘å‰ç«¯ä½¿ç”¨è€…äº’å‹•ã€‚
---

# DOM æ“ä½œèˆ‡äº‹ä»¶è™•ç†

ä½œç‚º Python é–‹ç™¼è€…ï¼Œä½ ç¿’æ…£æ–¼è™•ç†è³‡æ–™çµæ§‹å’Œæ¼”ç®—æ³•ã€‚åœ¨å‰ç«¯é–‹ç™¼ä¸­ï¼Œæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼ˆDOMï¼‰æˆç‚ºä½ å»ºç«‹äº’å‹•å¼ä½¿ç”¨è€…ä»‹é¢çš„ä¸»è¦è³‡æ–™çµæ§‹ã€‚æœ¬æ¨¡çµ„æ•™ä½ å¦‚ä½•æœ‰æ•ˆåœ°æ“ä½œ DOM å’Œè™•ç†ä½¿ç”¨è€…äº‹ä»¶ã€‚

## ç†è§£ DOM

### å¾ Python è³‡æ–™çµæ§‹åˆ° DOM

<PythonEditor title="è³‡æ–™çµæ§‹æ“ä½œå°æ¯”" compare={true}>
```python !! py
# Pythonï¼šè™•ç†è³‡æ–™çµæ§‹ï¼ˆä¸²åˆ—ã€å­—å…¸ï¼‰
import json
from datetime import datetime

class TaskManager:
    """
    Python æ–¹å¼ï¼šè™•ç†åŸç”Ÿè³‡æ–™çµæ§‹
    - ç›´æ¥æ“ä½œä¸²åˆ—å’Œå­—å…¸
    - é è¨­ç„¡è¦–è¦ºè¡¨ç¤º
    - å°ˆæ³¨æ–¼è³‡æ–™é‚è¼¯å’Œæ¼”ç®—æ³•
    """
    
    def __init__(self):
        self.tasks = []
        self.categories = {}
    
    def add_task(self, title, description, category="general"):
        """å‘è³‡æ–™çµæ§‹æ–°å¢æ–°ä»»å‹™"""
        task = {
            "id": len(self.tasks) + 1,
            "title": title,
            "description": description,
            "category": category,
            "completed": False,
            "created_at": datetime.now().isoformat()
        }
        
        # æ–°å¢åˆ°ä¸»ä¸²åˆ—
        self.tasks.append(task)
        
        # æ›´æ–°åˆ†é¡
        if category not in self.categories:
            self.categories[category] = []
        self.categories[category].append(task["id"])
        
        print(f"ä»»å‹™å·²æ–°å¢ï¼š{task['title']}")
        return task
    
    def complete_task(self, task_id):
        """æ¨™è¨˜ä»»å‹™ç‚ºå·²å®Œæˆ"""
        for task in self.tasks:
            if task["id"] == task_id:
                task["completed"] = True
                task["completed_at"] = datetime.now().isoformat()
                print(f"ä»»å‹™å·²å®Œæˆï¼š{task['title']}")
                return True
        return False
    
    def filter_tasks(self, completed=None, category=None):
        """æ ¹æ“šæ¢ä»¶éæ¿¾ä»»å‹™"""
        filtered = self.tasks
        
        if completed is not None:
            filtered = [t for t in filtered if t["completed"] == completed]
        
        if category:
            filtered = [t for t in filtered if t["category"] == category]
        
        return filtered
    
    def display_tasks(self):
        """åœ¨æ§åˆ¶å°é¡¯ç¤ºä»»å‹™"""
        print("\n=== ä»»å‹™æ¸…å–® ===")
        for task in self.tasks:
            status = "âœ“" if task["completed"] else "â—‹"
            print(f"{status} [{task['category']}] {task['title']}")
            print(f"   {task['description']}")
        print("===============")

# Python ç”¨æ³•ï¼šåœ¨è¨˜æ†¶é«”ä¸­è™•ç†è³‡æ–™
task_manager = TaskManager()

# æ–°å¢ä¸€äº›ä»»å‹™
task_manager.add_task("å­¸ç¿’ JavaScript", "æŒæ¡å‰ç«¯é–‹ç™¼", "æ•™è‚²")
task_manager.add_task("å»ºç½®ç¶²ç«™", "å»ºç«‹å€‹äººä½œå“é›†", "å°ˆæ¡ˆ")
task_manager.add_task("å­¸ç¿’æ¼”ç®—æ³•", "æº–å‚™é¢è©¦", "æ•™è‚²")

# æ“ä½œè³‡æ–™
task_manager.complete_task(1)

# éæ¿¾å’Œé¡¯ç¤º
education_tasks = task_manager.filter_tasks(category="æ•™è‚²")
print(f"æ•™è‚²é¡ä»»å‹™ï¼š{len(education_tasks)} å€‹")

task_manager.display_tasks()
```

```javascript !! js
// JavaScriptï¼šè™•ç† DOMï¼ˆæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼‰
// DOM æ˜¯è¡¨ç¤º HTML æ–‡ä»¶çš„æ´»å‹•è³‡æ–™çµæ§‹

class TaskDOMManager {
    /**
     * JavaScript æ–¹å¼ï¼šè™•ç† DOM å…ƒç´ 
     * - å…§å»ºè¦–è¦ºè¡¨ç¤º
     * - å…ƒç´ å…·æœ‰è³‡æ–™å’Œè¦–è¦ºå±¬æ€§
     * - æ›´æ”¹ç«‹å³åæ˜ åœ¨ä½¿ç”¨è€…ä»‹é¢ä¸­
     */
    
    constructor() {
        this.tasks = [];
        this.taskContainer = document.getElementById('tasks-container');
        this.taskForm = document.getElementById('task-form');
        this.setupEventListeners();
        this.initializeDOM();
    }
    
    initializeDOM() {
        // å¦‚æœä¸å­˜åœ¨ï¼Œå»ºç«‹åˆå§‹ DOM çµæ§‹
        if (!this.taskContainer) {
            this.createTaskContainer();
        }
        if (!this.taskForm) {
            this.createTaskForm();
        }
    }
    
    createTaskContainer() {
        // ç¨‹å¼åŒ–å»ºç«‹ DOM å…ƒç´ 
        this.taskContainer = document.createElement('div');
        this.taskContainer.id = 'tasks-container';
        this.taskContainer.className = 'tasks-list';
        
        // æ–°å¢åˆ°æ–‡ä»¶
        document.body.appendChild(this.taskContainer);
    }
    
    createTaskForm() {
        // å»ºç«‹æ–°å¢ä»»å‹™çš„è¡¨å–®
        this.taskForm = document.createElement('form');
        this.taskForm.id = 'task-form';
        this.taskForm.innerHTML = `
            <div class="form-group">
                <input type="text" id="task-title" placeholder="ä»»å‹™æ¨™é¡Œ" required>
                <input type="text" id="task-description" placeholder="æè¿°">
                <select id="task-category">
                    <option value="general">ä¸€èˆ¬</option>
                    <option value="education">æ•™è‚²</option>
                    <option value="project">å°ˆæ¡ˆ</option>
                </select>
                <button type="submit">æ–°å¢ä»»å‹™</button>
            </div>
        `;
        
        // æ’å…¥åˆ° body é–‹é ­
        document.body.insertBefore(this.taskForm, this.taskContainer);
    }
    
    addTask(title, description, category = "general") {
        /**
         * æ–°å¢ä»»å‹™ï¼šè³‡æ–™å’Œ DOM æ“ä½œ
         * - å„²å­˜åœ¨è³‡æ–™çµæ§‹ä¸­ï¼ˆå¦‚ Pythonï¼‰
         * - å»ºç«‹è¦–è¦ºè¡¨ç¤ºï¼ˆå‰ç«¯ç¨æœ‰ï¼‰
         */
        const task = {
            id: Date.now(), // ç°¡å–®çš„ ID ç”Ÿæˆ
            title: title,
            description: description,
            category: category,
            completed: false,
            createdAt: new Date().toISOString()
        };
        
        // æ–°å¢åˆ°è³‡æ–™çµæ§‹
        this.tasks.push(task);
        
        // ç‚ºä»»å‹™å»ºç«‹ DOM å…ƒç´ 
        const taskElement = this.createTaskElement(task);
        
        // æ–°å¢åˆ° DOM ä¸¦å¸¶æœ‰å‹•ç•«
        this.taskContainer.appendChild(taskElement);
        
        // æ–°ä»»å‹™å‡ºç¾å‹•ç•«
        taskElement.style.opacity = '0';
        taskElement.style.transform = 'translateY(-20px)';
        
        // è§¸ç™¼å‹•ç•«
        requestAnimationFrame(() => {
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '1';
            taskElement.style.transform = 'translateY(0)';
        });
        
        console.log(`ä»»å‹™å·²æ–°å¢åˆ° DOMï¼š${task.title}`);
        return task;
    }
    
    createTaskElement(task) {
        // å»ºç«‹ä»»å‹™çš„ DOM è¡¨ç¤º
        const taskDiv = document.createElement('div');
        taskDiv.className = `task-item ${task.completed ? 'completed' : ''}`;
        taskDiv.dataset.taskId = task.id; // åœ¨ DOM ä¸­å„²å­˜ ID
        
        taskDiv.innerHTML = `
            <div class="task-header">
                <span class="task-category">${task.category}</span>
                <button class="complete-btn" data-action="complete">
                    ${task.completed ? 'âœ“' : 'â—‹'}
                </button>
            </div>
            <h3 class="task-title">${task.title}</h3>
            <p class="task-description">${task.description}</p>
            <div class="task-actions">
                <button class="edit-btn" data-action="edit">ç·¨è¼¯</button>
                <button class="delete-btn" data-action="delete">åˆªé™¤</button>
            </div>
        `;
        
        return taskDiv;
    }
    
    completeTask(taskId) {
        // æ›´æ–°è³‡æ–™å’Œ DOM
        const task = this.tasks.find(t => t.id == taskId);
        if (!task) return false;
        
        // æ›´æ–°è³‡æ–™
        task.completed = !task.completed;
        task.completedAt = task.completed ? new Date().toISOString() : null;
        
        // æ›´æ–° DOM å…ƒç´ 
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        if (taskElement) {
            // æ›´æ–°è¦–è¦ºç‹€æ…‹
            taskElement.classList.toggle('completed', task.completed);
            
            // æ›´æ–°æŒ‰éˆ•æ–‡å­—
            const completeBtn = taskElement.querySelector('.complete-btn');
            completeBtn.textContent = task.completed ? 'âœ“' : 'â—‹';
            
            // æ–°å¢å®Œæˆå‹•ç•«
            if (task.completed) {
                taskElement.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    taskElement.style.transform = 'scale(1)';
                }, 200);
            }
        }
        
        console.log(`ä»»å‹™${task.completed ? 'å·²å®Œæˆ' : 'å·²é‡æ–°é–‹å•Ÿ'}ï¼š${task.title}`);
        return true;
    }
    
    deleteTask(taskId) {
        // å¾è³‡æ–™å’Œ DOM ä¸­ç§»é™¤
        const taskIndex = this.tasks.findIndex(t => t.id == taskId);
        if (taskIndex === -1) return false;
        
        // å¾è³‡æ–™ä¸­ç§»é™¤
        const task = this.tasks.splice(taskIndex, 1)[0];
        
        // å¾ DOM ä¸­ç§»é™¤ä¸¦å¸¶æœ‰å‹•ç•«
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        if (taskElement) {
            // ç§»é™¤å‹•ç•«
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '0';
            taskElement.style.transform = 'translateX(-100%)';
            
            // å‹•ç•«å¾Œç§»é™¤
            setTimeout(() => {
                taskElement.remove();
            }, 300);
        }
        
        console.log(`ä»»å‹™å·²åˆªé™¤ï¼š${task.title}`);
        return true;
    }
    
    filterTasks(completed = null, category = null) {
        // éæ¿¾ä»»å‹™ä¸¦æ›´æ–° DOM é¡¯ç¤º
        const allTaskElements = document.querySelectorAll('.task-item');
        
        allTaskElements.forEach(element => {
            const taskId = element.dataset.taskId;
            const task = this.tasks.find(t => t.id == taskId);
            
            let shouldShow = true;
            
            // å¥—ç”¨éæ¿¾å™¨
            if (completed !== null && task.completed !== completed) {
                shouldShow = false;
            }
            
            if (category && task.category !== category) {
                shouldShow = false;
            }
            
            // å¸¶å‹•ç•«é¡¯ç¤º/éš±è—
            if (shouldShow) {
                element.style.display = 'block';
                element.style.opacity = '1';
            } else {
                element.style.opacity = '0.3';
                element.style.display = 'none';
            }
        });
    }
    
    setupEventListeners() {
        // è¨­å®šè¡¨å–®æäº¤
        document.addEventListener('submit', (event) => {
            if (event.target.id === 'task-form') {
                event.preventDefault();
                this.handleFormSubmit(event);
            }
        });
        
        // ä½¿ç”¨äº‹ä»¶å§”æ´¾è¨­å®šä»»å‹™äº’å‹•
        document.addEventListener('click', (event) => {
            const action = event.target.dataset.action;
            const taskElement = event.target.closest('.task-item');
            
            if (!taskElement) return;
            
            const taskId = taskElement.dataset.taskId;
            
            switch (action) {
                case 'complete':
                    this.completeTask(taskId);
                    break;
                case 'edit':
                    this.editTask(taskId);
                    break;
                case 'delete':
                    this.deleteTask(taskId);
                    break;
            }
        });
    }
    
    handleFormSubmit(event) {
        const title = document.getElementById('task-title').value;
        const description = document.getElementById('task-description').value;
        const category = document.getElementById('task-category').value;
        
        if (title.trim()) {
            this.addTask(title, description, category);
            event.target.reset(); // æ¸…ç©ºè¡¨å–®
        }
    }
    
    editTask(taskId) {
        // å…§åµŒç·¨è¼¯åŠŸèƒ½
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        const task = this.tasks.find(t => t.id == taskId);
        
        if (!taskElement || !task) return;
        
        const titleElement = taskElement.querySelector('.task-title');
        const descriptionElement = taskElement.querySelector('.task-description');
        
        // ä½¿å…ƒç´ å¯ç·¨è¼¯
        titleElement.contentEditable = true;
        descriptionElement.contentEditable = true;
        titleElement.focus();
        
        // æ–°å¢ç·¨è¼¯æ¨£å¼
        titleElement.classList.add('editing');
        descriptionElement.classList.add('editing');
        
        // è™•ç† Enter éµæˆ–å¤±ç„¦æ™‚å„²å­˜
        const saveEdit = () => {
            task.title = titleElement.textContent.trim();
            task.description = descriptionElement.textContent.trim();
            
            titleElement.contentEditable = false;
            descriptionElement.contentEditable = false;
            titleElement.classList.remove('editing');
            descriptionElement.classList.remove('editing');
            
            console.log(`ä»»å‹™å·²ç·¨è¼¯ï¼š${task.title}`);
        };
        
        titleElement.addEventListener('blur', saveEdit, { once: true });
        titleElement.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                saveEdit();
            }
        }, { once: true });
    }
}

// åˆå§‹åŒ–åŸºæ–¼ DOM çš„ä»»å‹™ç®¡ç†å™¨
const domTaskManager = new TaskDOMManager();

// æ–°å¢ä¸€äº›ç¯„ä¾‹ä»»å‹™
domTaskManager.addTask("å­¸ç¿’ DOM æ“ä½œ", "æŒæ¡ JavaScript DOM API", "æ•™è‚²");
domTaskManager.addTask("å»ºç½®äº’å‹•å¼ä»‹é¢", "å»ºç«‹å‹•æ…‹ä½¿ç”¨è€…ä»‹é¢", "å°ˆæ¡ˆ");
domTaskManager.addTask("è™•ç†ä½¿ç”¨è€…äº‹ä»¶", "å¯¦ä½œäº‹ä»¶ç›£è½å™¨", "æ•™è‚²");

// JavaScript DOM ç‰¹å¾µï¼š
// 1. è¦–è¦ºå’Œè³‡æ–™è¡¨ç¤ºçµåˆ
// 2. ä½¿ç”¨è€…ä»‹é¢å³æ™‚æ›´æ–°
// 3. äº‹ä»¶é©…å‹•çš„ä½¿ç”¨è€…äº’å‹•
// 4. å‹•ç•«å’Œè¦–è¦ºå›é¥‹
console.log("JavaScriptï¼šDOM æ“ä½œå¸¶æœ‰è¦–è¦ºå›é¥‹å’Œå³æ™‚æ›´æ–°");
```
</PythonEditor>

## äº‹ä»¶é©…å‹•çš„ä½¿ç”¨è€…äº’å‹•

### å¾å‡½æ•¸å‘¼å«åˆ°äº‹ä»¶è™•ç†å™¨

<PythonEditor title="ä½¿ç”¨è€…äº’å‹•æ¨¡å¼" compare={true}>
```python !! py
# Pythonï¼šåŸºæ–¼å‡½æ•¸çš„äº’å‹•ï¼ˆCLI/ç¨‹å¼åŒ–ï¼‰
import cmd
import sys
from datetime import datetime

class TaskCLI(cmd.Cmd):
    """
    Python æ–¹å¼ï¼šæŒ‡ä»¤è¡Œä»‹é¢
    - é †åºæŒ‡ä»¤è™•ç†
    - åŸºæ–¼æ–‡å­—çš„ä½¿ç”¨è€…äº’å‹•
    - ç„¡ä¸¦è¡Œä½¿ç”¨è€…æ“ä½œ
    """
    
    intro = 'æ­¡è¿ä½¿ç”¨ä»»å‹™ç®¡ç†å™¨ CLIã€‚è¼¸å…¥ help æˆ– ? æª¢è¦–æŒ‡ä»¤æ¸…å–®ã€‚\n'
    prompt = '(ä»»å‹™) '
    
    def __init__(self):
        super().__init__()
        self.tasks = []
        self.current_id = 1
    
    def do_add(self, line):
        """æ–°å¢æ–°ä»»å‹™ï¼šadd <æ¨™é¡Œ> | <æè¿°>"""
        try:
            parts = line.split(' | ')
            title = parts[0].strip()
            description = parts[1].strip() if len(parts) > 1 else ""
            
            task = {
                'id': self.current_id,
                'title': title,
                'description': description,
                'completed': False,
                'created': datetime.now()
            }
            
            self.tasks.append(task)
            self.current_id += 1
            print(f"ä»»å‹™å·²æ–°å¢ï¼š{title}")
            
        except Exception as e:
            print(f"éŒ¯èª¤ï¼š{e}")
    
    def do_list(self, line):
        """åˆ—å‡ºæ‰€æœ‰ä»»å‹™"""
        if not self.tasks:
            print("æœªæ‰¾åˆ°ä»»å‹™ã€‚")
            return
        
        print("\n=== ä»»å‹™æ¸…å–® ===")
        for task in self.tasks:
            status = "âœ“" if task['completed'] else "â—‹"
            print(f"{task['id']}. {status} {task['title']}")
            if task['description']:
                print(f"   {task['description']}")
        print("===============\n")
    
    def do_complete(self, line):
        """æ¨™è¨˜ä»»å‹™ç‚ºå·²å®Œæˆï¼šcomplete <id>"""
        try:
            task_id = int(line.strip())
            task = next((t for t in self.tasks if t['id'] == task_id), None)
            
            if task:
                task['completed'] = True
                print(f"ä»»å‹™å·²å®Œæˆï¼š{task['title']}")
            else:
                print(f"æœªæ‰¾åˆ°ä»»å‹™ {task_id}ã€‚")
                
        except ValueError:
            print("è«‹æä¾›æœ‰æ•ˆçš„ä»»å‹™ IDã€‚")
    
    def do_delete(self, line):
        """åˆªé™¤ä»»å‹™ï¼šdelete <id>"""
        try:
            task_id = int(line.strip())
            task = next((t for t in self.tasks if t['id'] == task_id), None)
            
            if task:
                self.tasks.remove(task)
                print(f"ä»»å‹™å·²åˆªé™¤ï¼š{task['title']}")
            else:
                print(f"æœªæ‰¾åˆ°ä»»å‹™ {task_id}ã€‚")
                
        except ValueError:
            print("è«‹æä¾›æœ‰æ•ˆçš„ä»»å‹™ IDã€‚")
    
    def do_quit(self, line):
        """é€€å‡ºç¨‹å¼"""
        print("å†è¦‹ï¼")
        return True
    
    def do_EOF(self, line):
        """è™•ç† Ctrl+D"""
        return self.do_quit(line)

# Python CLI ç”¨æ³•
if __name__ == "__main__":
    print("Python CLI ä»»å‹™ç®¡ç†å™¨ï¼š")
    print("- é †åºæŒ‡ä»¤è™•ç†")
    print("- åŸºæ–¼æ–‡å­—çš„äº’å‹•")
    print("- å–®åŸ·è¡Œç·’åŸ·è¡Œ")
    
    # é€™å°‡å•Ÿå‹• CLI è¿´åœˆ
    # TaskCLI().cmdloop()
    
    # æ¨¡æ“¬äº’å‹•
    cli = TaskCLI()
    print("\næ¨¡æ“¬ CLI æŒ‡ä»¤ï¼š")
    cli.do_add("å­¸ç¿’ Python | æŒæ¡å¾Œç«¯é–‹ç™¼")
    cli.do_add("å»ºç½® API | å»ºç«‹ REST API")
    cli.do_list("")
    cli.do_complete("1")
    cli.do_list("")
```

```javascript !! js
// JavaScriptï¼šäº‹ä»¶é©…å‹•ä½¿ç”¨è€…ä»‹é¢
// å¤šå€‹ä¸¦è¡Œä½¿ç”¨è€…äº’å‹•

class InteractiveTaskManager {
    /**
     * JavaScript æ–¹å¼ï¼šäº‹ä»¶é©…å‹•ä»‹é¢
     * - å¤šå€‹åŒæ™‚çš„ä½¿ç”¨è€…äº’å‹•
     * - æ‰€æœ‰æ“ä½œçš„è¦–è¦ºå›é¥‹
     * - éåŒæ­¥äº‹ä»¶è™•ç†
     */
    
    constructor() {
        this.tasks = [];
        this.currentId = 1;
        this.isEditing = false;
        this.setupInterface();
        this.setupEventListeners();
        this.setupKeyboardShortcuts();
    }
    
    setupInterface() {
        // å»ºç«‹è±å¯Œçš„äº’å‹•å¼ä»‹é¢
        document.body.innerHTML = `
            <div class="task-app">
                <header class="app-header">
                    <h1>äº’å‹•å¼ä»»å‹™ç®¡ç†å™¨</h1>
                    <div class="quick-stats">
                        <span id="total-tasks">0 å€‹ä»»å‹™</span>
                        <span id="completed-tasks">0 å€‹å·²å®Œæˆ</span>
                    </div>
                </header>
                
                <div class="add-task-section">
                    <form id="task-form" class="task-form">
                        <input type="text" id="task-title" placeholder="éœ€è¦åšä»€éº¼ï¼Ÿ" autocomplete="off">
                        <input type="text" id="task-description" placeholder="æ–°å¢æè¿°ï¼ˆå¯é¸ï¼‰" autocomplete="off">
                        <button type="submit" class="add-btn">æ–°å¢ä»»å‹™</button>
                    </form>
                </div>
                
                <div class="filter-section">
                    <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
                    <button class="filter-btn" data-filter="pending">å¾…è¾¦</button>
                    <button class="filter-btn" data-filter="completed">å·²å®Œæˆ</button>
                </div>
                
                <div id="tasks-container" class="tasks-container">
                    <div class="empty-state">
                        <p>é‚„æ²’æœ‰ä»»å‹™ã€‚åœ¨ä¸Šé¢æ–°å¢ä¸€å€‹å§ï¼</p>
                    </div>
                </div>
                
                <div class="bulk-actions">
                    <button id="select-all-btn">å…¨é¸</button>
                    <button id="complete-selected-btn">å®Œæˆé¸ä¸­</button>
                    <button id="delete-selected-btn">åˆªé™¤é¸ä¸­</button>
                </div>
            </div>
        `;
        
        // æ–°å¢äº’å‹•æ€§çš„ CSS æ¨£å¼
        this.addStyles();
    }
    
    setupEventListeners() {
        // è¡¨å–®æäº¤ - å–®å€‹ä»»å‹™æ–°å¢
        document.getElementById('task-form').addEventListener('submit', (e) => {
            e.preventDefault();
            this.handleTaskSubmission();
        });
        
        // å³æ™‚è¼¸å…¥é©—è­‰
        document.getElementById('task-title').addEventListener('input', (e) => {
            this.validateInput(e.target);
        });
        
        // éæ¿¾æŒ‰éˆ•
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.handleFilterChange(e.target.dataset.filter);
            });
        });
        
        // æ‰¹æ¬¡æ“ä½œ
        document.getElementById('select-all-btn').addEventListener('click', () => {
            this.selectAllTasks();
        });
        
        document.getElementById('complete-selected-btn').addEventListener('click', () => {
            this.completeSelectedTasks();
        });
        
        document.getElementById('delete-selected-btn').addEventListener('click', () => {
            this.deleteSelectedTasks();
        });
        
        // å‹•æ…‹ä»»å‹™å…ƒç´ çš„äº‹ä»¶å§”æ´¾
        document.getElementById('tasks-container').addEventListener('click', (e) => {
            this.handleTaskInteraction(e);
        });
        
        // é›™æ“Šç·¨è¼¯ï¼ˆæŒ‰éˆ•çš„æ›¿ä»£æ–¹å¼ï¼‰
        document.getElementById('tasks-container').addEventListener('dblclick', (e) => {
            if (e.target.classList.contains('task-title')) {
                this.enableInlineEditing(e.target);
            }
        });
        
        // æ‹–æ”¾é‡æ–°æ’åº
        document.getElementById('tasks-container').addEventListener('dragstart', (e) => {
            this.handleDragStart(e);
        });
        
        document.getElementById('tasks-container').addEventListener('dragover', (e) => {
            this.handleDragOver(e);
        });
        
        document.getElementById('tasks-container').addEventListener('drop', (e) => {
            this.handleDrop(e);
        });
    }
    
    setupKeyboardShortcuts() {
        // å…¨åŸŸéµç›¤å¿«é€Ÿéµ
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + Enterï¼šå¿«é€Ÿæ–°å¢ä»»å‹™
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                document.getElementById('task-title').focus();
            }
            
            // Escapeï¼šå–æ¶ˆç›®å‰æ“ä½œ
            if (e.key === 'Escape') {
                this.cancelCurrentOperation();
            }
            
            // Delete éµï¼šåˆªé™¤é¸ä¸­çš„ä»»å‹™
            if (e.key === 'Delete' && !this.isEditing) {
                this.deleteSelectedTasks();
            }
            
            // Ctrl/Cmd + Aï¼šå…¨é¸ä»»å‹™
            if ((e.ctrlKey || e.metaKey) && e.key === 'a' && !this.isEditing) {
                e.preventDefault();
                this.selectAllTasks();
            }
        });
    }
    
    handleTaskSubmission() {
        const titleInput = document.getElementById('task-title');
        const descriptionInput = document.getElementById('task-description');
        
        const title = titleInput.value.trim();
        const description = descriptionInput.value.trim();
        
        if (title) {
            this.addTask(title, description);
            titleInput.value = '';
            descriptionInput.value = '';
            titleInput.focus();
        }
    }
    
    addTask(title, description = '') {
        const task = {
            id: this.currentId++,
            title: title,
            description: description,
            completed: false,
            selected: false,
            createdAt: new Date(),
            order: this.tasks.length
        };
        
        this.tasks.push(task);
        this.renderTask(task);
        this.updateStats();
        this.updateEmptyState();
        
        // é¡¯ç¤ºæˆåŠŸå›é¥‹
        this.showNotification(`ä»»å‹™"${title}"æ–°å¢æˆåŠŸï¼`, 'success');
        
        console.log(`ä»»å‹™å·²æ–°å¢ï¼š${title}`);
    }
    
    renderTask(task) {
        const tasksContainer = document.getElementById('tasks-container');
        
        const taskElement = document.createElement('div');
        taskElement.className = `task-item ${task.completed ? 'completed' : ''}`;
        taskElement.dataset.taskId = task.id;
        taskElement.draggable = true;
        
        taskElement.innerHTML = `
            <div class="task-content">
                <input type="checkbox" class="task-checkbox" ${task.selected ? 'checked' : ''}>
                <div class="task-info">
                    <h3 class="task-title" contenteditable="false">${task.title}</h3>
                    ${task.description ? `<p class="task-description">${task.description}</p>` : ''}
                </div>
                <div class="task-actions">
                    <button class="complete-btn" data-action="toggle-complete" title="åˆ‡æ›å®Œæˆç‹€æ…‹">
                        ${task.completed ? 'âœ“' : 'â—‹'}
                    </button>
                    <button class="edit-btn" data-action="edit" title="ç·¨è¼¯ä»»å‹™">âœ</button>
                    <button class="delete-btn" data-action="delete" title="åˆªé™¤ä»»å‹™">ğŸ—‘</button>
                </div>
            </div>
        `;
        
        // æ–°å¢å‹•ç•«
        taskElement.style.opacity = '0';
        taskElement.style.transform = 'translateY(-20px)';
        tasksContainer.appendChild(taskElement);
        
        // è§¸ç™¼å‹•ç•«
        requestAnimationFrame(() => {
            taskElement.style.transition = 'all 0.3s ease';
            taskElement.style.opacity = '1';
            taskElement.style.transform = 'translateY(0)';
        });
    }
    
    handleTaskInteraction(event) {
        const taskElement = event.target.closest('.task-item');
        if (!taskElement) return;
        
        const taskId = parseInt(taskElement.dataset.taskId);
        const action = event.target.dataset.action;
        
        switch (action) {
            case 'toggle-complete':
                this.toggleTaskCompletion(taskId);
                break;
            case 'edit':
                this.enableInlineEditing(taskElement.querySelector('.task-title'));
                break;
            case 'delete':
                this.deleteTask(taskId);
                break;
        }
        
        // è™•ç†æ ¸å–æ–¹å¡Šé¸æ“‡
        if (event.target.type === 'checkbox') {
            this.toggleTaskSelection(taskId);
        }
    }
    
    toggleTaskCompletion(taskId) {
        const task = this.tasks.find(t => t.id === taskId);
        if (!task) return;
        
        task.completed = !task.completed;
        
        const taskElement = document.querySelector(`[data-task-id="${taskId}"]`);
        taskElement.classList.toggle('completed', task.completed);
        
        const completeBtn = taskElement.querySelector('.complete-btn');
        completeBtn.textContent = task.completed ? 'âœ“' : 'â—‹';
        
        // å‹•ç•«å›é¥‹
        taskElement.style.transform = 'scale(1.05)';
        setTimeout(() => {
            taskElement.style.transform = 'scale(1)';
        }, 150);
        
        this.updateStats();
        this.showNotification(
            `ä»»å‹™"${task.title}"${task.completed ? 'å·²å®Œæˆ' : 'å·²é‡æ–°é–‹å•Ÿ'}ï¼`,
            task.completed ? 'success' : 'info'
        );
    }
    
    enableInlineEditing(titleElement) {
        if (this.isEditing) return;
        
        this.isEditing = true;
        const originalTitle = titleElement.textContent;
        
        titleElement.contentEditable = true;
        titleElement.classList.add('editing');
        titleElement.focus();
        
        // é¸æ“‡æ‰€æœ‰æ–‡å­—
        const range = document.createRange();
        range.selectNodeContents(titleElement);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        
        const saveEdit = () => {
            const newTitle = titleElement.textContent.trim();
            if (newTitle && newTitle !== originalTitle) {
                const taskId = parseInt(titleElement.closest('.task-item').dataset.taskId);
                const task = this.tasks.find(t => t.id === taskId);
                if (task) {
                    task.title = newTitle;
                    this.showNotification('ä»»å‹™æ›´æ–°æˆåŠŸï¼', 'success');
                }
            } else if (!newTitle) {
                titleElement.textContent = originalTitle;
            }
            
            titleElement.contentEditable = false;
            titleElement.classList.remove('editing');
            this.isEditing = false;
        };
        
        const cancelEdit = () => {
            titleElement.textContent = originalTitle;
            titleElement.contentEditable = false;
            titleElement.classList.remove('editing');
            this.isEditing = false;
        };
        
        // Enter éµå„²å­˜ï¼ŒEscape éµå–æ¶ˆ
        titleElement.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                saveEdit();
            } else if (e.key === 'Escape') {
                e.preventDefault();
                cancelEdit();
            }
        });
        
        // å¤±ç„¦æ™‚å„²å­˜
        titleElement.addEventListener('blur', saveEdit, { once: true });
    }
    
    handleFilterChange(filter) {
        // æ›´æ–°æ´»å‹•éæ¿¾æŒ‰éˆ•
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
        
        // éæ¿¾ä»»å‹™
        document.querySelectorAll('.task-item').forEach(taskElement => {
            const taskId = parseInt(taskElement.dataset.taskId);
            const task = this.tasks.find(t => t.id === taskId);
            
            let shouldShow = true;
            
            switch (filter) {
                case 'pending':
                    shouldShow = !task.completed;
                    break;
                case 'completed':
                    shouldShow = task.completed;
                    break;
                case 'all':
                default:
                    shouldShow = true;
                    break;
            }
            
            taskElement.style.display = shouldShow ? 'block' : 'none';
        });
    }
    
    updateStats() {
        const total = this.tasks.length;
        const completed = this.tasks.filter(t => t.completed).length;
        
        document.getElementById('total-tasks').textContent = `${total} å€‹ä»»å‹™`;
        document.getElementById('completed-tasks').textContent = `${completed} å€‹å·²å®Œæˆ`;
    }
    
    updateEmptyState() {
        const emptyState = document.querySelector('.empty-state');
        const hasTasks = this.tasks.length > 0;
        emptyState.style.display = hasTasks ? 'none' : 'block';
    }
    
    showNotification(message, type = 'info') {
        // å»ºç«‹ä¸¦é¡¯ç¤ºé€šçŸ¥
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        // 3ç§’å¾Œè‡ªå‹•ç§»é™¤
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .task-app { max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif; }
            .app-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
            .quick-stats span { margin-left: 20px; color: #666; }
            .task-form { display: flex; gap: 10px; margin-bottom: 20px; }
            .task-form input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
            .add-btn { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
            .filter-section { display: flex; gap: 10px; margin-bottom: 20px; }
            .filter-btn { padding: 8px 16px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 4px; }
            .filter-btn.active { background: #007bff; color: white; }
            .task-item { background: white; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 10px; padding: 15px; transition: all 0.3s ease; }
            .task-item.completed { opacity: 0.7; }
            .task-content { display: flex; align-items: center; gap: 15px; }
            .task-info { flex: 1; }
            .task-title { margin: 0; cursor: text; }
            .task-title.editing { background: #f9f9f9; padding: 5px; border-radius: 3px; }
            .task-actions { display: flex; gap: 5px; }
            .task-actions button { background: none; border: none; cursor: pointer; padding: 5px; border-radius: 3px; }
            .task-actions button:hover { background: #f0f0f0; }
            .empty-state { text-align: center; color: #666; padding: 40px; }
            .bulk-actions { margin-top: 20px; display: flex; gap: 10px; }
            .bulk-actions button { padding: 8px 16px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 4px; }
            .notification { position: fixed; top: 20px; right: 20px; padding: 15px; border-radius: 4px; color: white; z-index: 1000; }
            .notification.success { background: #28a745; }
            .notification.info { background: #17a2b8; }
            .notification.error { background: #dc3545; }
        `;
        document.head.appendChild(style);
    }
}

// åˆå§‹åŒ–äº’å‹•å¼ä»»å‹™ç®¡ç†å™¨
const interactiveTaskManager = new InteractiveTaskManager();

// æ–°å¢ä¸€äº›ç¯„ä¾‹ä»»å‹™
interactiveTaskManager.addTask("å­¸ç¿’ DOM äº‹ä»¶", "æŒæ¡ JavaScript äº‹ä»¶è™•ç†");
interactiveTaskManager.addTask("å»ºç½®äº’å‹•å¼ä»‹é¢", "å»ºç«‹éŸ¿æ‡‰å¼ä½¿ç”¨è€…ä»‹é¢");
interactiveTaskManager.addTask("è™•ç†ä½¿ç”¨è€…è¼¸å…¥", "è™•ç†è¡¨å–®å’Œä½¿ç”¨è€…äº’å‹•");

// JavaScript äº‹ä»¶é©…å‹•ç‰¹å¾µï¼š
// 1. å¤šå€‹ä¸¦è¡Œä½¿ç”¨è€…äº’å‹•
// 2. å³æ™‚è¦–è¦ºå›é¥‹
// 3. éåŒæ­¥äº‹ä»¶è™•ç†
// 4. è±å¯Œçš„ä½¿ç”¨è€…ä»‹é¢å…ƒç´ 
console.log("JavaScriptï¼šäº‹ä»¶é©…å‹•ä»‹é¢ï¼Œå…·æœ‰å³æ™‚äº’å‹•å’Œè¦–è¦ºå›é¥‹");
```
</PythonEditor>

## ç¸½çµå’Œé—œéµè¦é»

DOM æ“ä½œå’Œäº‹ä»¶è™•ç†æ˜¯å»ºç«‹äº’å‹•å¼ Web æ‡‰ç”¨ç¨‹å¼çš„åŸºæœ¬æŠ€èƒ½ï¼š

### ğŸ”„ **æ ¸å¿ƒæ¦‚å¿µ**
- **DOM ä½œç‚ºè³‡æ–™çµæ§‹**ï¼šDOM æ˜¯ä¸€å€‹æ´»å‹•çš„ã€å¯è¦–åŒ–çš„è³‡æ–™çµæ§‹ï¼Œä½ å¯ä»¥åƒæ“ä½œ Python ä¸²åˆ—å’Œå­—å…¸ä¸€æ¨£æ“ä½œå®ƒ
- **äº‹ä»¶é©…å‹•ç¨‹å¼è¨­è¨ˆ**ï¼šä½¿ç”¨è€…äº’å‹•è§¸ç™¼éåŒæ­¥åŸ·è¡Œç¨‹å¼ç¢¼çš„äº‹ä»¶
- **è¦–è¦ºå›é¥‹**ï¼šæ¯å€‹è³‡æ–™æ›´æ”¹éƒ½å¯ä»¥ç«‹å³åæ˜ åœ¨ä½¿ç”¨è€…ä»‹é¢ä¸­

### ğŸ›  **åŸºæœ¬æŠ€è¡“**
- **å…ƒç´ å»ºç«‹å’Œæ“ä½œ**ï¼šç¨‹å¼åŒ–å»ºç«‹å’Œä¿®æ”¹ HTML å…ƒç´ 
- **äº‹ä»¶ç›£è½å™¨**ï¼šå›æ‡‰ä½¿ç”¨è€…æ“ä½œï¼Œå¦‚é»æ“Šã€éµç›¤è¼¸å…¥å’Œè¡¨å–®æäº¤
- **äº‹ä»¶å§”æ´¾**ï¼šä½¿ç”¨äº‹ä»¶å†’æ³¡æœ‰æ•ˆè™•ç†å‹•æ…‹å…§å®¹çš„äº‹ä»¶

### ğŸ“± **ä½¿ç”¨è€…é«”é©—å¢å¼·**
- **å³æ™‚æ›´æ–°**ï¼šç‚ºä½¿ç”¨è€…æ“ä½œæä¾›å³æ™‚å›é¥‹
- **äº’å‹•å¼å…ƒç´ **ï¼šå»ºç«‹å…·æœ‰å‹•ç•«å’Œéæ¸¡æ•ˆæœçš„å¼•äººå…¥å‹çš„ä»‹é¢
- **ç„¡éšœç¤™æ€§**ï¼šç¢ºä¿ä½ çš„ä»‹é¢é©ç”¨æ–¼æ‰€æœ‰ä½¿ç”¨è€…ï¼Œæä¾›é©ç•¶çš„éµç›¤æ”¯æ´

åœ¨ä¸‹ä¸€å€‹æ¨¡çµ„ä¸­ï¼Œæˆ‘å€‘å°‡æ¢ç´¢ Web æ¡†æ¶ï¼Œä»¥åŠå®ƒå€‘å¦‚ä½•ç°¡åŒ–å»ºç½®è¤‡é›œäº’å‹•å¼æ‡‰ç”¨ç¨‹å¼çš„éç¨‹ï¼ŒåŒæ™‚ä¿æŒä½ åœ¨é€™è£¡å­¸åˆ°çš„æ ¸å¿ƒåŸå‰‡ã€‚
