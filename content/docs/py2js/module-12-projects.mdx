---
title: Practical Projects & Applications
description: Build real-world JavaScript applications from a Python developer's perspective, including full-stack projects, APIs, and component libraries
---

# Module 12: Practical Projects & Applications

## Learning Objectives

By the end of this module, you will:
- Build a complete full-stack web application
- Create and consume REST APIs in JavaScript
- Develop a reusable component library
- Build a CLI tool with Node.js
- Implement performance optimization strategies
- Apply all learned concepts in practical scenarios

## Project 1: Full-Stack Task Manager

### Project Overview

Let's build a task management application that mirrors what you might create with Django + React or Flask + Vue.js, but using modern JavaScript for both frontend and backend.

<PythonEditor title="Full-Stack Task Manager Architecture" compare={true}>
```python !! py
# Python equivalent architecture
# Backend: Django/Flask + PostgreSQL
# Frontend: React/Vue served separately
# API: Django REST Framework / Flask-RESTful

# Django backend structure
# myproject/
# ├── manage.py
# ├── myproject/
# │   ├── settings.py
# │   ├── urls.py
# │   └── wsgi.py
# ├── tasks/
# │   ├── models.py
# │   ├── views.py
# │   ├── serializers.py
# │   └── urls.py
# └── requirements.txt

# Django models.py
from django.db import models
from django.contrib.auth.models import User

class Task(models.Model):
    PRIORITY_CHOICES = [
        ('low', 'Low'),
        ('medium', 'Medium'),
        ('high', 'High')
    ]
    
    title = models.CharField(max_length=200)
    description = models.TextField(blank=True)
    priority = models.CharField(max_length=10, choices=PRIORITY_CHOICES)
    completed = models.BooleanField(default=False)
    due_date = models.DateTimeField(null=True, blank=True)
    created_at = models.DateTimeField(auto_now_add=True)
    user = models.ForeignKey(User, on_delete=models.CASCADE)

# Django views.py
from rest_framework import viewsets
from rest_framework.permissions import IsAuthenticated
from .models import Task
from .serializers import TaskSerializer

class TaskViewSet(viewsets.ModelViewSet):
    serializer_class = TaskSerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self):
        return Task.objects.filter(user=self.request.user)
```

```javascript !! js
// JavaScript equivalent: Node.js + Express + PostgreSQL
// Project structure:
// task-manager/
// ├── package.json
// ├── server/
// │   ├── app.js
// │   ├── models/
// │   ├── routes/
// │   ├── middleware/
// │   └── config/
// ├── client/
// │   ├── src/
// │   ├── public/
// │   └── package.json
// └── shared/

// Backend: Express.js with Sequelize ORM
// server/models/Task.js
const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');

const Task = sequelize.define('Task', {
    id: {
        type: DataTypes.UUID,
        defaultValue: DataTypes.UUIDV4,
        primaryKey: true
    },
    title: {
        type: DataTypes.STRING,
        allowNull: false,
        validate: {
            len: [1, 200]
        }
    },
    description: {
        type: DataTypes.TEXT,
        allowNull: true
    },
    priority: {
        type: DataTypes.ENUM('low', 'medium', 'high'),
        defaultValue: 'medium'
    },
    completed: {
        type: DataTypes.BOOLEAN,
        defaultValue: false
    },
    dueDate: {
        type: DataTypes.DATE,
        allowNull: true
    },
    userId: {
        type: DataTypes.UUID,
        allowNull: false,
        references: {
            model: 'Users',
            key: 'id'
        }
    }
}, {
    timestamps: true,
    underscored: true
});

module.exports = Task;

// server/routes/tasks.js
const express = require('express');
const router = express.Router();
const { Task } = require('../models');
const { authenticate } = require('../middleware/auth');

// GET /api/tasks
router.get('/', authenticate, async (req, res) => {
    try {
        const tasks = await Task.findAll({
            where: { userId: req.user.id },
            order: [['createdAt', 'DESC']]
        });
        res.json(tasks);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// POST /api/tasks
router.post('/', authenticate, async (req, res) => {
    try {
        const task = await Task.create({
            ...req.body,
            userId: req.user.id
        });
        res.status(201).json(task);
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});

// PUT /api/tasks/:id
router.put('/:id', authenticate, async (req, res) => {
    try {
        const task = await Task.findOne({
            where: { id: req.params.id, userId: req.user.id }
        });
        
        if (!task) {
            return res.status(404).json({ error: 'Task not found' });
        }
        
        await task.update(req.body);
        res.json(task);
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});

// DELETE /api/tasks/:id
router.delete('/:id', authenticate, async (req, res) => {
    try {
        const task = await Task.findOne({
            where: { id: req.params.id, userId: req.user.id }
        });
        
        if (!task) {
            return res.status(404).json({ error: 'Task not found' });
        }
        
        await task.destroy();
        res.status(204).send();
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

module.exports = router;
```
</PythonEditor>

### Frontend Implementation

<PythonEditor title="Frontend Task Manager" compare={true}>
```python !! py
# Python developers typically use templates or separate React app
# Django templates with HTMX or separate React/Vue frontend

# Django template approach (tasks/templates/tasks/list.html)
{% extends 'base.html' %}
{% block content %}
<div id="task-list">
    {% for task in tasks %}
    <div class="task-item" data-task-id="{{ task.id }}">
        <h3>{{ task.title }}</h3>
        <p>{{ task.description }}</p>
        <span class="priority-{{ task.priority }}">{{ task.get_priority_display }}</span>
        {% if task.completed %}
            <span class="completed">✓</span>
        {% endif %}
    </div>
    {% endfor %}
</div>

<script>
// Basic JavaScript for interactivity
document.addEventListener('DOMContentLoaded', function() {
    const taskItems = document.querySelectorAll('.task-item');
    taskItems.forEach(item => {
        item.addEventListener('click', function() {
            const taskId = this.dataset.taskId;
            // Handle task interaction
        });
    });
});
</script>
{% endblock %}

# React component approach (separate frontend)
# components/TaskList.jsx
import React, { useState, useEffect } from 'react';
import axios from 'axios';

function TaskList() {
    const [tasks, setTasks] = useState([]);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        fetchTasks();
    }, []);

    const fetchTasks = async () => {
        try {
            const response = await axios.get('/api/tasks/');
            setTasks(response.data);
        } catch (error) {
            console.error('Error fetching tasks:', error);
        } finally {
            setLoading(false);
        }
    };

    if (loading) return <div>Loading...</div>;

    return (
        <div className="task-list">
            {tasks.map(task => (
                <TaskItem key={task.id} task={task} onUpdate={fetchTasks} />
            ))}
        </div>
    );
}
```

```javascript !! js
// Modern React with hooks and context
// client/src/components/TaskManager.jsx
import React, { useState, useEffect, createContext, useContext } from 'react';
import { TaskAPI } from '../services/api';

// Context for state management
const TaskContext = createContext();

export const TaskProvider = ({ children }) => {
    const [tasks, setTasks] = useState([]);
    const [loading, setLoading] = useState(false);
    const [error, setError] = useState(null);

    const fetchTasks = async () => {
        setLoading(true);
        try {
            const tasks = await TaskAPI.getTasks();
            setTasks(tasks);
            setError(null);
        } catch (err) {
            setError(err.message);
        } finally {
            setLoading(false);
        }
    };

    const createTask = async (taskData) => {
        try {
            const newTask = await TaskAPI.createTask(taskData);
            setTasks(prev => [newTask, ...prev]);
            return newTask;
        } catch (err) {
            setError(err.message);
            throw err;
        }
    };

    const updateTask = async (id, updates) => {
        try {
            const updatedTask = await TaskAPI.updateTask(id, updates);
            setTasks(prev => prev.map(task => 
                task.id === id ? updatedTask : task
            ));
            return updatedTask;
        } catch (err) {
            setError(err.message);
            throw err;
        }
    };

    const deleteTask = async (id) => {
        try {
            await TaskAPI.deleteTask(id);
            setTasks(prev => prev.filter(task => task.id !== id));
        } catch (err) {
            setError(err.message);
            throw err;
        }
    };

    return (
        <TaskContext.Provider value={{
            tasks,
            loading,
            error,
            fetchTasks,
            createTask,
            updateTask,
            deleteTask
        }}>
            {children}
        </TaskContext.Provider>
    );
};

export const useTasks = () => {
    const context = useContext(TaskContext);
    if (!context) {
        throw new Error('useTasks must be used within TaskProvider');
    }
    return context;
};

// Task List Component
export const TaskList = () => {
    const { tasks, loading, error, fetchTasks } = useTasks();

    useEffect(() => {
        fetchTasks();
    }, []);

    if (loading) {
        return (
            <div className="flex justify-center items-center h-64">
                <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"></div>
            </div>
        );
    }

    if (error) {
        return (
            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                Error: {error}
            </div>
        );
    }

    return (
        <div className="space-y-4">
            {tasks.length === 0 ? (
                <div className="text-center text-gray-500 py-8">
                    No tasks yet. Create your first task!
                </div>
            ) : (
                tasks.map(task => (
                    <TaskCard key={task.id} task={task} />
                ))
            )}
        </div>
    );
};

// Task Card Component
const TaskCard = ({ task }) => {
    const { updateTask, deleteTask } = useTasks();
    const [isEditing, setIsEditing] = useState(false);

    const handleToggleComplete = async () => {
        await updateTask(task.id, { completed: !task.completed });
    };

    const handleDelete = async () => {
        if (window.confirm('Are you sure you want to delete this task?')) {
            await deleteTask(task.id);
        }
    };

    const priorityColors = {
        low: 'bg-green-100 text-green-800',
        medium: 'bg-yellow-100 text-yellow-800',
        high: 'bg-red-100 text-red-800'
    };

    return (
        <div className={`bg-white rounded-lg shadow-md p-6 border-l-4 ${
            task.completed ? 'border-green-500 opacity-75' : 'border-blue-500'
        }`}>
            <div className="flex items-start justify-between">
                <div className="flex-1">
                    <div className="flex items-center space-x-2">
                        <input
                            type="checkbox"
                            checked={task.completed}
                            onChange={handleToggleComplete}
                            className="h-5 w-5 text-blue-600"
                        />
                        <h3 className={`text-lg font-semibold ${
                            task.completed ? 'line-through text-gray-500' : 'text-gray-900'
                        }`}>
                            {task.title}
                        </h3>
                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${
                            priorityColors[task.priority]
                        }`}>
                            {task.priority}
                        </span>
                    </div>
                    
                    {task.description && (
                        <p className="mt-2 text-gray-600">{task.description}</p>
                    )}
                    
                    {task.dueDate && (
                        <p className="mt-2 text-sm text-gray-500">
                            Due: {new Date(task.dueDate).toLocaleDateString()}
                        </p>
                    )}
                </div>
                
                <div className="flex space-x-2">
                    <button
                        onClick={() => setIsEditing(true)}
                        className="text-blue-600 hover:text-blue-800"
                    >
                        Edit
                    </button>
                    <button
                        onClick={handleDelete}
                        className="text-red-600 hover:text-red-800"
                    >
                        Delete
                    </button>
                </div>
            </div>
        </div>
    );
};

// API Service
// client/src/services/api.js
class TaskAPI {
    static baseURL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';

    static async request(endpoint, options = {}) {
        const token = localStorage.getItem('authToken');
        
        const config = {
            headers: {
                'Content-Type': 'application/json',
                ...(token && { Authorization: `Bearer ${token}` })
            },
            ...options
        };

        const response = await fetch(`${this.baseURL}${endpoint}`, config);
        
        if (!response.ok) {
            const error = await response.json().catch(() => ({ message: 'An error occurred' }));
            throw new Error(error.message || 'Request failed');
        }

        return response.json();
    }

    static getTasks() {
        return this.request('/tasks');
    }

    static createTask(task) {
        return this.request('/tasks', {
            method: 'POST',
            body: JSON.stringify(task)
        });
    }

    static updateTask(id, updates) {
        return this.request(`/tasks/${id}`, {
            method: 'PUT',
            body: JSON.stringify(updates)
        });
    }

    static deleteTask(id) {
        return this.request(`/tasks/${id}`, {
            method: 'DELETE'
        });
    }
}

export { TaskAPI };
```
</PythonEditor>

## Project 2: API Integration Dashboard

### Building a Data Dashboard

<PythonEditor title="API Integration Dashboard" compare={true}>
```python !! py
# Python approach: Django/Flask with external API integration
# views.py
import requests
from django.http import JsonResponse
from django.views import View
from django.utils.decorators import method_decorator
from django.views.decorators.cache import cache_page

class DashboardAPI(View):
    @method_decorator(cache_page(60 * 15))  # Cache for 15 minutes
    def get(self, request):
        try:
            # Fetch data from multiple APIs
            weather_data = self.get_weather_data()
            stock_data = self.get_stock_data()
            news_data = self.get_news_data()
            
            return JsonResponse({
                'weather': weather_data,
                'stocks': stock_data,
                'news': news_data
            })
        except Exception as e:
            return JsonResponse({'error': str(e)}, status=500)
    
    def get_weather_data(self):
        api_key = settings.WEATHER_API_KEY
        response = requests.get(
            f'https://api.openweathermap.org/data/2.5/weather',
            params={'q': 'London', 'appid': api_key}
        )
        response.raise_for_status()
        return response.json()
    
    def get_stock_data(self):
        response = requests.get(
            'https://api.twelvedata.com/time_series',
            params={
                'symbol': 'AAPL',
                'interval': '1day',
                'apikey': settings.STOCK_API_KEY
            }
        )
        response.raise_for_status()
        return response.json()

# Python async approach with aiohttp
import aiohttp
import asyncio

async def get_dashboard_data():
    async with aiohttp.ClientSession() as session:
        tasks = [
            fetch_weather(session),
            fetch_stocks(session),
            fetch_news(session)
        ]
        weather, stocks, news = await asyncio.gather(*tasks)
        
        return {
            'weather': weather,
            'stocks': stocks,
            'news': news
        }
```

```javascript !! js
// JavaScript: Node.js backend with async/await
// server/services/dashboardService.js
const axios = require('axios');
const NodeCache = require('node-cache');

// Cache for 15 minutes
const cache = new NodeCache({ stdTTL: 900 });

class DashboardService {
    constructor() {
        this.weatherApiKey = process.env.WEATHER_API_KEY;
        this.stockApiKey = process.env.STOCK_API_KEY;
        this.newsApiKey = process.env.NEWS_API_KEY;
    }

    async getDashboardData() {
        const cacheKey = 'dashboard_data';
        const cachedData = cache.get(cacheKey);
        
        if (cachedData) {
            return cachedData;
        }

        try {
            // Parallel API calls for better performance
            const [weather, stocks, news] = await Promise.all([
                this.getWeatherData(),
                this.getStockData(),
                this.getNewsData()
            ]);

            const data = { weather, stocks, news };
            cache.set(cacheKey, data);
            
            return data;
        } catch (error) {
            throw new Error(`Dashboard data fetch failed: ${error.message}`);
        }
    }

    async getWeatherData() {
        try {
            const response = await axios.get('https://api.openweathermap.org/data/2.5/weather', {
                params: {
                    q: 'London',
                    appid: this.weatherApiKey,
                    units: 'metric'
                },
                timeout: 5000
            });

            return {
                temperature: response.data.main.temp,
                description: response.data.weather[0].description,
                humidity: response.data.main.humidity,
                windSpeed: response.data.wind.speed
            };
        } catch (error) {
            console.error('Weather API error:', error.message);
            return { error: 'Weather data unavailable' };
        }
    }

    async getStockData() {
        try {
            const symbols = ['AAPL', 'GOOGL', 'MSFT', 'TSLA'];
            const stockPromises = symbols.map(symbol => 
                axios.get('https://api.twelvedata.com/price', {
                    params: {
                        symbol,
                        apikey: this.stockApiKey
                    },
                    timeout: 5000
                })
            );

            const responses = await Promise.all(stockPromises);
            
            return symbols.map((symbol, index) => ({
                symbol,
                price: responses[index].data.price,
                timestamp: new Date().toISOString()
            }));
        } catch (error) {
            console.error('Stock API error:', error.message);
            return { error: 'Stock data unavailable' };
        }
    }

    async getNewsData() {
        try {
            const response = await axios.get('https://newsapi.org/v2/top-headlines', {
                params: {
                    country: 'us',
                    category: 'technology',
                    pageSize: 5,
                    apiKey: this.newsApiKey
                },
                timeout: 5000
            });

            return response.data.articles.map(article => ({
                title: article.title,
                description: article.description,
                url: article.url,
                publishedAt: article.publishedAt,
                source: article.source.name
            }));
        } catch (error) {
            console.error('News API error:', error.message);
            return { error: 'News data unavailable' };
        }
    }
}

module.exports = new DashboardService();

// Express route handler
// server/routes/dashboard.js
const express = require('express');
const router = express.Router();
const dashboardService = require('../services/dashboardService');
const { rateLimiter } = require('../middleware/rateLimiter');

router.get('/data', rateLimiter, async (req, res) => {
    try {
        const data = await dashboardService.getDashboardData();
        res.json(data);
    } catch (error) {
        console.error('Dashboard endpoint error:', error);
        res.status(500).json({ 
            error: 'Internal server error',
            message: error.message 
        });
    }
});

module.exports = router;

// Frontend React dashboard
// client/src/components/Dashboard.jsx
import React, { useState, useEffect } from 'react';
import { Line } from 'react-chartjs-2';
import {
    Chart as ChartJS,
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend,
} from 'chart.js';

ChartJS.register(
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend
);

const Dashboard = () => {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const [lastUpdated, setLastUpdated] = useState(null);

    useEffect(() => {
        fetchDashboardData();
        
        // Auto-refresh every 5 minutes
        const interval = setInterval(fetchDashboardData, 5 * 60 * 1000);
        return () => clearInterval(interval);
    }, []);

    const fetchDashboardData = async () => {
        try {
            setLoading(true);
            const response = await fetch('/api/dashboard/data');
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            
            const dashboardData = await response.json();
            setData(dashboardData);
            setLastUpdated(new Date());
            setError(null);
        } catch (err) {
            setError(err.message);
            console.error('Dashboard fetch error:', err);
        } finally {
            setLoading(false);
        }
    };

    if (loading && !data) {
        return (
            <div className="flex justify-center items-center h-64">
                <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"></div>
            </div>
        );
    }

    if (error) {
        return (
            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                <h3 className="font-bold">Error loading dashboard</h3>
                <p>{error}</p>
                <button 
                    onClick={fetchDashboardData}
                    className="mt-2 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
                >
                    Retry
                </button>
            </div>
        );
    }

    return (
        <div className="p-6 space-y-6">
            <div className="flex justify-between items-center">
                <h1 className="text-3xl font-bold text-gray-900">Dashboard</h1>
                <div className="text-sm text-gray-500">
                    Last updated: {lastUpdated?.toLocaleTimeString()}
                    <button 
                        onClick={fetchDashboardData}
                        disabled={loading}
                        className="ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50"
                    >
                        {loading ? 'Updating...' : 'Refresh'}
                    </button>
                </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                {/* Weather Widget */}
                <WeatherWidget weather={data?.weather} />
                
                {/* Stock Widget */}
                <StockWidget stocks={data?.stocks} />
                
                {/* News Widget */}
                <NewsWidget news={data?.news} />
            </div>
        </div>
    );
};

const WeatherWidget = ({ weather }) => {
    if (weather?.error) {
        return (
            <div className="bg-white p-6 rounded-lg shadow-md">
                <h2 className="text-xl font-semibold mb-4">Weather</h2>
                <p className="text-red-500">{weather.error}</p>
            </div>
        );
    }

    return (
        <div className="bg-white p-6 rounded-lg shadow-md">
            <h2 className="text-xl font-semibold mb-4">Weather</h2>
            {weather && (
                <div>
                    <div className="text-3xl font-bold text-blue-600">
                        {Math.round(weather.temperature)}°C
                    </div>
                    <p className="text-gray-600 capitalize">{weather.description}</p>
                    <div className="mt-4 space-y-2">
                        <div className="flex justify-between">
                            <span>Humidity:</span>
                            <span>{weather.humidity}%</span>
                        </div>
                        <div className="flex justify-between">
                            <span>Wind Speed:</span>
                            <span>{weather.windSpeed} m/s</span>
                        </div>
                    </div>
                </div>
            )}
        </div>
    );
};

const StockWidget = ({ stocks }) => {
    if (stocks?.error) {
        return (
            <div className="bg-white p-6 rounded-lg shadow-md">
                <h2 className="text-xl font-semibold mb-4">Stocks</h2>
                <p className="text-red-500">{stocks.error}</p>
            </div>
        );
    }

    return (
        <div className="bg-white p-6 rounded-lg shadow-md">
            <h2 className="text-xl font-semibold mb-4">Stocks</h2>
            {stocks && (
                <div className="space-y-3">
                    {stocks.map((stock, index) => (
                        <div key={index} className="flex justify-between items-center">
                            <span className="font-medium">{stock.symbol}</span>
                            <span className="text-green-600 font-semibold">
                                ${parseFloat(stock.price).toFixed(2)}
                            </span>
                        </div>
                    ))}
                </div>
            )}
        </div>
    );
};

const NewsWidget = ({ news }) => {
    if (news?.error) {
        return (
            <div className="bg-white p-6 rounded-lg shadow-md">
                <h2 className="text-xl font-semibold mb-4">Tech News</h2>
                <p className="text-red-500">{news.error}</p>
            </div>
        );
    }

    return (
        <div className="bg-white p-6 rounded-lg shadow-md">
            <h2 className="text-xl font-semibold mb-4">Tech News</h2>
            {news && (
                <div className="space-y-4">
                    {news.slice(0, 3).map((article, index) => (
                        <div key={index} className="border-b last:border-b-0 pb-3 last:pb-0">
                            <a 
                                href={article.url} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="text-blue-600 hover:text-blue-800 font-medium"
                            >
                                {article.title}
                            </a>
                            <p className="text-sm text-gray-600 mt-1">
                                {article.source} • {new Date(article.publishedAt).toLocaleDateString()}
                            </p>
                        </div>
                    ))}
                </div>
            )}
        </div>
    );
};

export default Dashboard;
```
</PythonEditor>

## Project 3: Component Library

### Building Reusable UI Components

<PythonEditor title="Component Library Development" compare={true}>
```python !! py
# Python approach: Django reusable apps or Jinja2 macros
# Django reusable app structure
# my_ui_components/
# ├── __init__.py
# ├── models.py
# ├── templatetags/
# │   ├── __init__.py
# │   └── ui_components.py
# ├── templates/
# │   └── components/
# │       ├── button.html
# │       ├── card.html
# │       └── modal.html
# └── static/
#     └── css/
#         └── components.css

# Django template tags
# templatetags/ui_components.py
from django import template
from django.utils.safestring import mark_safe

register = template.Library()

@register.inclusion_tag('components/button.html')
def ui_button(text, variant='primary', size='medium', **kwargs):
    return {
        'text': text,
        'variant': variant,
        'size': size,
        'attrs': kwargs
    }

@register.inclusion_tag('components/card.html')
def ui_card(title=None, content=None, **kwargs):
    return {
        'title': title,
        'content': content,
        'attrs': kwargs
    }

# templates/components/button.html
<button class="btn btn-{{ variant }} btn-{{ size }}" 
        {% for key, value in attrs.items %}{{ key }}="{{ value }}"{% endfor %}>
    {{ text }}
</button>

# Usage in templates
{% load ui_components %}
{% ui_button "Click me" variant="primary" onclick="alert('Hello')" %}
{% ui_card title="My Card" content="Card content here" %}

# Jinja2 macros approach
# macros/ui_components.html
{% macro button(text, variant='primary', size='medium', **kwargs) %}
<button class="btn btn-{{ variant }} btn-{{ size }}" 
        {% for key, value in kwargs.items() %}{{ key }}="{{ value }}"{% endfor %}>
    {{ text }}
</button>
{% endmacro %}

{% macro card(title=None, content=None, **kwargs) %}
<div class="card" {% for key, value in kwargs.items() %}{{ key }}="{{ value }}"{% endfor %}>
    {% if title %}
    <div class="card-header">
        <h3 class="card-title">{{ title }}</h3>
    </div>
    {% endif %}
    <div class="card-body">
        {{ content }}
    </div>
</div>
{% endmacro %}
```

```javascript !! js
// JavaScript: React component library with TypeScript
// Component library project structure:
// ui-components/
// ├── package.json
// ├── src/
// │   ├── components/
// │   │   ├── Button/
// │   │   ├── Card/
// │   │   ├── Modal/
// │   │   └── index.ts
// │   ├── hooks/
// │   ├── utils/
// │   └── index.ts
// ├── dist/
// ├── stories/  (Storybook)
// └── tests/

// src/components/Button/Button.tsx
import React, { forwardRef } from 'react';
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '../../utils/cn';

const buttonVariants = cva(
    'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none',
    {
        variants: {
            variant: {
                primary: 'bg-blue-600 text-white hover:bg-blue-700',
                secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',
                outline: 'border border-gray-300 bg-white hover:bg-gray-50',
                ghost: 'hover:bg-gray-100',
                danger: 'bg-red-600 text-white hover:bg-red-700'
            },
            size: {
                sm: 'h-8 px-3 text-xs',
                md: 'h-10 px-4',
                lg: 'h-12 px-8 text-lg'
            }
        },
        defaultVariants: {
            variant: 'primary',
            size: 'md'
        }
    }
);

export interface ButtonProps 
    extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
    children: React.ReactNode;
    loading?: boolean;
    leftIcon?: React.ReactNode;
    rightIcon?: React.ReactNode;
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(
    ({ 
        className, 
        variant, 
        size, 
        children, 
        loading = false,
        leftIcon,
        rightIcon,
        disabled,
        ...props 
    }, ref) => {
        return (
            <button
                className={cn(buttonVariants({ variant, size, className }))}
                ref={ref}
                disabled={disabled || loading}
                {...props}
            >
                {loading && (
                    <svg className="animate-spin -ml-1 mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24">
                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" />
                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                    </svg>
                )}
                {leftIcon && !loading && (
                    <span className="mr-2">{leftIcon}</span>
                )}
                {children}
                {rightIcon && (
                    <span className="ml-2">{rightIcon}</span>
                )}
            </button>
        );
    }
);

Button.displayName = 'Button';

export { Button, buttonVariants };

// src/components/Card/Card.tsx
import React from 'react';
import { cn } from '../../utils/cn';

export interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
    children: React.ReactNode;
}

export interface CardHeaderProps extends React.HTMLAttributes<HTMLDivElement> {
    children: React.ReactNode;
}

export interface CardTitleProps extends React.HTMLAttributes<HTMLHeadingElement> {
    children: React.ReactNode;
    as?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
}

export interface CardContentProps extends React.HTMLAttributes<HTMLDivElement> {
    children: React.ReactNode;
}

export interface CardFooterProps extends React.HTMLAttributes<HTMLDivElement> {
    children: React.ReactNode;
}

const Card = React.forwardRef<HTMLDivElement, CardProps>(
    ({ className, children, ...props }, ref) => (
        <div
            ref={ref}
            className={cn(
                'rounded-lg border bg-white shadow-sm',
                className
            )}
            {...props}
        >
            {children}
        </div>
    )
);

const CardHeader = React.forwardRef<HTMLDivElement, CardHeaderProps>(
    ({ className, children, ...props }, ref) => (
        <div
            ref={ref}
            className={cn('flex flex-col space-y-1.5 p-6', className)}
            {...props}
        >
            {children}
        </div>
    )
);

const CardTitle = React.forwardRef<HTMLHeadingElement, CardTitleProps>(
    ({ className, children, as: Component = 'h3', ...props }, ref) => (
        <Component
            ref={ref}
            className={cn('text-lg font-semibold leading-none tracking-tight', className)}
            {...props}
        >
            {children}
        </Component>
    )
);

const CardContent = React.forwardRef<HTMLDivElement, CardContentProps>(
    ({ className, children, ...props }, ref) => (
        <div ref={ref} className={cn('p-6 pt-0', className)} {...props}>
            {children}
        </div>
    )
);

const CardFooter = React.forwardRef<HTMLDivElement, CardFooterProps>(
    ({ className, children, ...props }, ref) => (
        <div
            ref={ref}
            className={cn('flex items-center p-6 pt-0', className)}
            {...props}
        >
            {children}
        </div>
    )
);

Card.displayName = 'Card';
CardHeader.displayName = 'CardHeader';
CardTitle.displayName = 'CardTitle';
CardContent.displayName = 'CardContent';
CardFooter.displayName = 'CardFooter';

export { Card, CardHeader, CardTitle, CardContent, CardFooter };

// Custom hooks
// src/hooks/useModal.ts
import { useState, useCallback } from 'react';

export interface UseModalReturn {
    isOpen: boolean;
    open: () => void;
    close: () => void;
    toggle: () => void;
}

export function useModal(initialState = false): UseModalReturn {
    const [isOpen, setIsOpen] = useState(initialState);

    const open = useCallback(() => setIsOpen(true), []);
    const close = useCallback(() => setIsOpen(false), []);
    const toggle = useCallback(() => setIsOpen(prev => !prev), []);

    return { isOpen, open, close, toggle };
}

// src/hooks/useLocalStorage.ts
import { useState, useEffect } from 'react';

export function useLocalStorage<T>(
    key: string,
    initialValue: T
): [T, (value: T | ((val: T) => T)) => void] {
    const [storedValue, setStoredValue] = useState<T>(() => {
        try {
            if (typeof window === 'undefined') {
                return initialValue;
            }
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
        } catch (error) {
            console.error(`Error reading localStorage key "${key}":`, error);
            return initialValue;
        }
    });

    const setValue = (value: T | ((val: T) => T)) => {
        try {
            const valueToStore = value instanceof Function ? value(storedValue) : value;
            setStoredValue(valueToStore);
            
            if (typeof window !== 'undefined') {
                window.localStorage.setItem(key, JSON.stringify(valueToStore));
            }
        } catch (error) {
            console.error(`Error setting localStorage key "${key}":`, error);
        }
    };

    return [storedValue, setValue];
}

// Usage example
// src/examples/ComponentShowcase.tsx
import React from 'react';
import { Button, Card, CardHeader, CardTitle, CardContent, CardFooter } from '../components';
import { useModal, useLocalStorage } from '../hooks';

const ComponentShowcase = () => {
    const modal = useModal();
    const [count, setCount] = useLocalStorage('count', 0);

    return (
        <div className="p-8 space-y-6">
            <h1 className="text-3xl font-bold">Component Showcase</h1>
            
            {/* Button examples */}
            <section>
                <h2 className="text-xl font-semibold mb-4">Buttons</h2>
                <div className="space-x-4">
                    <Button variant="primary">Primary</Button>
                    <Button variant="secondary">Secondary</Button>
                    <Button variant="outline">Outline</Button>
                    <Button variant="ghost">Ghost</Button>
                    <Button variant="danger">Danger</Button>
                </div>
            </section>

            {/* Card examples */}
            <section>
                <h2 className="text-xl font-semibold mb-4">Cards</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <Card>
                        <CardHeader>
                            <CardTitle>Card Title</CardTitle>
                        </CardHeader>
                        <CardContent>
                            <p>This is the card content area.</p>
                        </CardContent>
                        <CardFooter>
                            <Button size="sm">Action</Button>
                        </CardFooter>
                    </Card>

                    <Card>
                        <CardHeader>
                            <CardTitle>Local Storage Counter</CardTitle>
                        </CardHeader>
                        <CardContent>
                            <p>Count: {count}</p>
                        </CardContent>
                        <CardFooter className="space-x-2">
                            <Button 
                                size="sm" 
                                onClick={() => setCount(count + 1)}
                            >
                                Increment
                            </Button>
                            <Button 
                                size="sm" 
                                variant="outline"
                                onClick={() => setCount(0)}
                            >
                                Reset
                            </Button>
                        </CardFooter>
                    </Card>
                </div>
            </section>
        </div>
    );
};

export default ComponentShowcase;

// Package configuration
// package.json
{
    "name": "@myorg/ui-components",
    "version": "1.0.0",
    "description": "Reusable React UI components",
    "main": "dist/index.js",
    "module": "dist/index.esm.js",
    "types": "dist/index.d.ts",
    "files": [
        "dist"
    ],
    "scripts": {
        "build": "rollup -c",
        "dev": "rollup -c -w",
        "test": "jest",
        "storybook": "start-storybook -p 6006",
        "build-storybook": "build-storybook"
    },
    "peerDependencies": {
        "react": ">=16.8.0",
        "react-dom": ">=16.8.0"
    },
    "devDependencies": {
        "@types/react": "^18.0.0",
        "@types/react-dom": "^18.0.0",
        "rollup": "^3.0.0",
        "typescript": "^4.9.0"
    }
}
```
</PythonEditor>

## Project 4: CLI Tool Development

### Building Command-Line Applications

<PythonEditor title="CLI Tool Development" compare={true}>
```python !! py
# Python CLI with Click
import click
import requests
import json
from pathlib import Path

@click.group()
@click.version_option()
def cli():
    """A simple CLI tool for API management."""
    pass

@cli.command()
@click.option('--url', '-u', required=True, help='API endpoint URL')
@click.option('--method', '-m', default='GET', help='HTTP method')
@click.option('--headers', '-h', multiple=True, help='Headers (key:value)')
@click.option('--data', '-d', help='Request data (JSON)')
@click.option('--output', '-o', help='Output file')
def request(url, method, headers, data, output):
    """Make HTTP requests to APIs."""
    try:
        # Parse headers
        header_dict = {}
        for header in headers:
            key, value = header.split(':', 1)
            header_dict[key.strip()] = value.strip()
        
        # Parse data
        json_data = json.loads(data) if data else None
        
        # Make request
        response = requests.request(
            method=method,
            url=url,
            headers=header_dict,
            json=json_data
        )
        
        result = {
            'status_code': response.status_code,
            'headers': dict(response.headers),
            'body': response.json() if response.text else None
        }
        
        # Output
        if output:
            Path(output).write_text(json.dumps(result, indent=2))
            click.echo(f"Response saved to {output}")
        else:
            click.echo(json.dumps(result, indent=2))
            
    except Exception as e:
        click.echo(f"Error: {e}", err=True)

@cli.command()
@click.argument('config_file')
def batch(config_file):
    """Run batch requests from config file."""
    try:
        config = json.loads(Path(config_file).read_text())
        for req in config['requests']:
            click.echo(f"Making request to {req['url']}")
            # Process request...
    except Exception as e:
        click.echo(f"Error: {e}", err=True)

if __name__ == '__main__':
    cli()

# Setup script
# setup.py
from setuptools import setup

setup(
    name='api-cli',
    version='1.0.0',
    py_modules=['cli'],
    install_requires=['click', 'requests'],
    entry_points={
        'console_scripts': [
            'api-cli=cli:cli',
        ],
    },
)
```

```javascript !! js
// JavaScript CLI with Node.js
// Package structure:
// api-cli/
// ├── package.json
// ├── bin/
// │   └── api-cli.js
// ├── src/
// │   ├── commands/
// │   ├── utils/
// │   └── cli.js
// └── README.md

// package.json
{
    "name": "@myorg/api-cli",
    "version": "1.0.0",
    "description": "A simple CLI tool for API management",
    "main": "src/cli.js",
    "bin": {
        "api-cli": "./bin/api-cli.js"
    },
    "scripts": {
        "build": "ncc build src/cli.js -o dist",
        "dev": "node src/cli.js",
        "test": "jest"
    },
    "dependencies": {
        "commander": "^9.4.0",
        "axios": "^1.1.0",
        "chalk": "^5.0.0",
        "ora": "^6.1.0",
        "inquirer": "^9.1.0",
        "conf": "^10.2.0"
    },
    "engines": {
        "node": ">=16.0.0"
    }
}

// src/cli.js
#!/usr/bin/env node

const { Command } = require('commander');
const chalk = require('chalk');
const { version } = require('../package.json');
const requestCommand = require('./commands/request');
const batchCommand = require('./commands/batch');
const configCommand = require('./commands/config');

const program = new Command();

program
    .name('api-cli')
    .description('A simple CLI tool for API management')
    .version(version);

// Request command
program
    .command('request')
    .alias('req')
    .description('Make HTTP requests to APIs')
    .option('-u, --url <url>', 'API endpoint URL')
    .option('-m, --method <method>', 'HTTP method', 'GET')
    .option('-H, --header <header>', 'Headers (key:value)', [])
    .option('-d, --data <data>', 'Request data (JSON)')
    .option('-o, --output <file>', 'Output file')
    .option('--timeout <ms>', 'Request timeout in milliseconds', '5000')
    .action(requestCommand);

// Batch command
program
    .command('batch')
    .description('Run batch requests from config file')
    .argument('<config-file>', 'Configuration file path')
    .option('--parallel', 'Run requests in parallel')
    .option('--delay <ms>', 'Delay between requests', '0')
    .action(batchCommand);

// Config command
program
    .command('config')
    .description('Manage CLI configuration')
    .option('--set <key=value>', 'Set configuration value')
    .option('--get <key>', 'Get configuration value')
    .option('--list', 'List all configuration')
    .action(configCommand);

// Error handling
program.configureOutput({
    outputError: (str, write) => write(chalk.red(str))
});

program.parse();

// src/commands/request.js
const axios = require('axios');
const chalk = require('chalk');
const ora = require('ora');
const fs = require('fs').promises;
const { formatResponse, parseHeaders } = require('../utils/format');

async function requestCommand(options) {
    if (!options.url) {
        console.error(chalk.red('Error: URL is required'));
        process.exit(1);
    }

    const spinner = ora('Making request...').start();

    try {
        // Parse headers
        const headers = {};
        if (Array.isArray(options.header)) {
            options.header.forEach(header => {
                const [key, ...values] = header.split(':');
                if (key && values.length > 0) {
                    headers[key.trim()] = values.join(':').trim();
                }
            });
        }

        // Parse data
        let data = null;
        if (options.data) {
            try {
                data = JSON.parse(options.data);
            } catch (e) {
                data = options.data; // Treat as plain text
            }
        }

        // Make request
        const config = {
            method: options.method.toLowerCase(),
            url: options.url,
            headers,
            timeout: parseInt(options.timeout),
            validateStatus: () => true // Don't throw on HTTP errors
        };

        if (data && ['post', 'put', 'patch'].includes(config.method)) {
            config.data = data;
        }

        const response = await axios(config);
        
        spinner.succeed(chalk.green(`Request completed (${response.status})`));

        const result = {
            status: response.status,
            statusText: response.statusText,
            headers: response.headers,
            data: response.data,
            timing: {
                responseTime: response.config.metadata?.endTime - response.config.metadata?.startTime
            }
        };

        const formattedResponse = formatResponse(result);

        // Output handling
        if (options.output) {
            await fs.writeFile(options.output, JSON.stringify(result, null, 2));
            console.log(chalk.green(`Response saved to ${options.output}`));
        } else {
            console.log(formattedResponse);
        }

    } catch (error) {
        spinner.fail(chalk.red('Request failed'));
        
        if (error.code === 'ECONNREFUSED') {
            console.error(chalk.red('Connection refused. Is the server running?'));
        } else if (error.code === 'ENOTFOUND') {
            console.error(chalk.red('Host not found. Check the URL.'));
        } else if (error.code === 'ETIMEDOUT') {
            console.error(chalk.red('Request timed out.'));
        } else {
            console.error(chalk.red(`Error: ${error.message}`));
        }
        
        process.exit(1);
    }
}

module.exports = requestCommand;

// src/commands/batch.js
const fs = require('fs').promises;
const path = require('path');
const chalk = require('chalk');
const ora = require('ora');
const axios = require('axios');

async function batchCommand(configFile, options) {
    const spinner = ora('Loading configuration...').start();

    try {
        // Load and parse config
        const configPath = path.resolve(configFile);
        const configContent = await fs.readFile(configPath, 'utf8');
        const config = JSON.parse(configContent);

        if (!config.requests || !Array.isArray(config.requests)) {
            throw new Error('Config must contain a "requests" array');
        }

        spinner.succeed(chalk.green(`Loaded ${config.requests.length} requests`));

        const results = [];
        const delay = parseInt(options.delay) || 0;

        if (options.parallel) {
            // Run requests in parallel
            const promises = config.requests.map(async (req, index) => {
                const requestSpinner = ora(`Request ${index + 1}: ${req.url}`).start();
                try {
                    const response = await axios(req);
                    requestSpinner.succeed(chalk.green(`✓ ${req.url} (${response.status})`));
                    return { index, success: true, response: response.data };
                } catch (error) {
                    requestSpinner.fail(chalk.red(`✗ ${req.url} (${error.message})`));
                    return { index, success: false, error: error.message };
                }
            });

            const responses = await Promise.allSettled(promises);
            results.push(...responses.map(r => r.value));
        } else {
            // Run requests sequentially
            for (let i = 0; i < config.requests.length; i++) {
                const req = config.requests[i];
                const requestSpinner = ora(`Request ${i + 1}/${config.requests.length}: ${req.url}`).start();

                try {
                    const response = await axios(req);
                    requestSpinner.succeed(chalk.green(`✓ ${req.url} (${response.status})`));
                    results.push({ index: i, success: true, response: response.data });
                } catch (error) {
                    requestSpinner.fail(chalk.red(`✗ ${req.url} (${error.message})`));
                    results.push({ index: i, success: false, error: error.message });
                }

                // Add delay between requests
                if (delay > 0 && i < config.requests.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        }

        // Summary
        const successful = results.filter(r => r.success).length;
        const failed = results.filter(r => !r.success).length;

        console.log('\n' + chalk.bold('Batch Summary:'));
        console.log(chalk.green(`✓ Successful: ${successful}`));
        console.log(chalk.red(`✗ Failed: ${failed}`));

        // Save results if specified
        if (config.output) {
            await fs.writeFile(config.output, JSON.stringify(results, null, 2));
            console.log(chalk.blue(`Results saved to ${config.output}`));
        }

    } catch (error) {
        spinner.fail(chalk.red('Batch execution failed'));
        console.error(chalk.red(`Error: ${error.message}`));
        process.exit(1);
    }
}

module.exports = batchCommand;

// src/utils/format.js
const chalk = require('chalk');

function formatResponse(response) {
    let output = '';
    
    // Status line
    const statusColor = response.status < 300 ? 'green' : 
                       response.status < 400 ? 'yellow' : 'red';
    output += chalk[statusColor](`${response.status} ${response.statusText}\n\n`);
    
    // Headers
    output += chalk.bold('Headers:\n');
    Object.entries(response.headers).forEach(([key, value]) => {
        output += chalk.gray(`${key}: `) + `${value}\n`;
    });
    output += '\n';
    
    // Body
    output += chalk.bold('Response Body:\n');
    if (typeof response.data === 'object') {
        output += JSON.stringify(response.data, null, 2);
    } else {
        output += response.data;
    }
    
    return output;
}

function parseHeaders(headerArray) {
    const headers = {};
    headerArray.forEach(header => {
        const [key, ...values] = header.split(':');
        if (key && values.length > 0) {
            headers[key.trim()] = values.join(':').trim();
        }
    });
    return headers;
}

module.exports = { formatResponse, parseHeaders };

// Example configuration file
// config.json
{
    "requests": [
        {
            "method": "GET",
            "url": "https://jsonplaceholder.typicode.com/users",
            "headers": {
                "Accept": "application/json"
            }
        },
        {
            "method": "POST",
            "url": "https://jsonplaceholder.typicode.com/posts",
            "headers": {
                "Content-Type": "application/json"
            },
            "data": {
                "title": "Test Post",
                "body": "This is a test post",
                "userId": 1
            }
        }
    ],
    "output": "batch-results.json"
}

// Usage examples:
// npm install -g .
// api-cli request -u https://api.example.com/users
// api-cli request -u https://api.example.com/posts -m POST -d '{"title":"Test"}'
// api-cli batch config.json --parallel
```
</PythonEditor>

## Performance Optimization Case Study

### Optimizing a Real-World Application

<PythonEditor title="Performance Optimization" compare={true}>
```python !! py
# Python performance optimization techniques
import cProfile
import pstats
from functools import lru_cache
from django.core.cache import cache
from django.db import connection
import asyncio
import aiohttp

# Database optimization
class OptimizedViewSet(viewsets.ModelViewSet):
    def get_queryset(self):
        # Use select_related and prefetch_related
        return Task.objects.select_related('user').prefetch_related(
            'tags', 'comments__user'
        ).filter(user=self.request.user)
    
    def list(self, request):
        # Add pagination
        queryset = self.get_queryset()
        page = self.paginate_queryset(queryset)
        serializer = self.get_serializer(page, many=True)
        return self.get_paginated_response(serializer.data)

# Caching
@lru_cache(maxsize=128)
def expensive_calculation(n):
    return sum(i * i for i in range(n))

def cached_view(request):
    cache_key = f"user_data_{request.user.id}"
    data = cache.get(cache_key)
    if data is None:
        data = expensive_operation()
        cache.set(cache_key, data, 300)  # 5 minutes
    return JsonResponse(data)

# Async optimization
async def fetch_multiple_apis():
    async with aiohttp.ClientSession() as session:
        tasks = [
            fetch_weather(session),
            fetch_stocks(session),
            fetch_news(session)
        ]
        results = await asyncio.gather(*tasks, return_exceptions=True)
        return results

# Database connection optimization
def monitor_db_queries():
    from django.db import connection
    print(f"Number of queries: {len(connection.queries)}")
    for query in connection.queries:
        print(f"Query: {query['sql']}")
        print(f"Time: {query['time']}")
```

```javascript !! js
// JavaScript performance optimization
// Performance monitoring setup
// src/utils/performance.js

class PerformanceMonitor {
    static measurements = new Map();
    
    static start(name) {
        performance.mark(`${name}-start`);
    }
    
    static end(name) {
        performance.mark(`${name}-end`);
        performance.measure(name, `${name}-start`, `${name}-end`);
        
        const measure = performance.getEntriesByName(name)[0];
        this.measurements.set(name, measure.duration);
        
        return measure.duration;
    }
    
    static report() {
        console.table(Object.fromEntries(this.measurements));
    }
    
    static clear() {
        this.measurements.clear();
        performance.clearMarks();
        performance.clearMeasures();
    }
}

// Memory optimization with object pooling
class ObjectPool {
    constructor(createFn, resetFn, initialSize = 10) {
        this.createFn = createFn;
        this.resetFn = resetFn;
        this.pool = [];
        
        // Pre-populate pool
        for (let i = 0; i < initialSize; i++) {
            this.pool.push(this.createFn());
        }
    }
    
    acquire() {
        return this.pool.length > 0 ? this.pool.pop() : this.createFn();
    }
    
    release(obj) {
        this.resetFn(obj);
        this.pool.push(obj);
    }
}

// Example usage
const taskPool = new ObjectPool(
    () => ({ id: null, title: '', completed: false }),
    (task) => {
        task.id = null;
        task.title = '';
        task.completed = false;
    }
);

// React optimization techniques
// src/components/OptimizedTaskList.jsx
import React, { memo, useMemo, useCallback, useState, useTransition } from 'react';
import { FixedSizeList as List } from 'react-window';

// Memoized task item component
const TaskItem = memo(({ task, onToggle, onDelete, style }) => {
    const handleToggle = useCallback(() => {
        onToggle(task.id);
    }, [task.id, onToggle]);
    
    const handleDelete = useCallback(() => {
        onDelete(task.id);
    }, [task.id, onDelete]);
    
    return (
        <div style={style} className="task-item">
            <input 
                type="checkbox" 
                checked={task.completed}
                onChange={handleToggle}
            />
            <span className={task.completed ? 'completed' : ''}>
                {task.title}
            </span>
            <button onClick={handleDelete}>Delete</button>
        </div>
    );
});

// Virtualized list for large datasets
const OptimizedTaskList = ({ tasks, onToggle, onDelete }) => {
    const [searchTerm, setSearchTerm] = useState('');
    const [isPending, startTransition] = useTransition();
    
    // Memoized filtered tasks
    const filteredTasks = useMemo(() => {
        if (!searchTerm) return tasks;
        
        return tasks.filter(task => 
            task.title.toLowerCase().includes(searchTerm.toLowerCase())
        );
    }, [tasks, searchTerm]);
    
    // Debounced search
    const handleSearch = useCallback((value) => {
        startTransition(() => {
            setSearchTerm(value);
        });
    }, []);
    
    // Memoized callbacks
    const memoizedOnToggle = useCallback((taskId) => {
        onToggle(taskId);
    }, [onToggle]);
    
    const memoizedOnDelete = useCallback((taskId) => {
        onDelete(taskId);
    }, [onDelete]);
    
    const renderTask = useCallback(({ index, style }) => (
        <TaskItem
            key={filteredTasks[index].id}
            task={filteredTasks[index]}
            onToggle={memoizedOnToggle}
            onDelete={memoizedOnDelete}
            style={style}
        />
    ), [filteredTasks, memoizedOnToggle, memoizedOnDelete]);
    
    return (
        <div className="task-list-container">
            <input
                type="text"
                placeholder="Search tasks..."
                onChange={(e) => handleSearch(e.target.value)}
                className={isPending ? 'loading' : ''}
            />
            
            {filteredTasks.length > 100 ? (
                // Virtualized list for large datasets
                <List
                    height={600}
                    itemCount={filteredTasks.length}
                    itemSize={60}
                    itemData={filteredTasks}
                >
                    {renderTask}
                </List>
            ) : (
                // Regular rendering for smaller datasets
                <div className="task-list">
                    {filteredTasks.map(task => (
                        <TaskItem
                            key={task.id}
                            task={task}
                            onToggle={memoizedOnToggle}
                            onDelete={memoizedOnDelete}
                        />
                    ))}
                </div>
            )}
        </div>
    );
};

// API optimization with caching and batching
// src/services/optimizedAPI.js
class OptimizedAPI {
    constructor() {
        this.cache = new Map();
        this.batchQueue = [];
        this.batchTimer = null;
        this.requestDeduplication = new Map();
    }
    
    // Cache management
    setCache(key, data, ttl = 300000) { // 5 minutes default
        this.cache.set(key, {
            data,
            expires: Date.now() + ttl
        });
    }
    
    getCache(key) {
        const cached = this.cache.get(key);
        if (cached && cached.expires > Date.now()) {
            return cached.data;
        }
        this.cache.delete(key);
        return null;
    }
    
    // Request deduplication
    async request(url, options = {}) {
        const requestKey = `${options.method || 'GET'}:${url}:${JSON.stringify(options.body || {})}`;
        
        // Check if same request is already in flight
        if (this.requestDeduplication.has(requestKey)) {
            return this.requestDeduplication.get(requestKey);
        }
        
        // Check cache first
        const cached = this.getCache(requestKey);
        if (cached) {
            return Promise.resolve(cached);
        }
        
        // Make request
        const requestPromise = fetch(url, options)
            .then(response => response.json())
            .then(data => {
                this.setCache(requestKey, data);
                this.requestDeduplication.delete(requestKey);
                return data;
            })
            .catch(error => {
                this.requestDeduplication.delete(requestKey);
                throw error;
            });
        
        this.requestDeduplication.set(requestKey, requestPromise);
        return requestPromise;
    }
    
    // Batch operations
    batchUpdate(updates) {
        this.batchQueue.push(...updates);
        
        if (this.batchTimer) {
            clearTimeout(this.batchTimer);
        }
        
        this.batchTimer = setTimeout(() => {
            this.processBatch();
        }, 100); // Batch for 100ms
    }
    
    async processBatch() {
        if (this.batchQueue.length === 0) return;
        
        const batch = [...this.batchQueue];
        this.batchQueue.length = 0;
        
        try {
            await this.request('/api/tasks/batch', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ updates: batch })
            });
        } catch (error) {
            console.error('Batch update failed:', error);
            // Could implement retry logic here
        }
    }
}

// Bundle optimization webpack config
// webpack.config.prod.js
const path = require('path');
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
const CompressionPlugin = require('compression-webpack-plugin');

module.exports = {
    mode: 'production',
    optimization: {
        splitChunks: {
            chunks: 'all',
            cacheGroups: {
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    chunks: 'all',
                    priority: 10
                },
                common: {
                    name: 'common',
                    minChunks: 2,
                    chunks: 'all',
                    enforce: true,
                    priority: 5
                }
            }
        },
        usedExports: true,
        sideEffects: false
    },
    plugins: [
        new CompressionPlugin({
            algorithm: 'gzip',
            test: /\.(js|css|html|svg)$/,
            threshold: 8192,
            minRatio: 0.8
        }),
        process.env.ANALYZE && new BundleAnalyzerPlugin()
    ].filter(Boolean)
};

// Performance monitoring in production
// src/utils/monitoring.js
class ProductionMonitor {
    static init() {
        // Web Vitals monitoring
        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
            getCLS(this.sendMetric);
            getFID(this.sendMetric);
            getFCP(this.sendMetric);
            getLCP(this.sendMetric);
            getTTFB(this.sendMetric);
        });
        
        // Long task monitoring
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.duration > 50) { // Tasks longer than 50ms
                        this.sendMetric({
                            name: 'long-task',
                            value: entry.duration,
                            attribution: entry.attribution
                        });
                    }
                }
            });
            observer.observe({ entryTypes: ['longtask'] });
        }
        
        // Memory usage monitoring
        setInterval(() => {
            if ('memory' in performance) {
                this.sendMetric({
                    name: 'memory-usage',
                    value: performance.memory.usedJSHeapSize,
                    total: performance.memory.totalJSHeapSize
                });
            }
        }, 30000); // Every 30 seconds
    }
    
    static sendMetric(metric) {
        // Send to analytics service
        if (process.env.NODE_ENV === 'production') {
            fetch('/api/metrics', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    ...metric,
                    timestamp: Date.now(),
                    userAgent: navigator.userAgent,
                    url: window.location.href
                })
            }).catch(console.error);
        }
    }
}

export { PerformanceMonitor, OptimizedAPI, ProductionMonitor };
```
</PythonEditor>

## Best Practices Summary

### Project Development Best Practices

1. **Architecture Planning**: Design with scalability and maintainability in mind
2. **Code Organization**: Use consistent project structure and naming conventions
3. **Error Handling**: Implement comprehensive error handling and logging
4. **Testing**: Write tests at multiple levels (unit, integration, e2e)
5. **Performance**: Monitor and optimize from the beginning
6. **Security**: Implement security best practices throughout

### JavaScript-Specific Best Practices

1. **Modern Features**: Use ES6+ features appropriately
2. **Async Programming**: Handle promises and async operations correctly
3. **Memory Management**: Be aware of memory leaks and optimization
4. **Bundle Size**: Monitor and optimize bundle sizes
5. **Browser Compatibility**: Test across different browsers and devices

## Next Steps

In the final module, we'll explore full-stack development best practices, bringing together everything you've learned to build production-ready applications.

Key topics we'll cover:
- Full-stack architecture patterns
- Deployment strategies
- Production monitoring
- Security considerations
- Scaling strategies

---

*Continue to [Module 13: Full-Stack Development Best Practices →](/docs/py2js/module-13-fullstack-development)*
