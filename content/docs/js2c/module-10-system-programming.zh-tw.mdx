---
title: "ç³»çµ±ç¨‹å¼è¨­è¨ˆåŸºç¤"
description: "å¾ JavaScript è¦–è§’å­¸ç¿’ C èªè¨€ç³»çµ±ç¨‹å¼è¨­è¨ˆï¼Œç†è§£è¡Œç¨‹ã€åŸ·è¡Œç·’ã€ä¿¡è™Ÿã€ç³»çµ±å‘¼å«ï¼Œä¸¦å°æ¯” JavaScript åŸ·è¡Œæ™‚ç’°å¢ƒã€‚"
---

# ç³»çµ±ç¨‹å¼è¨­è¨ˆåŸºç¤

## 1. æ¦‚å¿µä»‹ç´¹

### å¾ JavaScript åŸ·è¡Œæ™‚åˆ° C ç³»çµ±ç¨‹å¼è¨­è¨ˆ

åœ¨ JavaScript ä¸­ï¼Œä½ åœ¨åŸ·è¡Œæ™‚ç’°å¢ƒä¸­å·¥ä½œï¼Œè©²ç’°å¢ƒæŠ½è±¡äº†ç³»çµ±ç´šæ“ä½œã€‚è€Œåœ¨ C èªè¨€ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥å­˜å–ä½œæ¥­ç³»çµ±ï¼Œå…è¨±ä½ å»ºç«‹è¡Œç¨‹ã€è™•ç†ä¿¡è™Ÿå’Œé€²è¡Œç³»çµ±å‘¼å«ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šC ç³»çµ±ç¨‹å¼è¨­è¨ˆçµ¦ä½ å°ä½œæ¥­ç³»çµ±çš„åº•å±¤æ§åˆ¶ï¼Œä½¿ä½ èƒ½å¤ å»ºæ§‹ç³»çµ±å·¥å…·ã€å®ˆè­·ç¨‹åºå’Œé«˜æ•ˆèƒ½æ‡‰ç”¨ç¨‹å¼ã€‚

## 2. è¡Œç¨‹å’Œè¡Œç¨‹ç®¡ç†

<UniversalEditor title="è¡Œç¨‹å»ºç«‹" compare={true}>
```javascript !! js
// JavaScript - è¡Œç¨‹ç®¡ç† (Node.js)
const { spawn, exec } = require('child_process');

// ç”¢ç”Ÿæ–°è¡Œç¨‹
const child = spawn('ls', ['-la'], {
    stdio: 'inherit'
});

child.on('close', (code) => {
    console.log(`å­è¡Œç¨‹é€€å‡ºï¼Œç¨‹å¼ç¢¼: ${code}`);
});

// åŸ·è¡Œå‘½ä»¤
exec('echo "ä¾†è‡ªå­è¡Œç¨‹çš„å•å€™"', (error, stdout, stderr) => {
    if (error) {
        console.error(`éŒ¯èª¤: ${error}`);
        return;
    }
    console.log(`è¼¸å‡º: ${stdout}`);
});

// è¡Œç¨‹è³‡è¨Š
console.log('è¡Œç¨‹ ID:', process.pid);
console.log('çˆ¶è¡Œç¨‹ ID:', process.ppid);
console.log('å¹³å°:', process.platform);
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>
#include <sys/types.h>

int main() {
    pid_t pid;
    
    printf("çˆ¶è¡Œç¨‹ ID: %d\n", getpid());
    
    // å»ºç«‹æ–°è¡Œç¨‹
    pid = fork();
    
    if (pid < 0) {
        // fork å¤±æ•—
        perror("fork å¤±æ•—");
        exit(1);
    } else if (pid == 0) {
        // å­è¡Œç¨‹
        printf("å­è¡Œç¨‹ ID: %d\n", getpid());
        printf("å­è¡Œç¨‹çš„çˆ¶è¡Œç¨‹ ID: %d\n", getppid());
        
        // åŸ·è¡Œå‘½ä»¤
        execlp("ls", "ls", "-la", NULL);
        
        // å¦‚æœ execlp è¿”å›ï¼Œèªªæ˜æœ‰éŒ¯èª¤
        perror("execlp å¤±æ•—");
        exit(1);
    } else {
        // çˆ¶è¡Œç¨‹
        printf("çˆ¶è¡Œç¨‹ç­‰å¾…å­è¡Œç¨‹ %d\n", pid);
        
        int status;
        wait(&status);
        
        if (WIFEXITED(status)) {
            printf("å­è¡Œç¨‹é€€å‡ºï¼Œç‹€æ…‹: %d\n", WEXITSTATUS(status));
        }
    }
    
    return 0;
}
```
</UniversalEditor>

## 3. åŸ·è¡Œç·’å’Œä¸¦ç™¼

<UniversalEditor title="åŸ·è¡Œç·’" compare={true}>
```javascript !! js
// JavaScript - åŸ·è¡Œç·’ (Node.js Worker Threads)
const { Worker, isMainThread, parentPort, workerData } = require('worker_threads');

if (isMainThread) {
    // ä¸»åŸ·è¡Œç·’
    const worker = new Worker(__filename, {
        workerData: { number: 42 }
    });
    
    worker.on('message', (result) => {
        console.log('ä¾†è‡ªå·¥ä½œåŸ·è¡Œç·’çš„çµæœ:', result);
    });
    
    worker.on('error', (error) => {
        console.error('å·¥ä½œåŸ·è¡Œç·’éŒ¯èª¤:', error);
    });
    
    worker.on('exit', (code) => {
        if (code !== 0) {
            console.error(`å·¥ä½œåŸ·è¡Œç·’åœæ­¢ï¼Œé€€å‡ºç¨‹å¼ç¢¼: ${code}`);
        }
    });
} else {
    // å·¥ä½œåŸ·è¡Œç·’
    const result = workerData.number * 2;
    parentPort.postMessage(result);
}

// éåŒæ­¥/ç­‰å¾…ä¸¦ç™¼
async function concurrentTasks() {
    const promises = [
        new Promise(resolve => setTimeout(() => resolve('ä»»å‹™ 1'), 1000)),
        new Promise(resolve => setTimeout(() => resolve('ä»»å‹™ 2'), 500)),
        new Promise(resolve => setTimeout(() => resolve('ä»»å‹™ 3'), 1500))
    ];
    
    const results = await Promise.all(promises);
    console.log('æ‰€æœ‰ä»»å‹™å®Œæˆ:', results);
}

concurrentTasks();
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <unistd.h>

// åŸ·è¡Œç·’å‡½æ•¸
void* threadFunction(void* arg) {
    int threadId = *(int*)arg;
    printf("åŸ·è¡Œç·’ %d é–‹å§‹\n", threadId);
    
    // æ¨¡æ“¬å·¥ä½œ
    sleep(1);
    
    printf("åŸ·è¡Œç·’ %d çµæŸ\n", threadId);
    return NULL;
}

// å¸¶å…±äº«è³‡æ–™çš„åŸ·è¡Œç·’
int sharedCounter = 0;
pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;

void* incrementCounter(void* arg) {
    int iterations = *(int*)arg;
    
    for (int i = 0; i < iterations; i++) {
        pthread_mutex_lock(&mutex);
        sharedCounter++;
        pthread_mutex_unlock(&mutex);
    }
    
    return NULL;
}

int main() {
    pthread_t threads[3];
    int threadIds[3] = {1, 2, 3};
    
    // å»ºç«‹åŸ·è¡Œç·’
    for (int i = 0; i < 3; i++) {
        if (pthread_create(&threads[i], NULL, threadFunction, &threadIds[i]) != 0) {
            perror("å»ºç«‹åŸ·è¡Œç·’å¤±æ•—");
            return 1;
        }
    }
    
    // ç­‰å¾…åŸ·è¡Œç·’å®Œæˆ
    for (int i = 0; i < 3; i++) {
        pthread_join(threads[i], NULL);
    }
    
    printf("æ‰€æœ‰åŸ·è¡Œç·’å®Œæˆ\n");
    
    // å¸¶å…±äº«è³‡æ–™çš„åŸ·è¡Œç·’
    pthread_t counterThreads[2];
    int iterations = 1000;
    
    for (int i = 0; i < 2; i++) {
        pthread_create(&counterThreads[i], NULL, incrementCounter, &iterations);
    }
    
    for (int i = 0; i < 2; i++) {
        pthread_join(counterThreads[i], NULL);
    }
    
    printf("æœ€çµ‚è¨ˆæ•¸å™¨å€¼: %d\n", sharedCounter);
    
    return 0;
}
```
</UniversalEditor>

## 4. ä¿¡è™Ÿè™•ç†

<UniversalEditor title="ä¿¡è™Ÿè™•ç†" compare={true}>
```javascript !! js
// JavaScript - ä¿¡è™Ÿè™•ç† (Node.js)
process.on('SIGINT', () => {
    console.log('æ”¶åˆ° SIGINT (Ctrl+C)');
    console.log('æ­£åœ¨æ¸…ç†...');
    process.exit(0);
});

process.on('SIGTERM', () => {
    console.log('æ”¶åˆ° SIGTERM');
    console.log('å„ªé›…é—œé–‰...');
    process.exit(0);
});

process.on('uncaughtException', (error) => {
    console.error('æœªæ•ç²çš„ç•°å¸¸:', error);
    process.exit(1);
});

// è‡ªè¨‚ä¿¡è™Ÿè™•ç†
let cleanupDone = false;

function cleanup() {
    if (!cleanupDone) {
        console.log('åŸ·è¡Œæ¸…ç†...');
        cleanupDone = true;
    }
}

process.on('exit', (code) => {
    cleanup();
    console.log(`è¡Œç¨‹é€€å‡ºï¼Œç¨‹å¼ç¢¼: ${code}`);
});

// æ¨¡æ“¬ä¸€äº›å·¥ä½œ
console.log('è¡Œç¨‹å·²å•Ÿå‹•ã€‚æŒ‰ Ctrl+C åœæ­¢ã€‚');
setInterval(() => {
    console.log('å·¥ä½œä¸­...');
}, 1000);
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <signal.h>
#include <unistd.h>

volatile sig_atomic_t flag = 0;

// ä¿¡è™Ÿè™•ç†å‡½æ•¸
void signalHandler(int sig) {
    if (sig == SIGINT) {
        printf("\næ”¶åˆ° SIGINT (Ctrl+C)\n");
        printf("æ­£åœ¨æ¸…ç†...\n");
        flag = 1;
    } else if (sig == SIGTERM) {
        printf("æ”¶åˆ° SIGTERM\n");
        printf("å„ªé›…é—œé–‰...\n");
        flag = 1;
    }
}

// æ¸…ç†å‡½æ•¸
void cleanup() {
    printf("åŸ·è¡Œæ¸…ç†...\n");
    // åœ¨æ­¤æ–°å¢æ¸…ç†ç¨‹å¼ç¢¼
}

int main() {
    // è¨­å®šä¿¡è™Ÿè™•ç†å™¨
    if (signal(SIGINT, signalHandler) == SIG_ERR) {
        perror("è¨­å®š SIGINT è™•ç†å™¨å¤±æ•—");
        return 1;
    }
    
    if (signal(SIGTERM, signalHandler) == SIG_ERR) {
        perror("è¨­å®š SIGTERM è™•ç†å™¨å¤±æ•—");
        return 1;
    }
    
    printf("è¡Œç¨‹å·²å•Ÿå‹•ã€‚æŒ‰ Ctrl+C åœæ­¢ã€‚\n");
    printf("è¡Œç¨‹ ID: %d\n", getpid());
    
    // ä¸»è¿´åœˆ
    while (!flag) {
        printf("å·¥ä½œä¸­...\n");
        sleep(1);
    }
    
    cleanup();
    printf("è¡Œç¨‹é€€å‡º\n");
    
    return 0;
}
```
</UniversalEditor>

## 5. ç³»çµ±å‘¼å«å’Œæª”æ¡ˆæ“ä½œ

<UniversalEditor title="ç³»çµ±å‘¼å«" compare={true}>
```javascript !! js
// JavaScript - æª”æ¡ˆç³»çµ±æ“ä½œ (Node.js)
const fs = require('fs');
const path = require('path');

// æª”æ¡ˆæ“ä½œ
fs.writeFileSync('test.txt', 'ä½ å¥½ï¼Œä¸–ç•Œï¼');
const content = fs.readFileSync('test.txt', 'utf8');
console.log('æª”æ¡ˆå…§å®¹:', content);

// ç›®éŒ„æ“ä½œ
fs.mkdirSync('testdir', { recursive: true });
const files = fs.readdirSync('.');
console.log('ç•¶å‰ç›®éŒ„ä¸­çš„æª”æ¡ˆ:', files);

// æª”æ¡ˆçµ±è¨ˆ
const stats = fs.statSync('test.txt');
console.log('æª”æ¡ˆå¤§å°:', stats.size);
console.log('æ˜¯æª”æ¡ˆ:', stats.isFile());
console.log('æ˜¯ç›®éŒ„:', stats.isDirectory());

// è¡Œç¨‹è³‡è¨Š
console.log('ç•¶å‰å·¥ä½œç›®éŒ„:', process.cwd());
console.log('ç’°å¢ƒè®Šæ•¸:', process.env.PATH);

// æ¸…ç†
fs.unlinkSync('test.txt');
fs.rmdirSync('testdir');
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <fcntl.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <dirent.h>
#include <string.h>

int main() {
    // ä½¿ç”¨ç³»çµ±å‘¼å«é€²è¡Œæª”æ¡ˆæ“ä½œ
    int fd = open("test.txt", O_WRONLY | O_CREAT | O_TRUNC, 0644);
    if (fd == -1) {
        perror("open å¤±æ•—");
        return 1;
    }
    
    const char* message = "ä½ å¥½ï¼Œä¸–ç•Œï¼";
    ssize_t bytes_written = write(fd, message, strlen(message));
    if (bytes_written == -1) {
        perror("write å¤±æ•—");
        close(fd);
        return 1;
    }
    
    close(fd);
    
    // è®€å–æª”æ¡ˆ
    fd = open("test.txt", O_RDONLY);
    if (fd == -1) {
        perror("è®€å–æ™‚ open å¤±æ•—");
        return 1;
    }
    
    char buffer[100];
    ssize_t bytes_read = read(fd, buffer, sizeof(buffer) - 1);
    if (bytes_read > 0) {
        buffer[bytes_read] = '\0';
        printf("æª”æ¡ˆå…§å®¹: %s\n", buffer);
    }
    
    close(fd);
    
    // æª”æ¡ˆçµ±è¨ˆ
    struct stat fileStat;
    if (stat("test.txt", &fileStat) == 0) {
        printf("æª”æ¡ˆå¤§å°: %ld ä½å…ƒçµ„\n", fileStat.st_size);
        printf("æ˜¯æª”æ¡ˆ: %s\n", S_ISREG(fileStat.st_mode) ? "æ˜¯" : "å¦");
        printf("æ˜¯ç›®éŒ„: %s\n", S_ISDIR(fileStat.st_mode) ? "æ˜¯" : "å¦");
    }
    
    // ç›®éŒ„æ“ä½œ
    DIR* dir = opendir(".");
    if (dir != NULL) {
        struct dirent* entry;
        printf("ç•¶å‰ç›®éŒ„ä¸­çš„æª”æ¡ˆ:\n");
        while ((entry = readdir(dir)) != NULL) {
            printf("  %s\n", entry->d_name);
        }
        closedir(dir);
    }
    
    // è¡Œç¨‹è³‡è¨Š
    char cwd[1024];
    if (getcwd(cwd, sizeof(cwd)) != NULL) {
        printf("ç•¶å‰å·¥ä½œç›®éŒ„: %s\n", cwd);
    }
    
    printf("è¡Œç¨‹ ID: %d\n", getpid());
    printf("çˆ¶è¡Œç¨‹ ID: %d\n", getppid());
    
    // æ¸…ç†
    unlink("test.txt");
    
    return 0;
}
```
</UniversalEditor>

## 6. å¸¸è¦‹é™·é˜±
- **ç«¶æ…‹æ¢ä»¶**ï¼šä½¿ç”¨é©ç•¶çš„åŒæ­¥æ©Ÿåˆ¶
- **ä¿¡è™Ÿè™•ç†å™¨å®‰å…¨æ€§**ï¼šåœ¨ä¿¡è™Ÿè™•ç†å™¨ä¸­åªä½¿ç”¨éåŒæ­¥ä¿¡è™Ÿå®‰å…¨å‡½æ•¸
- **è³‡æºæ´©æ¼**ï¼šå§‹çµ‚é—œé–‰æª”æ¡ˆæè¿°ç¬¦ä¸¦é‡‹æ”¾åˆ†é…çš„è¨˜æ†¶é«”
- **è¡Œç¨‹æ®­å±**ï¼šæ­£ç¢ºç­‰å¾…å­è¡Œç¨‹
- **åŸ·è¡Œç·’å®‰å…¨**ï¼šä½¿ç”¨äº’æ–¥é–å’Œå…¶ä»–åŒæ­¥åŸèª

## 7. ç·´ç¿’é¡Œ
1. æ’°å¯«ä¸€å€‹ç¨‹å¼ï¼Œå»ºç«‹å¤šå€‹å­è¡Œç¨‹ä¸¦ç­‰å¾…æ‰€æœ‰è¡Œç¨‹å®Œæˆã€‚
2. å¯¦ç¾ä¸€å€‹å¯ä»¥åŸ·è¡Œå‘½ä»¤çš„ç°¡å–® shellã€‚
3. å»ºç«‹ä¸€å€‹å¯ä»¥å„ªé›…è™•ç†å¤šå€‹ä¿¡è™Ÿçš„ç¨‹å¼ã€‚
4. æ’°å¯«ä¸€å€‹åŸ·è¡Œä¸¦è¡Œè¨ˆç®—çš„å¤šåŸ·è¡Œç·’ç¨‹å¼ã€‚

## 8. æ•ˆèƒ½åˆ†æ
- **è¡Œç¨‹å»ºç«‹**ï¼šæ¯”åŸ·è¡Œç·’å»ºç«‹æ›´æ˜‚è²´
- **è¡Œç¨‹é–“é€šè¨Š**ï¼šæ¯”åŸ·è¡Œç·’é–“é€šè¨Šæ›´æ…¢
- **ç³»çµ±å‘¼å«**ï¼šèˆ‡ä½¿ç”¨è€…ç©ºé–“æ“ä½œç›¸æ¯”æœ‰é–‹éŠ·
- **ä¿¡è™Ÿè™•ç†**ï¼šéåŒæ­¥ä¸”å¯èƒ½ä¸­æ–·æ­£å¸¸åŸ·è¡Œ
- **åŸ·è¡Œç·’åŒæ­¥**ï¼šäº’æ–¥é–å’Œä¿¡è™Ÿé‡æä¾›å®‰å…¨çš„ä¸¦ç™¼å­˜å–

---

> **å°çµ**ï¼šC ç³»çµ±ç¨‹å¼è¨­è¨ˆæä¾›å°ä½œæ¥­ç³»çµ±åŠŸèƒ½çš„ç›´æ¥å­˜å–ã€‚ç†è§£è¡Œç¨‹ç®¡ç†ã€åŸ·è¡Œç·’ã€ä¿¡è™Ÿè™•ç†å’Œç³»çµ±å‘¼å«å°å»ºæ§‹ç³»çµ±ç´šæ‡‰ç”¨ç¨‹å¼å’Œå·¥å…·è‡³é—œé‡è¦ã€‚ 