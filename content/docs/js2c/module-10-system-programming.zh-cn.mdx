---
title: "ç³»ç»Ÿç¼–ç¨‹åŸºç¡€"
description: "ä» JavaScript è§†è§’å­¦ä¹  C è¯­è¨€ç³»ç»Ÿç¼–ç¨‹ï¼Œç†è§£è¿›ç¨‹ã€çº¿ç¨‹ã€ä¿¡å·ã€ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶å¯¹æ¯” JavaScript è¿è¡Œæ—¶ç¯å¢ƒã€‚"
---

# ç³»ç»Ÿç¼–ç¨‹åŸºç¡€

## 1. æ¦‚å¿µä»‹ç»

### ä» JavaScript è¿è¡Œæ—¶åˆ° C ç³»ç»Ÿç¼–ç¨‹

åœ¨ JavaScript ä¸­ï¼Œä½ åœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸­å·¥ä½œï¼Œè¯¥ç¯å¢ƒæŠ½è±¡äº†ç³»ç»Ÿçº§æ“ä½œã€‚è€Œåœ¨ C è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿï¼Œå…è®¸ä½ åˆ›å»ºè¿›ç¨‹ã€å¤„ç†ä¿¡å·å’Œè¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šC ç³»ç»Ÿç¼–ç¨‹ç»™ä½ å¯¹æ“ä½œç³»ç»Ÿçš„åº•å±‚æ§åˆ¶ï¼Œä½¿ä½ èƒ½å¤Ÿæ„å»ºç³»ç»Ÿå·¥å…·ã€å®ˆæŠ¤è¿›ç¨‹å’Œé«˜æ€§èƒ½åº”ç”¨ç¨‹åºã€‚

## 2. è¿›ç¨‹å’Œè¿›ç¨‹ç®¡ç†

<UniversalEditor title="è¿›ç¨‹åˆ›å»º" compare={true}>
```javascript !! js
// JavaScript - è¿›ç¨‹ç®¡ç† (Node.js)
const { spawn, exec } = require('child_process');

// ç”Ÿæˆæ–°è¿›ç¨‹
const child = spawn('ls', ['-la'], {
    stdio: 'inherit'
});

child.on('close', (code) => {
    console.log(`å­è¿›ç¨‹é€€å‡ºï¼Œä»£ç : ${code}`);
});

// æ‰§è¡Œå‘½ä»¤
exec('echo "æ¥è‡ªå­è¿›ç¨‹çš„é—®å€™"', (error, stdout, stderr) => {
    if (error) {
        console.error(`é”™è¯¯: ${error}`);
        return;
    }
    console.log(`è¾“å‡º: ${stdout}`);
});

// è¿›ç¨‹ä¿¡æ¯
console.log('è¿›ç¨‹ ID:', process.pid);
console.log('çˆ¶è¿›ç¨‹ ID:', process.ppid);
console.log('å¹³å°:', process.platform);
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>
#include <sys/types.h>

int main() {
    pid_t pid;
    
    printf("çˆ¶è¿›ç¨‹ ID: %d\n", getpid());
    
    // åˆ›å»ºæ–°è¿›ç¨‹
    pid = fork();
    
    if (pid < 0) {
        // fork å¤±è´¥
        perror("fork å¤±è´¥");
        exit(1);
    } else if (pid == 0) {
        // å­è¿›ç¨‹
        printf("å­è¿›ç¨‹ ID: %d\n", getpid());
        printf("å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ ID: %d\n", getppid());
        
        // æ‰§è¡Œå‘½ä»¤
        execlp("ls", "ls", "-la", NULL);
        
        // å¦‚æœ execlp è¿”å›ï¼Œè¯´æ˜æœ‰é”™è¯¯
        perror("execlp å¤±è´¥");
        exit(1);
    } else {
        // çˆ¶è¿›ç¨‹
        printf("çˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ %d\n", pid);
        
        int status;
        wait(&status);
        
        if (WIFEXITED(status)) {
            printf("å­è¿›ç¨‹é€€å‡ºï¼ŒçŠ¶æ€: %d\n", WEXITSTATUS(status));
        }
    }
    
    return 0;
}
```
</UniversalEditor>

## 3. çº¿ç¨‹å’Œå¹¶å‘

<UniversalEditor title="çº¿ç¨‹" compare={true}>
```javascript !! js
// JavaScript - çº¿ç¨‹ (Node.js Worker Threads)
const { Worker, isMainThread, parentPort, workerData } = require('worker_threads');

if (isMainThread) {
    // ä¸»çº¿ç¨‹
    const worker = new Worker(__filename, {
        workerData: { number: 42 }
    });
    
    worker.on('message', (result) => {
        console.log('æ¥è‡ªå·¥ä½œçº¿ç¨‹çš„ç»“æœ:', result);
    });
    
    worker.on('error', (error) => {
        console.error('å·¥ä½œçº¿ç¨‹é”™è¯¯:', error);
    });
    
    worker.on('exit', (code) => {
        if (code !== 0) {
            console.error(`å·¥ä½œçº¿ç¨‹åœæ­¢ï¼Œé€€å‡ºä»£ç : ${code}`);
        }
    });
} else {
    // å·¥ä½œçº¿ç¨‹
    const result = workerData.number * 2;
    parentPort.postMessage(result);
}

// å¼‚æ­¥/ç­‰å¾…å¹¶å‘
async function concurrentTasks() {
    const promises = [
        new Promise(resolve => setTimeout(() => resolve('ä»»åŠ¡ 1'), 1000)),
        new Promise(resolve => setTimeout(() => resolve('ä»»åŠ¡ 2'), 500)),
        new Promise(resolve => setTimeout(() => resolve('ä»»åŠ¡ 3'), 1500))
    ];
    
    const results = await Promise.all(promises);
    console.log('æ‰€æœ‰ä»»åŠ¡å®Œæˆ:', results);
}

concurrentTasks();
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <unistd.h>

// çº¿ç¨‹å‡½æ•°
void* threadFunction(void* arg) {
    int threadId = *(int*)arg;
    printf("çº¿ç¨‹ %d å¼€å§‹\n", threadId);
    
    // æ¨¡æ‹Ÿå·¥ä½œ
    sleep(1);
    
    printf("çº¿ç¨‹ %d ç»“æŸ\n", threadId);
    return NULL;
}

// å¸¦å…±äº«æ•°æ®çš„çº¿ç¨‹
int sharedCounter = 0;
pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;

void* incrementCounter(void* arg) {
    int iterations = *(int*)arg;
    
    for (int i = 0; i < iterations; i++) {
        pthread_mutex_lock(&mutex);
        sharedCounter++;
        pthread_mutex_unlock(&mutex);
    }
    
    return NULL;
}

int main() {
    pthread_t threads[3];
    int threadIds[3] = {1, 2, 3};
    
    // åˆ›å»ºçº¿ç¨‹
    for (int i = 0; i < 3; i++) {
        if (pthread_create(&threads[i], NULL, threadFunction, &threadIds[i]) != 0) {
            perror("åˆ›å»ºçº¿ç¨‹å¤±è´¥");
            return 1;
        }
    }
    
    // ç­‰å¾…çº¿ç¨‹å®Œæˆ
    for (int i = 0; i < 3; i++) {
        pthread_join(threads[i], NULL);
    }
    
    printf("æ‰€æœ‰çº¿ç¨‹å®Œæˆ\n");
    
    // å¸¦å…±äº«æ•°æ®çš„çº¿ç¨‹
    pthread_t counterThreads[2];
    int iterations = 1000;
    
    for (int i = 0; i < 2; i++) {
        pthread_create(&counterThreads[i], NULL, incrementCounter, &iterations);
    }
    
    for (int i = 0; i < 2; i++) {
        pthread_join(counterThreads[i], NULL);
    }
    
    printf("æœ€ç»ˆè®¡æ•°å™¨å€¼: %d\n", sharedCounter);
    
    return 0;
}
```
</UniversalEditor>

## 4. ä¿¡å·å¤„ç†

<UniversalEditor title="ä¿¡å·å¤„ç†" compare={true}>
```javascript !! js
// JavaScript - ä¿¡å·å¤„ç† (Node.js)
process.on('SIGINT', () => {
    console.log('æ”¶åˆ° SIGINT (Ctrl+C)');
    console.log('æ­£åœ¨æ¸…ç†...');
    process.exit(0);
});

process.on('SIGTERM', () => {
    console.log('æ”¶åˆ° SIGTERM');
    console.log('ä¼˜é›…å…³é—­...');
    process.exit(0);
});

process.on('uncaughtException', (error) => {
    console.error('æœªæ•è·çš„å¼‚å¸¸:', error);
    process.exit(1);
});

// è‡ªå®šä¹‰ä¿¡å·å¤„ç†
let cleanupDone = false;

function cleanup() {
    if (!cleanupDone) {
        console.log('æ‰§è¡Œæ¸…ç†...');
        cleanupDone = true;
    }
}

process.on('exit', (code) => {
    cleanup();
    console.log(`è¿›ç¨‹é€€å‡ºï¼Œä»£ç : ${code}`);
});

// æ¨¡æ‹Ÿä¸€äº›å·¥ä½œ
console.log('è¿›ç¨‹å·²å¯åŠ¨ã€‚æŒ‰ Ctrl+C åœæ­¢ã€‚');
setInterval(() => {
    console.log('å·¥ä½œä¸­...');
}, 1000);
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <signal.h>
#include <unistd.h>

volatile sig_atomic_t flag = 0;

// ä¿¡å·å¤„ç†å‡½æ•°
void signalHandler(int sig) {
    if (sig == SIGINT) {
        printf("\næ”¶åˆ° SIGINT (Ctrl+C)\n");
        printf("æ­£åœ¨æ¸…ç†...\n");
        flag = 1;
    } else if (sig == SIGTERM) {
        printf("æ”¶åˆ° SIGTERM\n");
        printf("ä¼˜é›…å…³é—­...\n");
        flag = 1;
    }
}

// æ¸…ç†å‡½æ•°
void cleanup() {
    printf("æ‰§è¡Œæ¸…ç†...\n");
    // åœ¨æ­¤æ·»åŠ æ¸…ç†ä»£ç 
}

int main() {
    // è®¾ç½®ä¿¡å·å¤„ç†å™¨
    if (signal(SIGINT, signalHandler) == SIG_ERR) {
        perror("è®¾ç½® SIGINT å¤„ç†å™¨å¤±è´¥");
        return 1;
    }
    
    if (signal(SIGTERM, signalHandler) == SIG_ERR) {
        perror("è®¾ç½® SIGTERM å¤„ç†å™¨å¤±è´¥");
        return 1;
    }
    
    printf("è¿›ç¨‹å·²å¯åŠ¨ã€‚æŒ‰ Ctrl+C åœæ­¢ã€‚\n");
    printf("è¿›ç¨‹ ID: %d\n", getpid());
    
    // ä¸»å¾ªç¯
    while (!flag) {
        printf("å·¥ä½œä¸­...\n");
        sleep(1);
    }
    
    cleanup();
    printf("è¿›ç¨‹é€€å‡º\n");
    
    return 0;
}
```
</UniversalEditor>

## 5. ç³»ç»Ÿè°ƒç”¨å’Œæ–‡ä»¶æ“ä½œ

<UniversalEditor title="ç³»ç»Ÿè°ƒç”¨" compare={true}>
```javascript !! js
// JavaScript - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ (Node.js)
const fs = require('fs');
const path = require('path');

// æ–‡ä»¶æ“ä½œ
fs.writeFileSync('test.txt', 'ä½ å¥½ï¼Œä¸–ç•Œï¼');
const content = fs.readFileSync('test.txt', 'utf8');
console.log('æ–‡ä»¶å†…å®¹:', content);

// ç›®å½•æ“ä½œ
fs.mkdirSync('testdir', { recursive: true });
const files = fs.readdirSync('.');
console.log('å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶:', files);

// æ–‡ä»¶ç»Ÿè®¡
const stats = fs.statSync('test.txt');
console.log('æ–‡ä»¶å¤§å°:', stats.size);
console.log('æ˜¯æ–‡ä»¶:', stats.isFile());
console.log('æ˜¯ç›®å½•:', stats.isDirectory());

// è¿›ç¨‹ä¿¡æ¯
console.log('å½“å‰å·¥ä½œç›®å½•:', process.cwd());
console.log('ç¯å¢ƒå˜é‡:', process.env.PATH);

// æ¸…ç†
fs.unlinkSync('test.txt');
fs.rmdirSync('testdir');
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <fcntl.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <dirent.h>
#include <string.h>

int main() {
    // ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨è¿›è¡Œæ–‡ä»¶æ“ä½œ
    int fd = open("test.txt", O_WRONLY | O_CREAT | O_TRUNC, 0644);
    if (fd == -1) {
        perror("open å¤±è´¥");
        return 1;
    }
    
    const char* message = "ä½ å¥½ï¼Œä¸–ç•Œï¼";
    ssize_t bytes_written = write(fd, message, strlen(message));
    if (bytes_written == -1) {
        perror("write å¤±è´¥");
        close(fd);
        return 1;
    }
    
    close(fd);
    
    // è¯»å–æ–‡ä»¶
    fd = open("test.txt", O_RDONLY);
    if (fd == -1) {
        perror("è¯»å–æ—¶ open å¤±è´¥");
        return 1;
    }
    
    char buffer[100];
    ssize_t bytes_read = read(fd, buffer, sizeof(buffer) - 1);
    if (bytes_read > 0) {
        buffer[bytes_read] = '\0';
        printf("æ–‡ä»¶å†…å®¹: %s\n", buffer);
    }
    
    close(fd);
    
    // æ–‡ä»¶ç»Ÿè®¡
    struct stat fileStat;
    if (stat("test.txt", &fileStat) == 0) {
        printf("æ–‡ä»¶å¤§å°: %ld å­—èŠ‚\n", fileStat.st_size);
        printf("æ˜¯æ–‡ä»¶: %s\n", S_ISREG(fileStat.st_mode) ? "æ˜¯" : "å¦");
        printf("æ˜¯ç›®å½•: %s\n", S_ISDIR(fileStat.st_mode) ? "æ˜¯" : "å¦");
    }
    
    // ç›®å½•æ“ä½œ
    DIR* dir = opendir(".");
    if (dir != NULL) {
        struct dirent* entry;
        printf("å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶:\n");
        while ((entry = readdir(dir)) != NULL) {
            printf("  %s\n", entry->d_name);
        }
        closedir(dir);
    }
    
    // è¿›ç¨‹ä¿¡æ¯
    char cwd[1024];
    if (getcwd(cwd, sizeof(cwd)) != NULL) {
        printf("å½“å‰å·¥ä½œç›®å½•: %s\n", cwd);
    }
    
    printf("è¿›ç¨‹ ID: %d\n", getpid());
    printf("çˆ¶è¿›ç¨‹ ID: %d\n", getppid());
    
    // æ¸…ç†
    unlink("test.txt");
    
    return 0;
}
```
</UniversalEditor>

## 6. å¸¸è§é™·é˜±
- **ç«æ€æ¡ä»¶**ï¼šä½¿ç”¨é€‚å½“çš„åŒæ­¥æœºåˆ¶
- **ä¿¡å·å¤„ç†å™¨å®‰å…¨æ€§**ï¼šåœ¨ä¿¡å·å¤„ç†å™¨ä¸­åªä½¿ç”¨å¼‚æ­¥ä¿¡å·å®‰å…¨å‡½æ•°
- **èµ„æºæ³„æ¼**ï¼šå§‹ç»ˆå…³é—­æ–‡ä»¶æè¿°ç¬¦å¹¶é‡Šæ”¾åˆ†é…çš„å†…å­˜
- **è¿›ç¨‹åƒµå°¸**ï¼šæ­£ç¡®ç­‰å¾…å­è¿›ç¨‹
- **çº¿ç¨‹å®‰å…¨**ï¼šä½¿ç”¨äº’æ–¥é”å’Œå…¶ä»–åŒæ­¥åŸè¯­

## 7. ç»ƒä¹ é¢˜
1. ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œåˆ›å»ºå¤šä¸ªå­è¿›ç¨‹å¹¶ç­‰å¾…æ‰€æœ‰è¿›ç¨‹å®Œæˆã€‚
2. å®ç°ä¸€ä¸ªå¯ä»¥æ‰§è¡Œå‘½ä»¤çš„ç®€å• shellã€‚
3. åˆ›å»ºä¸€ä¸ªå¯ä»¥ä¼˜é›…å¤„ç†å¤šä¸ªä¿¡å·çš„ç¨‹åºã€‚
4. ç¼–å†™ä¸€ä¸ªæ‰§è¡Œå¹¶è¡Œè®¡ç®—çš„å¤šçº¿ç¨‹ç¨‹åºã€‚

## 8. æ€§èƒ½åˆ†æ
- **è¿›ç¨‹åˆ›å»º**ï¼šæ¯”çº¿ç¨‹åˆ›å»ºæ›´æ˜‚è´µ
- **è¿›ç¨‹é—´é€šä¿¡**ï¼šæ¯”çº¿ç¨‹é—´é€šä¿¡æ›´æ…¢
- **ç³»ç»Ÿè°ƒç”¨**ï¼šä¸ç”¨æˆ·ç©ºé—´æ“ä½œç›¸æ¯”æœ‰å¼€é”€
- **ä¿¡å·å¤„ç†**ï¼šå¼‚æ­¥ä¸”å¯èƒ½ä¸­æ–­æ­£å¸¸æ‰§è¡Œ
- **çº¿ç¨‹åŒæ­¥**ï¼šäº’æ–¥é”å’Œä¿¡å·é‡æä¾›å®‰å…¨çš„å¹¶å‘è®¿é—®

---

> **å°ç»“**ï¼šC ç³»ç»Ÿç¼–ç¨‹æä¾›å¯¹æ“ä½œç³»ç»ŸåŠŸèƒ½çš„ç›´æ¥è®¿é—®ã€‚ç†è§£è¿›ç¨‹ç®¡ç†ã€çº¿ç¨‹ã€ä¿¡å·å¤„ç†å’Œç³»ç»Ÿè°ƒç”¨å¯¹æ„å»ºç³»ç»Ÿçº§åº”ç”¨ç¨‹åºå’Œå·¥å…·è‡³å…³é‡è¦ã€‚ 