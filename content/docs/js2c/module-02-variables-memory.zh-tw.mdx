---
title: "è®Šæ•¸ã€é¡å‹å’Œè¨˜æ†¶é«”åŸºç¤"
description: "ç†è§£Cèªè¨€çš„è¨˜æ†¶é«”æ¨¡å‹ã€è®Šæ•¸å„²å­˜é¡å‹ã€è¨˜æ†¶é«”ä½ˆå±€ï¼Œä»¥åŠèˆ‡JavaScriptæ–¹æ³•ç›¸æ¯”è®Šæ•¸åœ¨è¨˜æ†¶é«”ä¸­çš„å„²å­˜æ–¹å¼ã€‚"
---

# è®Šæ•¸ã€é¡å‹å’Œè¨˜æ†¶é«”åŸºç¤

## 1. ä»‹ç´¹

### å¾JavaScriptçš„æŠ½è±¡è¨˜æ†¶é«”åˆ°Cçš„å¯¦é«”è¨˜æ†¶é«”

ä½œç‚ºJavaScripté–‹ç™¼è€…ï¼Œä½ ç¿’æ…£æ–¼å°‡è®Šæ•¸è¦–ç‚ºå„²å­˜å€¼çš„æŠ½è±¡å®¹å™¨ã€‚åœ¨Cèªè¨€ä¸­ï¼Œä½ å°‡å­¸æœƒå°‡è®Šæ•¸è¦–ç‚ºå¯¦é«”è¨˜æ†¶é«”ä¸­çš„ç‰¹å®šä½ç½®ï¼Œå…·æœ‰ç²¾ç¢ºçš„å¤§å°å’Œä½ˆå±€ã€‚

é€™ç¨®æ€ç¶­æ–¹å¼çš„æ ¹æœ¬è½‰è®Šå°æ–¼ç†è§£Cç¨‹å¼è¨­è¨ˆå’Œç³»çµ±ç¨‹å¼è¨­è¨ˆè‡³é—œé‡è¦ã€‚

> ğŸ’¡ **é—œéµæ¦‚å¿µ**: åœ¨Cèªè¨€ä¸­ï¼Œæ¯å€‹è®Šæ•¸éƒ½æœ‰ç‰¹å®šçš„è¨˜æ†¶é«”ä½å€ã€å¤§å°å’Œå„²å­˜æŒçºŒæ™‚é–“ã€‚ç†è§£é€™äº›æ¦‚å¿µå°æ–¼ç·¨å¯«é«˜æ•ˆä¸”æ­£ç¢ºçš„Cç¨‹å¼è‡³é—œé‡è¦ã€‚

## 2. è¨˜æ†¶é«”æ¨¡å‹æ¯”è¼ƒ

### 2.1 JavaScript vs C è¨˜æ†¶é«”æ¨¡å‹

<UniversalEditor title="è¨˜æ†¶é«”æ¨¡å‹æ¯”è¼ƒ" compare={true}>
```javascript !! js
// JavaScript - æŠ½è±¡è¨˜æ†¶é«”æ¨¡å‹
let x = 42;
let y = "hello";
let arr = [1, 2, 3];

// JavaScripté–‹ç™¼è€…è¦–è§’:
// - è®Šæ•¸æ˜¯æŠ½è±¡å®¹å™¨
// - è¨˜æ†¶é«”ç®¡ç†æ˜¯è‡ªå‹•çš„
// - ç„¡éœ€è€ƒæ…®è¨˜æ†¶é«”ä½å€
// - åƒåœ¾å›æ”¶è™•ç†æ¸…ç†

console.log(x, y, arr);
console.log(typeof x, typeof y, typeof arr);

// JavaScriptä¸æš´éœ²è¨˜æ†¶é«”ä½å€
// (é™¤äº†æŸäº›é™¤éŒ¯å ´æ™¯)
```

```c !! c
#include <stdio.h>

int main() {
    // C - å¯¦é«”è¨˜æ†¶é«”æ¨¡å‹
    int x = 42;
    char y[] = "hello";
    int arr[] = {1, 2, 3};
    
    // Cé–‹ç™¼è€…è¦–è§’:
    // - è®Šæ•¸æ˜¯è¨˜æ†¶é«”ä½ç½®
    // - æ¯å€‹è®Šæ•¸éƒ½æœ‰ç‰¹å®šä½å€
    // - è¨˜æ†¶é«”ç®¡ç†æ˜¯æ‰‹å‹•çš„
    // - ç†è§£è¨˜æ†¶é«”ä½ˆå±€è‡³é—œé‡è¦
    
    printf("å€¼: x=%d, y=%s, arr[0]=%d\n", x, y, arr[0]);
    printf("å¤§å°: x=%zu ä½å…ƒçµ„, y=%zu ä½å…ƒçµ„, arr=%zu ä½å…ƒçµ„\n", 
           sizeof(x), sizeof(y), sizeof(arr));
    printf("ä½å€: x=%p, y=%p, arr=%p\n", &x, &y, &arr);
    
    return 0;
}
```
</UniversalEditor>

### 2.2 è¨˜æ†¶é«”ä½ˆå±€è¦–è¦ºåŒ–

<UniversalEditor title="è¨˜æ†¶é«”ä½ˆå±€ç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScript - è¨˜æ†¶é«”ä½ˆå±€è¢«æŠ½è±¡åŒ–
function demonstrateMemory() {
    let localVar = 100;
    let localString = "test";
    let localArray = [1, 2, 3];
    
    // JavaScripté–‹ç™¼è€…ç„¡éœ€è€ƒæ…®:
    // - å †ç–Šèˆ‡å †ç©åˆ†é…
    // - è¨˜æ†¶é«”ä½å€
    // - è®Šæ•¸å°é½Š
    // - è¨˜æ†¶é«”æ¸…ç†
    
    console.log("JavaScriptè®Šæ•¸:", localVar, localString, localArray);
}

demonstrateMemory();
```

```c !! c
#include <stdio.h>

void demonstrateMemory() {
    // C - é¡¯å¼è¨˜æ†¶é«”ä½ˆå±€
    int local_var = 100;           // å †ç–Šåˆ†é…
    char local_string[] = "test";  // å †ç–Šåˆ†é…
    int local_array[] = {1, 2, 3}; // å †ç–Šåˆ†é…
    
    // Cé–‹ç™¼è€…å¿…é ˆç†è§£:
    // - å †ç–Šèˆ‡å †ç©åˆ†é…
    // - è¨˜æ†¶é«”ä½å€å’ŒæŒ‡æ¨™
    // - è®Šæ•¸å°é½Šå’Œå¡«å……
    // - è¨˜æ†¶é«”æ¸…ç†è²¬ä»»
    
    printf("Cè®Šæ•¸: %d, %s, %d\n", local_var, local_string, local_array[0]);
    printf("å †ç–Šä½å€: var=%p, string=%p, array=%p\n", 
           &local_var, &local_string, &local_array);
}

int main() {
    demonstrateMemory();
    return 0;
}
```
</UniversalEditor>

## 3. è®Šæ•¸å„²å­˜é¡å‹

### 3.1 å„²å­˜æŒçºŒæ™‚é–“

Cèªè¨€æœ‰å››ç¨®å„²å­˜æŒçºŒæ™‚é–“é¡å‹ï¼Œæ¯ç¨®éƒ½æœ‰ä¸åŒçš„è¨˜æ†¶é«”åˆ†é…å’Œç”Ÿå‘½é€±æœŸç‰¹å¾µï¼š

<UniversalEditor title="å„²å­˜æŒçºŒæ™‚é–“ç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScript - è‡ªå‹•å„²å­˜æŒçºŒæ™‚é–“
function storageExample() {
    let localVar = "local";  // å‡½æ•¸ä½œç”¨åŸŸ
    const localConst = 42;   // å‡½æ•¸ä½œç”¨åŸŸ
    
    if (true) {
        let blockVar = "block";  // å€å¡Šä½œç”¨åŸŸ
        console.log(blockVar);
    }
    // blockVaråœ¨é€™è£¡ä¸å¯å­˜å–
    
    return localVar;
}

// å…¨åŸŸè®Šæ•¸
let globalVar = "global";
const globalConst = 100;

console.log(globalVar, globalConst);
```

```c !! c
#include <stdio.h>

// å…¨åŸŸè®Šæ•¸ï¼ˆéœæ…‹å„²å­˜æŒçºŒæ™‚é–“ï¼‰
int global_var = 100;
const int global_const = 200;

void storageExample() {
    // è‡ªå‹•å„²å­˜æŒçºŒæ™‚é–“ï¼ˆå †ç–Šï¼‰
    int local_var = 42;
    const int local_const = 50;
    
    if (1) {
        int block_var = 30;
        printf("å€å¡Šè®Šæ•¸: %d\n", block_var);
    }
    // block_varåœ¨é€™è£¡ä¸å¯å­˜å–
    
    printf("å€åŸŸè®Šæ•¸: %d, %d\n", local_var, local_const);
    printf("å…¨åŸŸè®Šæ•¸: %d, %d\n", global_var, global_const);
}

int main() {
    storageExample();
    return 0;
}
```
</UniversalEditor>

### 3.2 å„²å­˜æŒçºŒæ™‚é–“é¡å‹

| å„²å­˜æŒçºŒæ™‚é–“ | JavaScriptç­‰æ•ˆ | Cé—œéµå­— | ç”Ÿå‘½é€±æœŸ | è¨˜æ†¶é«”ä½ç½® |
|-------------|----------------|---------|----------|----------|
| **è‡ªå‹•** | å‡½æ•¸/å€å¡Šä½œç”¨åŸŸ | `auto`ï¼ˆé è¨­ï¼‰ | å‡½æ•¸/å€å¡Š | å †ç–Š |
| **éœæ…‹** | æ¨¡çµ„ä½œç”¨åŸŸ | `static` | ç¨‹å¼ | è³‡æ–™æ®µ |
| **åŸ·è¡Œç·’** | - | `_Thread_local` | åŸ·è¡Œç·’ | åŸ·è¡Œç·’æœ¬åœ°å„²å­˜ |
| **åˆ†é…** | å‹•æ…‹åˆ†é… | `malloc/free` | æ‰‹å‹• | å †ç© |

### 3.3 éœæ…‹è®Šæ•¸

<UniversalEditor title="éœæ…‹è®Šæ•¸ç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScript - æ¨¡çµ„ç´šè®Šæ•¸
let counter = 0;

function incrementCounter() {
    counter++;
    return counter;
}

function getCounter() {
    return counter;
}

console.log(incrementCounter());  // 1
console.log(incrementCounter());  // 2
console.log(getCounter());        // 2
```

```c !! c
#include <stdio.h>

// éœæ…‹è®Šæ•¸ï¼ˆæª”æ¡ˆä½œç”¨åŸŸï¼‰
static int counter = 0;

int incrementCounter() {
    counter++;
    return counter;
}

int getCounter() {
    return counter;
}

int main() {
    printf("è¨ˆæ•¸å™¨: %d\n", incrementCounter());  // 1
    printf("è¨ˆæ•¸å™¨: %d\n", incrementCounter());  // 2
    printf("è¨ˆæ•¸å™¨: %d\n", getCounter());        // 2
    
    return 0;
}
```
</UniversalEditor>

## 4. è®Šæ•¸ä½œç”¨åŸŸå’Œç”Ÿå‘½é€±æœŸ

### 4.1 ä½œç”¨åŸŸæ¯”è¼ƒ

<UniversalEditor title="ä½œç”¨åŸŸæ¯”è¼ƒ" compare={true}>
```javascript !! js
// JavaScriptä½œç”¨åŸŸè¦å‰‡
let globalVar = "global";

function outerFunction() {
    let outerVar = "outer";
    
    function innerFunction() {
        let innerVar = "inner";
        console.log("å…§éƒ¨å¯ä»¥å­˜å–:", globalVar, outerVar, innerVar);
    }
    
    innerFunction();
    console.log("å¤–éƒ¨å¯ä»¥å­˜å–:", globalVar, outerVar);
    // console.log(innerVar); // éŒ¯èª¤ - innerVarä¸å¯å­˜å–
}

outerFunction();
console.log("å…¨åŸŸå¯ä»¥å­˜å–:", globalVar);
// console.log(outerVar); // éŒ¯èª¤ - outerVarä¸å¯å­˜å–
```

```c !! c
#include <stdio.h>

// å…¨åŸŸä½œç”¨åŸŸ
char global_var[] = "global";

void outerFunction() {
    char outer_var[] = "outer";
    
    void innerFunction() {
        char inner_var[] = "inner";
        printf("å…§éƒ¨å¯ä»¥å­˜å–: %s, %s, %s\n", 
               global_var, outer_var, inner_var);
    }
    
    innerFunction();
    printf("å¤–éƒ¨å¯ä»¥å­˜å–: %s, %s\n", global_var, outer_var);
    // printf("%s", inner_var); // éŒ¯èª¤ - inner_varä¸å¯å­˜å–
}

int main() {
    outerFunction();
    printf("å…¨åŸŸå¯ä»¥å­˜å–: %s\n", global_var);
    // printf("%s", outer_var); // éŒ¯èª¤ - outer_varä¸å¯å­˜å–
    return 0;
}
```
</UniversalEditor>

### 4.2 å€å¡Šä½œç”¨åŸŸ

<UniversalEditor title="å€å¡Šä½œç”¨åŸŸç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScriptå€å¡Šä½œç”¨åŸŸï¼ˆES6+ï¼‰
function blockScopeExample() {
    let x = 10;
    
    if (true) {
        let x = 20;  // æ–°è®Šæ•¸ï¼Œé®è”½å¤–éƒ¨x
        let y = 30;  // å€å¡Šä½œç”¨åŸŸè®Šæ•¸
        console.log("å€å¡Šå…§éƒ¨:", x, y);
    }
    
    console.log("å€å¡Šå¤–éƒ¨:", x);
    // console.log(y); // éŒ¯èª¤ - yä¸å¯å­˜å–
}

blockScopeExample();
```

```c !! c
#include <stdio.h>

void blockScopeExample() {
    int x = 10;
    
    if (1) {
        int x = 20;  // æ–°è®Šæ•¸ï¼Œé®è”½å¤–éƒ¨x
        int y = 30;  // å€å¡Šä½œç”¨åŸŸè®Šæ•¸
        printf("å€å¡Šå…§éƒ¨: x=%d, y=%d\n", x, y);
    }
    
    printf("å€å¡Šå¤–éƒ¨: x=%d\n", x);
    // printf("y=%d", y); // éŒ¯èª¤ - yä¸å¯å­˜å–
}

int main() {
    blockScopeExample();
    return 0;
}
```
</UniversalEditor>

## 5. è¨˜æ†¶é«”ä½ˆå±€å’Œå°é½Š

### 5.1 è®Šæ•¸å¤§å°å’Œå°é½Š

<UniversalEditor title="è¨˜æ†¶é«”ä½ˆå±€åˆ†æ" compare={true}>
```javascript !! js
// JavaScript - å¤§å°è¢«æŠ½è±¡åŒ–
let smallNumber = 42;
let bigNumber = 12345678901234567890n;
let text = "Hello, World!";
let array = [1, 2, 3, 4, 5];

// JavaScripté–‹ç™¼è€…ç„¡éœ€æ“”å¿ƒ:
// - ç¢ºåˆ‡çš„è¨˜æ†¶é«”å¤§å°
// - è¨˜æ†¶é«”å°é½Š
// - è®Šæ•¸é–“çš„å¡«å……
// - å¹³å°ç‰¹å®šå¤§å°

console.log("JavaScriptè®Šæ•¸:", smallNumber, bigNumber, text, array);
```

```c !! c
#include <stdio.h>
#include <stdint.h>

int main() {
    // C - é¡¯å¼è¨˜æ†¶é«”å¤§å°å’Œå°é½Š
    char small_char = 'A';
    int regular_int = 42;
    long long big_int = 1234567890123456789LL;
    char text[] = "Hello, World!";
    int array[] = {1, 2, 3, 4, 5};
    
    // Cé–‹ç™¼è€…å¿…é ˆç†è§£è¨˜æ†¶é«”ä½ˆå±€
    printf("å¤§å°:\n");
    printf("  char: %zu ä½å…ƒçµ„\n", sizeof(small_char));
    printf("  int: %zu ä½å…ƒçµ„\n", sizeof(regular_int));
    printf("  long long: %zu ä½å…ƒçµ„\n", sizeof(big_int));
    printf("  æ–‡å­—é™£åˆ—: %zu ä½å…ƒçµ„\n", sizeof(text));
    printf("  inté™£åˆ—: %zu ä½å…ƒçµ„\n", sizeof(array));
    
    printf("\nä½å€:\n");
    printf("  char: %p\n", &small_char);
    printf("  int: %p\n", &regular_int);
    printf("  long long: %p\n", &big_int);
    printf("  æ–‡å­—: %p\n", &text);
    printf("  é™£åˆ—: %p\n", &array);
    
    return 0;
}
```
</UniversalEditor>

### 5.2 çµæ§‹é«”å°é½Š

<UniversalEditor title="çµæ§‹é«”å°é½Šç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScript - ç‰©ä»¶æ˜¯æŠ½è±¡çš„
let person = {
    age: 25,        // æ•¸å­—
    name: "John",   // å­—ä¸²
    active: true    // å¸ƒæ—å€¼
};

// JavaScripté–‹ç™¼è€…ç„¡éœ€è€ƒæ…®:
// - ç‰©ä»¶å±¬æ€§çš„è¨˜æ†¶é«”ä½ˆå±€
// - å°é½Šè¦æ±‚
// - æ¬„ä½é–“çš„å¡«å……
// - å¹³å°ç‰¹å®šè¨˜æ†¶é«”ä½ˆå±€

console.log("äººå“¡:", person);
console.log("ç‰©ä»¶å¤§å°ï¼ˆæŠ½è±¡ï¼‰:", Object.keys(person).length, "å€‹å±¬æ€§");
```

```c !! c
#include <stdio.h>

struct Person {
    char name[20];  // 20ä½å…ƒçµ„
    int age;        // 4ä½å…ƒçµ„
    char active;    // 1ä½å…ƒçµ„
    // å¯èƒ½æ·»åŠ å¡«å……ä»¥å°é½Š
};

struct OptimizedPerson {
    int age;        // 4ä½å…ƒçµ„
    char active;    // 1ä½å…ƒçµ„
    char name[20];  // 20ä½å…ƒçµ„
    // ç”±æ–¼æ›´å¥½çš„æ¬„ä½æ’åºï¼Œå¡«å……æ›´å°‘
};

int main() {
    struct Person person = {"John", 25, 1};
    struct OptimizedPerson opt_person = {25, 1, "John"};
    
    printf("Personçµæ§‹é«”:\n");
    printf("  å¤§å°: %zu ä½å…ƒçµ„\n", sizeof(struct Person));
    printf("  å§“å: %s\n", person.name);
    printf("  å¹´é½¡: %d\n", person.age);
    printf("  å•Ÿç”¨: %s\n", person.active ? "æ˜¯" : "å¦");
    
    printf("\næœ€ä½³åŒ–çš„Personçµæ§‹é«”:\n");
    printf("  å¤§å°: %zu ä½å…ƒçµ„\n", sizeof(struct OptimizedPerson));
    printf("  å§“å: %s\n", opt_person.name);
    printf("  å¹´é½¡: %d\n", opt_person.age);
    printf("  å•Ÿç”¨: %s\n", opt_person.active ? "æ˜¯" : "å¦");
    
    return 0;
}
```
</UniversalEditor>

## 6. è¨˜æ†¶é«”ç®¡ç†åŸºç¤

### 6.1 å †ç–Šèˆ‡å †ç©

<UniversalEditor title="å †ç–Šèˆ‡å †ç©ç¯„ä¾‹" compare={true}>
```javascript !! js
// JavaScript - è‡ªå‹•è¨˜æ†¶é«”ç®¡ç†
function memoryExample() {
    // æ‰€æœ‰è®Šæ•¸éƒ½æ˜¯è‡ªå‹•ç®¡ç†çš„
    let stackVar = 42;           // åŸºæœ¬é¡å‹ï¼ˆé¡ä¼¼å †ç–Šï¼‰
    let heapVar = [1, 2, 3];     // ç‰©ä»¶ï¼ˆé¡ä¼¼å †ç©ï¼‰
    let stringVar = "hello";     // å­—ä¸²ï¼ˆé¡ä¼¼å †ç©ï¼‰
    
    // JavaScripté–‹ç™¼è€…ç„¡éœ€:
    // - åœ¨å †ç–Šå’Œå †ç©ä¹‹é–“é¸æ“‡
    // - æ‰‹å‹•åˆ†é…è¨˜æ†¶é«”
    // - æ‰‹å‹•é‡‹æ”¾è¨˜æ†¶é«”
    // - æ“”å¿ƒè¨˜æ†¶é«”æ´©æ¼ï¼ˆé€šå¸¸ï¼‰
    
    console.log(stackVar, heapVar, stringVar);
}

memoryExample();
// æ‰€æœ‰è¨˜æ†¶é«”éƒ½è‡ªå‹•æ¸…ç†
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void memoryExample() {
    // å †ç–Šåˆ†é…ï¼ˆè‡ªå‹•ï¼‰
    int stack_var = 42;
    char stack_string[] = "hello";
    int stack_array[5] = {1, 2, 3, 4, 5};
    
    // å †ç©åˆ†é…ï¼ˆæ‰‹å‹•ï¼‰
    int* heap_var = malloc(sizeof(int));
    char* heap_string = malloc(6);  // 5å€‹å­—å…ƒ + ç©ºçµ‚æ­¢ç¬¦
    int* heap_array = malloc(5 * sizeof(int));
    
    if (heap_var != NULL && heap_string != NULL && heap_array != NULL) {
        *heap_var = 100;
        strcpy(heap_string, "world");
        for (int i = 0; i < 5; i++) {
            heap_array[i] = i + 1;
        }
        
        printf("å †ç–Š: %d, %s, %d\n", stack_var, stack_string, stack_array[0]);
        printf("å †ç©: %d, %s, %d\n", *heap_var, heap_string, heap_array[0]);
        
        // å †ç©è¨˜æ†¶é«”éœ€è¦æ‰‹å‹•æ¸…ç†
        free(heap_var);
        free(heap_string);
        free(heap_array);
    }
}

int main() {
    memoryExample();
    // å †ç–Šè®Šæ•¸è‡ªå‹•æ¸…ç†
    return 0;
}
```
</UniversalEditor>

### 6.2 è¨˜æ†¶é«”åˆ†é…æ¨¡å¼

<UniversalEditor title="è¨˜æ†¶é«”åˆ†é…æ¨¡å¼" compare={true}>
```javascript !! js
// JavaScript - éˆæ´»çš„è¨˜æ†¶é«”åˆ†é…
function allocationPatterns() {
    // å‹•æ…‹å¤§å°èª¿æ•´
    let dynamicArray = [];
    for (let i = 0; i < 1000; i++) {
        dynamicArray.push(i);
    }
    
    // ç‰©ä»¶å»ºç«‹
    let objects = [];
    for (let i = 0; i < 100; i++) {
        objects.push({
            id: i,
            name: `Object ${i}`,
            data: new Array(100).fill(i)
        });
    }
    
    // JavaScriptè™•ç†æ‰€æœ‰è¨˜æ†¶é«”ç®¡ç†
    console.log("å»ºç«‹äº†", dynamicArray.length, "å€‹é™£åˆ—å…ƒç´ ");
    console.log("å»ºç«‹äº†", objects.length, "å€‹ç‰©ä»¶");
}

allocationPatterns();
// åƒåœ¾å›æ”¶è™•ç†æ¸…ç†
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct {
    int id;
    char name[50];
    int* data;
} Object;

void allocationPatterns() {
    // å‹•æ…‹é™£åˆ—åˆ†é…
    int* dynamic_array = malloc(1000 * sizeof(int));
    if (dynamic_array != NULL) {
        for (int i = 0; i < 1000; i++) {
            dynamic_array[i] = i;
        }
        printf("å»ºç«‹äº† %d å€‹é™£åˆ—å…ƒç´ \n", 1000);
    }
    
    // ç‰©ä»¶åˆ†é…
    Object* objects = malloc(100 * sizeof(Object));
    if (objects != NULL) {
        for (int i = 0; i < 100; i++) {
            objects[i].id = i;
            snprintf(objects[i].name, 50, "Object %d", i);
            objects[i].data = malloc(100 * sizeof(int));
            if (objects[i].data != NULL) {
                for (int j = 0; j < 100; j++) {
                    objects[i].data[j] = i;
                }
            }
        }
        printf("å»ºç«‹äº† %d å€‹ç‰©ä»¶\n", 100);
        
        // æ¸…ç†å·¢ç‹€åˆ†é…
        for (int i = 0; i < 100; i++) {
            free(objects[i].data);
        }
        free(objects);
    }
    
    // æ¸…ç†
    if (dynamic_array != NULL) {
        free(dynamic_array);
    }
}

int main() {
    allocationPatterns();
    return 0;
}
```
</UniversalEditor>

## 7. è®Šæ•¸åˆå§‹åŒ–å’Œè³¦å€¼

### 7.1 åˆå§‹åŒ–æ¨¡å¼

<UniversalEditor title="è®Šæ•¸åˆå§‹åŒ–" compare={true}>
```javascript !! js
// JavaScriptåˆå§‹åŒ–
let uninitialized;           // undefined
let initialized = 42;        // é¡¯å¼åˆå§‹åŒ–
let array = [1, 2, 3];      // é™£åˆ—åˆå§‹åŒ–
let object = {x: 1, y: 2};  // ç‰©ä»¶åˆå§‹åŒ–

// JavaScriptæä¾›å®‰å…¨é è¨­å€¼
console.log("æœªåˆå§‹åŒ–:", uninitialized);  // undefined
console.log("å·²åˆå§‹åŒ–:", initialized);      // 42
console.log("é™£åˆ—:", array);                  // [1, 2, 3]
console.log("ç‰©ä»¶:", object);                // {x: 1, y: 2}
```

```c !! c
#include <stdio.h>

int main() {
    // Cåˆå§‹åŒ–
    int uninitialized;           // åŒ…å«åƒåœ¾å€¼
    int initialized = 42;        // é¡¯å¼åˆå§‹åŒ–
    int array[] = {1, 2, 3};     // é™£åˆ—åˆå§‹åŒ–
    int numbers[5] = {0};        // é›¶åˆå§‹åŒ–
    
    // Céœ€è¦é¡¯å¼åˆå§‹åŒ–ä»¥ç¢ºä¿å®‰å…¨
    printf("æœªåˆå§‹åŒ–: %d (åƒåœ¾å€¼)\n", uninitialized);
    printf("å·²åˆå§‹åŒ–: %d\n", initialized);
    printf("é™£åˆ—: [%d, %d, %d]\n", array[0], array[1], array[2]);
    printf("é›¶åˆå§‹åŒ–: [%d, %d, %d, %d, %d]\n", 
           numbers[0], numbers[1], numbers[2], numbers[3], numbers[4]);
    
    // å®‰å…¨åˆå§‹åŒ–å¯¦è¸
    int safe_var = 0;           // å§‹çµ‚åˆå§‹åŒ–
    char safe_string[10] = {0}; // é›¶åˆå§‹åŒ–é™£åˆ—
    
    return 0;
}
```
</UniversalEditor>

### 7.2 è³¦å€¼å’Œé¡å‹è½‰æ›

<UniversalEditor title="è³¦å€¼å’Œè½‰æ›" compare={true}>
```javascript !! js
// JavaScript - éˆæ´»çš„è³¦å€¼å’Œè½‰æ›
let x = 42;
let y = "10";

// è‡ªå‹•é¡å‹è½‰æ›
let sum = x + y;        // "4210" (å­—ä¸²é€£æ¥)
let diff = x - y;       // 32 (æ•¸å€¼æ¸›æ³•)
let product = x * y;    // 420 (æ•¸å€¼ä¹˜æ³•)

// é¡¯å¼è½‰æ›
let numY = parseInt(y);
let strX = x.toString();

console.log("å’Œ:", sum, typeof sum);
console.log("å·®:", diff, typeof diff);
console.log("ç©:", product, typeof product);
console.log("è½‰æ›å¾Œçš„Y:", numY, typeof numY);
console.log("è½‰æ›å¾Œçš„X:", strX, typeof strX);
```

```c !! c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main() {
    int x = 42;
    char y[] = "10";
    
    // Céœ€è¦é¡¯å¼è½‰æ›
    int num_y = atoi(y);  // å­—ä¸²è½‰æ•´æ•¸
    char str_x[20];
    sprintf(str_x, "%d", x);  // æ•´æ•¸è½‰å­—ä¸²
    
    // æ²’æœ‰JavaScripté‚£æ¨£çš„è‡ªå‹•é¡å‹è½‰æ›
    printf("X: %d\n", x);
    printf("Y: %s\n", y);
    printf("è½‰æ›å¾Œçš„Y: %d\n", num_y);
    printf("è½‰æ›å¾Œçš„X: %s\n", str_x);
    
    // ä½¿ç”¨è½‰æ›å¾Œçš„å€¼é€²è¡Œç®—è¡“é‹ç®—
    int sum = x + num_y;
    int diff = x - num_y;
    int product = x * num_y;
    
    printf("å’Œ: %d\n", sum);
    printf("å·®: %d\n", diff);
    printf("ç©: %d\n", product);
    
    return 0;
}
```
</UniversalEditor>

## 8. è¨˜æ†¶é«”ç®¡ç†æœ€ä½³å¯¦è¸

### 8.1 å®‰å…¨è®Šæ•¸å®£å‘Š

<UniversalEditor title="å®‰å…¨è®Šæ•¸å¯¦è¸" compare={true}>
```javascript !! js
// JavaScript - é è¨­ç›¸å°å®‰å…¨
function safePractices() {
    // å§‹çµ‚åˆå§‹åŒ–è®Šæ•¸
    let count = 0;
    let name = "";
    let items = [];
    
    // å°ä¸æ‡‰æ”¹è®Šçš„å€¼ä½¿ç”¨const
    const MAX_SIZE = 100;
    const DEFAULT_NAME = "Unknown";
    
    // æª¢æŸ¥undefined/null
    let userInput = null;
    if (userInput === null || userInput === undefined) {
        userInput = DEFAULT_NAME;
    }
    
    console.log("å®‰å…¨å¯¦è¸:", count, name, items, userInput);
}

safePractices();
```

```c !! c
#include <stdio.h>
#include <string.h>

#define MAX_SIZE 100
#define DEFAULT_NAME "Unknown"

void safePractices() {
    // å§‹çµ‚åˆå§‹åŒ–è®Šæ•¸
    int count = 0;
    char name[50] = {0};  // é›¶åˆå§‹åŒ–
    int items[MAX_SIZE] = {0};
    
    // å°å¸¸æ•¸ä½¿ç”¨const
    const int max_count = 1000;
    const char* default_name = "Unknown";
    
    // æª¢æŸ¥ç©ºæŒ‡æ¨™
    char* user_input = NULL;
    if (user_input == NULL) {
        strcpy(name, default_name);
    } else {
        strncpy(name, user_input, sizeof(name) - 1);
        name[sizeof(name) - 1] = '\0';  // ç¢ºä¿ç©ºçµ‚æ­¢
    }
    
    printf("å®‰å…¨å¯¦è¸: count=%d, name=%s\n", count, name);
}

int main() {
    safePractices();
    return 0;
}
```
</UniversalEditor>

### 8.2 è¨˜æ†¶é«”å®‰å…¨æŒ‡å—

1. **å§‹çµ‚åˆå§‹åŒ–è®Šæ•¸**
2. **æª¢æŸ¥å‡½æ•¸è¿”å›å€¼**
3. **é©—è­‰é™£åˆ—é‚Šç•Œ**
4. **ä½¿ç”¨é©ç•¶çš„è³‡æ–™é¡å‹**
5. **é‡‹æ”¾åˆ†é…çš„è¨˜æ†¶é«”**
6. **é¿å…ç·©è¡å€æº¢ä½**
7. **ç›¡å¯èƒ½ä½¿ç”¨const**
8. **æª¢æŸ¥ç©ºæŒ‡æ¨™**

## 9. å¸¸è¦‹é™·é˜±å’Œè§£æ±ºæ–¹æ¡ˆ

### 9.1 æœªåˆå§‹åŒ–è®Šæ•¸

<UniversalEditor title="æœªåˆå§‹åŒ–è®Šæ•¸é™·é˜±" compare={true}>
```javascript !! js
// JavaScript - ä½¿ç”¨undefinedæ›´å®‰å…¨
function uninitializedExample() {
    let x;
    let y;
    
    // JavaScriptæä¾›å®‰å…¨é è¨­å€¼
    console.log("x:", x);  // undefined
    console.log("y:", y);  // undefined
    
    // åœ¨è¡¨é”å¼ä¸­ä½¿ç”¨æ˜¯å®‰å…¨çš„
    let sum = x + y;  // NaN (å®‰å…¨çµæœ)
    console.log("å’Œ:", sum);
}
```

```c !! c
#include <stdio.h>

void uninitializedExample() {
    int x;
    int y;
    
    // C - åŒ…å«åƒåœ¾å€¼
    printf("x: %d (åƒåœ¾å€¼)\n", x);
    printf("y: %d (åƒåœ¾å€¼)\n", y);
    
    // ä½¿ç”¨æœªåˆå§‹åŒ–è®Šæ•¸æ˜¯å±éšªçš„
    int sum = x + y;  // æœªå®šç¾©è¡Œç‚ºï¼
    printf("å’Œ: %d (æœªå®šç¾©è¡Œç‚º)\n", sum);
    
    // å®‰å…¨æ–¹æ³•
    int safe_x = 0;
    int safe_y = 0;
    int safe_sum = safe_x + safe_y;
    printf("å®‰å…¨å’Œ: %d\n", safe_sum);
}

int main() {
    uninitializedExample();
    return 0;
}
```
</UniversalEditor>

### 9.2 ç·©è¡å€æº¢ä½é é˜²

<UniversalEditor title="ç·©è¡å€æº¢ä½é é˜²" compare={true}>
```javascript !! js
// JavaScript - å—ä¿è­·å…å—ç·©è¡å€æº¢ä½
function bufferExample() {
    let str = "Hello";
    let arr = [1, 2, 3];
    
    // JavaScriptæä¾›é‚Šç•Œæª¢æŸ¥
    console.log(str[10]);  // undefined (å®‰å…¨)
    console.log(arr[10]);  // undefined (å®‰å…¨)
    
    // å®‰å…¨å­—ä¸²æ“ä½œ
    let newStr = str.substring(0, 10);  // å®‰å…¨å­å­—ä¸²
    console.log("å®‰å…¨å­å­—ä¸²:", newStr);
}
```

```c !! c
#include <stdio.h>
#include <string.h>

void bufferExample() {
    char str[] = "Hello";
    int arr[] = {1, 2, 3};
    
    // C - æ²’æœ‰è‡ªå‹•é‚Šç•Œæª¢æŸ¥
    // printf("%c", str[10]);  // ç·©è¡å€æº¢ä½ï¼
    // printf("%d", arr[10]);  // ç·©è¡å€æº¢ä½ï¼
    
    // å®‰å…¨å­—ä¸²æ“ä½œ
    char safe_str[20];
    strncpy(safe_str, str, sizeof(safe_str) - 1);
    safe_str[sizeof(safe_str) - 1] = '\0';  // ç¢ºä¿ç©ºçµ‚æ­¢
    
    printf("å®‰å…¨å­—ä¸²: %s\n", safe_str);
    
    // å®‰å…¨é™£åˆ—å­˜å–
    if (10 < sizeof(arr) / sizeof(arr[0])) {
        printf("é™£åˆ—å…ƒç´ : %d\n", arr[10]);
    } else {
        printf("ç´¢å¼•è¶Šç•Œ\n");
    }
}

int main() {
    bufferExample();
    return 0;
}
```
</UniversalEditor>

## 10. ä¸‹ä¸€æ­¥

åœ¨æŒæ¡è®Šæ•¸ã€é¡å‹å’Œè¨˜æ†¶é«”åŸºç¤å¾Œï¼Œä½ å°‡ï¼š

1. **ç†è§£Cçš„è¨˜æ†¶é«”æ¨¡å‹**: äº†è§£è®Šæ•¸å¦‚ä½•å„²å­˜å’Œå­˜å–
2. **æŒæ¡å„²å­˜æŒçºŒæ™‚é–“**: ç‚ºä¸åŒç”¨ä¾‹é¸æ“‡é©ç•¶çš„å„²å­˜
3. **ç·¨å¯«å®‰å…¨çš„Cç¨‹å¼ç¢¼**: é¿å…å¸¸è¦‹çš„è¨˜æ†¶é«”ç›¸é—œé™·é˜±
4. **æœ€ä½³åŒ–è¨˜æ†¶é«”ä½¿ç”¨**: ç†è§£å°é½Šå’Œé«˜æ•ˆè¨˜æ†¶é«”ä½ˆå±€
5. **é™¤éŒ¯è¨˜æ†¶é«”å•é¡Œ**: ä½¿ç”¨å·¥å…·è­˜åˆ¥å’Œä¿®å¾©è¨˜æ†¶é«”å•é¡Œ

**ä¸‹ä¸€æ¨¡çµ„**: æŒ‡æ¨™åŸºç¤ - æˆ‘å€‘å°‡æ·±å…¥æ¢è¨Cæœ€å¼·å¤§å’Œæœ€å…·æŒ‘æˆ°æ€§çš„ç‰¹æ€§ï¼šæŒ‡æ¨™å’Œè¨˜æ†¶é«”ä½å€ã€‚

æº–å‚™å¥½æ¢ç´¢æŒ‡æ¨™çš„ä¸–ç•Œäº†å—ï¼Ÿè®“æˆ‘å€‘ç¹¼çºŒä¸‹ä¸€å€‹åŸºç¤æ¦‚å¿µï¼ 